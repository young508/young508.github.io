<!DOCTYPE html>


<html lang="zh">


<head>
  <meta charset="utf-8" />
   
  <meta name="keywords" content="hexo blog" />
   
  <meta name="description" content="young blog write my world" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />
  <title>
     young blog write my world
  </title>
  <meta name="generator" content="hexo-theme-ayer">
  
  <link rel="shortcut icon" href="/favicon.ico" />
  
  
<link rel="stylesheet" href="/dist/main.css">

  
<link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/Shen-Yu/cdn/css/remixicon.min.css">

  
<link rel="stylesheet" href="/css/custom.css">

  
  
<script src="https://cdn.jsdelivr.net/npm/pace-js@1.0.2/pace.min.js"></script>

  
  

  

</head>

</html>

<body>
  <div id="app">
    
      
    <main class="content on">
      
<section class="cover">
    
      
      <a class="forkMe" href="https://github.com/young508"
        target="_blank"><img width="149" height="149" src="/images/forkme.png"
          class="attachment-full size-full" alt="Fork me on GitHub" data-recalc-dims="1"></a>
    
  <div class="cover-frame">
    <div class="bg-box">
      <img src="/images/cover1.jpg" alt="image frame" />
    </div>
    <div class="cover-inner text-center text-white">
      <h1><a href="/">YOUNG BLOG</a></h1>
      <div id="subtitle-box">
        
        <span id="subtitle"></span>
        
      </div>
      <div>
        
      </div>
    </div>
  </div>
  <div class="cover-learn-more">
    <a href="javascript:void(0)" class="anchor"><i class="ri-arrow-down-line"></i></a>
  </div>
</section>



<script src="https://cdn.jsdelivr.net/npm/typed.js@2.0.11/lib/typed.min.js"></script>


<!-- Subtitle -->

  <script>
    try {
      var typed = new Typed("#subtitle", {
        strings: ['é¢æœå¤§æµ·ï¼Œæ˜¥æš–èŠ±å¼€', 'æ„¿ä½ ä¸€ç”ŸåŠªåŠ›ï¼Œä¸€ç”Ÿè¢«çˆ±', 'æƒ³è¦çš„éƒ½æ‹¥æœ‰ï¼Œå¾—ä¸åˆ°çš„éƒ½é‡Šæ€€'],
        startDelay: 0,
        typeSpeed: 200,
        loop: true,
        backSpeed: 100,
        showCursor: true
      });
    } catch (err) {
      console.log(err)
    }
  </script>
  
<div id="main">
  <section class="outer">
  
  

<div class="notice" style="margin-top:50px">
    <i class="ri-heart-fill"></i>
    <div class="notice-content" id="broad"></div>
</div>
<script type="text/javascript">
    fetch('https://v1.hitokoto.cn')
        .then(response => response.json())
        .then(data => {
            document.getElementById("broad").innerHTML = data.hitokoto;
        })
        .catch(console.error)
</script>

<style>
    .notice {
        padding: 20px;
        border: 1px dashed #e6e6e6;
        color: #969696;
        position: relative;
        display: inline-block;
        width: 100%;
        background: #fbfbfb50;
        border-radius: 10px;
    }

    .notice i {
        float: left;
        color: #999;
        font-size: 16px;
        padding-right: 10px;
        vertical-align: middle;
        margin-top: -2px;
    }

    .notice-content {
        display: initial;
        vertical-align: middle;
    }
</style>
  
  <article class="articles">
    
    
    
    
    <article
  id="post-Java-JVM-åŸºç¡€æ¦‚å¿µ"
  class="article article-type-post"
  itemscope
  itemprop="blogPost"
  data-scroll-reveal
>
  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2020/11/25/Java-JVM-%E5%9F%BA%E7%A1%80%E6%A6%82%E5%BF%B5/"
    >Java JVMè§£æ</a> 
</h2>
 

    </header>
     
    <div class="article-meta">
      <a href="/2020/11/25/Java-JVM-%E5%9F%BA%E7%A1%80%E6%A6%82%E5%BF%B5/" class="article-date">
  <time datetime="2020-11-25T03:19:28.000Z" itemprop="datePublished">2020-11-25</time>
</a> 
  <div class="article-category">
    <a class="article-category-link" href="/categories/Java/">Java</a> / <a class="article-category-link" href="/categories/Java/JVM/">JVM</a>
  </div>
   
    </div>
      
    <div class="article-entry" itemprop="articleBody">
       
  <p><strong>æ–‡ç« å†…å®¹ä¸»è¦æ˜¯å­¦ä¹ ç¬”è®°ï¼Œæ¥æºï¼š<a target="_blank" rel="noopener" href="https://www.pdai.tech/md/java/jvm/java-jvm-class.html">https://www.pdai.tech/md/java/jvm/java-jvm-class.html</a></strong></p>
<h1 id="JVM-ç›¸å…³çŸ¥è¯†ä½“ç³»"><a href="#JVM-ç›¸å…³çŸ¥è¯†ä½“ç³»" class="headerlink" title="JVM ç›¸å…³çŸ¥è¯†ä½“ç³»"></a>JVM ç›¸å…³çŸ¥è¯†ä½“ç³»</h1> 
      <!-- reward -->
      
    </div>
    

    <!-- copyright -->
    
    <footer class="article-footer">
       
    </footer>
  </div>

    
 
   
</article>

    
    <article
  id="post-Java-JVM"
  class="article article-type-post"
  itemscope
  itemprop="blogPost"
  data-scroll-reveal
>
  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2020/11/25/Java-JVM/"
    >Java JVM</a> 
</h2>
 

    </header>
     
    <div class="article-meta">
      <a href="/2020/11/25/Java-JVM/" class="article-date">
  <time datetime="2020-11-25T02:57:16.000Z" itemprop="datePublished">2020-11-25</time>
</a> 
  <div class="article-category">
    <a class="article-category-link" href="/categories/Java%E8%AF%AD%E6%B3%95/">Javaè¯­æ³•</a>
  </div>
   
    </div>
      
    <div class="article-entry" itemprop="articleBody">
       
  <h1 id="JVM-ç›¸å…³çŸ¥è¯†ä½“ç³»"><a href="#JVM-ç›¸å…³çŸ¥è¯†ä½“ç³»" class="headerlink" title="JVM ç›¸å…³çŸ¥è¯†ä½“ç³»"></a>JVM ç›¸å…³çŸ¥è¯†ä½“ç³»</h1><blockquote>
<p>æœ¬æ–‡æ˜¯æ„å»ºJVMæ ¸å¿ƒçŸ¥è¯†ç‚¹å…¨å±€çŸ¥è¯†ä½“ç³»</p>
</blockquote>
<h2 id="çŸ¥è¯†ä½“ç³»"><a href="#çŸ¥è¯†ä½“ç³»" class="headerlink" title="çŸ¥è¯†ä½“ç³»"></a>çŸ¥è¯†ä½“ç³»</h2><p><img src="../../../../images/07/10.png" alt="Image text"></p>
<h2 id="å­¦ä¹ è¦ç‚¹"><a href="#å­¦ä¹ è¦ç‚¹" class="headerlink" title="å­¦ä¹ è¦ç‚¹"></a>å­¦ä¹ è¦ç‚¹</h2><blockquote>
<p>ä¸åŒçš„è™šæ‹Ÿæœºå®ç°æ–¹å¼ä¸Šä¹Ÿæœ‰å·®åˆ«ï¼Œå¦‚æœæ²¡æœ‰ç‰¹åˆ«æŒ‡å‡ºï¼Œè¿™é‡Œçš„JVMæŒ‡çš„æ˜¯sunçš„HotSpotï¼›ä¸åŒçš„JDKç‰ˆæœ¬ç•¥æœ‰å·®åˆ«ï¼Œè¿™é‡Œä¸»è¦ä»¥1.8</p>
</blockquote>
<p><img src="../../../../images/07/11.png" alt="Image text"></p>
<h1 id="JVM-åŸºç¡€-ç±»å­—èŠ‚ç è¯¦è§£"><a href="#JVM-åŸºç¡€-ç±»å­—èŠ‚ç è¯¦è§£" class="headerlink" title="JVM åŸºç¡€ - ç±»å­—èŠ‚ç è¯¦è§£"></a>JVM åŸºç¡€ - ç±»å­—èŠ‚ç è¯¦è§£</h1><h2 id="å¤šè¯­è¨€ç¼–è¯‘ä¸ºå­—èŠ‚ç åœ¨JVMè¿è¡Œ"><a href="#å¤šè¯­è¨€ç¼–è¯‘ä¸ºå­—èŠ‚ç åœ¨JVMè¿è¡Œ" class="headerlink" title="å¤šè¯­è¨€ç¼–è¯‘ä¸ºå­—èŠ‚ç åœ¨JVMè¿è¡Œ"></a>å¤šè¯­è¨€ç¼–è¯‘ä¸ºå­—èŠ‚ç åœ¨JVMè¿è¡Œ</h2><p>è®¡ç®—æœºæ˜¯ä¸èƒ½ç›´æ¥è¿è¡Œjavaä»£ç çš„ï¼Œå¿…é¡»è¦å…ˆè¿è¡Œjavaè™šæ‹Ÿæœºï¼Œå†ç”±javaè™šæ‹Ÿæœºè¿è¡Œç¼–è¯‘åçš„javaä»£ç ã€‚è¿™ä¸ªç¼–è¯‘åçš„javaä»£ç ï¼Œå°±æ˜¯æœ¬æ–‡è¦ä»‹ç»çš„javå­—èŠ‚ç ã€‚</p>
<p>ä¸ºä»€ä¹ˆjvmä¸èƒ½ç›´æ¥è¿è¡Œjavaä»£ç å‘¢ï¼Œè¿™æ˜¯å› ä¸ºåœ¨cpuå±‚é¢çœ‹æ¥è®¡ç®—æœºä¸­æ‰€æœ‰çš„æ“ä½œéƒ½æ˜¯ä¸€ä¸ªä¸ªæŒ‡ä»¤çš„è¿è¡Œæ±‡é›†è€Œæˆï¼Œjavaæ˜¯é«˜çº§è¯­è¨€ï¼Œåªæœ‰äººç±»æ‰èƒ½ç†è§£å…¶é€»è¾‘ï¼Œè®¡ç®—æœºæ˜¯æ— æ³•è¯†åˆ«çš„ã€‚æ‰€ä»¥javaä»£ç å¿…é¡»è¦å…ˆç¼–è¯‘æˆå­—èŠ‚ç æ–‡ä»¶ï¼Œjvmæ‰èƒ½æ­£ç¡®è¯†åˆ«ä»£ç è½¬æ¢åçš„æŒ‡ä»¤å¹¶å°†å…¶è¿è¡Œã€‚</p>
<ul>
<li>javaä»£ç é—´æ¥ç¿»è¯‘æˆå­—èŠ‚ç ï¼Œå‚¨å­˜å­—èŠ‚ç çš„æ–‡ä»¶å†äº¤ç”±è¿è¡Œåœ¨ä¸åŒå¹³å°ä¸Šçš„jvmè™šæ‹Ÿæœºå»è¯»å–æ‰§è¡Œï¼Œä»è€Œå®ç°ä¸€æ¬¡ç¼–å†™ï¼Œåˆ°å¤„è¿è¡Œçš„ç›®çš„ã€‚</li>
<li>jvmä¹Ÿä¸å†åªæ”¯æŒjavaï¼Œç”±æ­¤è¡ç”Ÿå‡ºäº†è®¸å¤šåŸºäºjvmçš„ç¼–ç¨‹è¯­è¨€ï¼Œæ¯”å¦‚groovyï¼Œscalaï¼Œkotlinç­‰ç­‰ã€‚</li>
</ul>
<p><img src="../../../../images/07/12.png" alt="Image text"></p>
<h2 id="Javaå­—èŠ‚ç æ–‡ä»¶"><a href="#Javaå­—èŠ‚ç æ–‡ä»¶" class="headerlink" title="Javaå­—èŠ‚ç æ–‡ä»¶"></a>Javaå­—èŠ‚ç æ–‡ä»¶</h2><p>classæ–‡ä»¶æœ¬è´¨ä¸Šä¸€ä¸ªä»¥8ä½å­—èŠ‚ä¸ºåŸºç¡€å•ä½çš„äºŒè¿›åˆ¶æµï¼Œå„ä¸ªæ•°æ®é¡¹ç›®æŒ‰ç…§ä¸¥æ ¼é¡ºåºç´§å‡‘çš„æ’åˆ—åœ¨classæ–‡ä»¶ä¸­ã€‚jvmæ ¹æ®å…¶ç‰¹å®šçš„è§„åˆ™è§£æè¯¥äºŒè¿›åˆ¶æ•°æ®ï¼Œä»è€Œå¾—åˆ°ç›¸å…³ä¿¡æ¯ã€‚</p>
<p>classæ–‡ä»¶é‡‡ç”¨ä¸€ç§ä¼ªç»“æ„æ¥å­˜å‚¨æ•°æ®ï¼Œå®ƒæœ‰ä¸¤ç§ç±»å‹ï¼šæ— ç¬¦å·æ•°å’Œè¡¨ã€‚è¿™é‡Œæš‚ä¸è¯¦ç»†çš„è®²ã€‚</p>
<p>æœ¬æ–‡å°†é€šè¿‡ç®€å•çš„javaä¾‹å­ç¼–è¯‘åçš„æ–‡ä»¶æ¥ç†è§£ã€‚</p>
<h3 id="classæ–‡ä»¶çš„ç»“æ„å±æ€§"><a href="#classæ–‡ä»¶çš„ç»“æ„å±æ€§" class="headerlink" title="classæ–‡ä»¶çš„ç»“æ„å±æ€§"></a>classæ–‡ä»¶çš„ç»“æ„å±æ€§</h3><p>åœ¨ç†è§£ä¹‹å‰å…ˆä»æ•´ä½“çœ‹ä¸‹javaå­—èŠ‚ç æ–‡ä»¶åŒ…å«äº†å“ªäº›ç±»å‹çš„æ•°æ®ã€‚</p>
<p><img src="../../../../images/07/13.png" alt="Image text"></p>
<h3 id="ä»ä¸€ä¸ªä¾‹å­å¼€å§‹"><a href="#ä»ä¸€ä¸ªä¾‹å­å¼€å§‹" class="headerlink" title="ä»ä¸€ä¸ªä¾‹å­å¼€å§‹"></a>ä»ä¸€ä¸ªä¾‹å­å¼€å§‹</h3><p>ä¸‹é¢ä»¥ä¸€ä¸ªç®€å•çš„ä¾‹å­æ¥é€æ­¥è®²è§£å­—èŠ‚ç ã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F;Main.java</span><br><span class="line">public class Main &#123;</span><br><span class="line">    </span><br><span class="line">    private int m;</span><br><span class="line">    </span><br><span class="line">    public int inc() &#123;</span><br><span class="line">        return m + 1;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>é€šè¿‡ä»¥ä¸‹å‘½ä»¤ï¼Œå¯ä»¥åœ¨å½“å‰æ‰€åœ¨è·¯å¾„ä¸‹ç”Ÿæˆä¸€ä¸ªMain.classæ–‡ä»¶</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">javac Main.java</span><br></pre></td></tr></table></figure>

<p>ä»¥æ–‡æœ¬çš„å½¢å¼æ‰“å¼€ç”Ÿæˆçš„classæ–‡ä»¶ï¼Œå†…å®¹å¦‚ä¸‹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">cafe babe 0000 0034 0013 0a00 0400 0f09</span><br><span class="line">0003 0010 0700 1107 0012 0100 016d 0100</span><br><span class="line">0149 0100 063c 696e 6974 3e01 0003 2829</span><br><span class="line">5601 0004 436f 6465 0100 0f4c 696e 654e</span><br><span class="line">756d 6265 7254 6162 6c65 0100 0369 6e63</span><br><span class="line">0100 0328 2949 0100 0a53 6f75 7263 6546</span><br><span class="line">696c 6501 0009 4d61 696e 2e6a 6176 610c</span><br><span class="line">0007 0008 0c00 0500 0601 0010 636f 6d2f</span><br><span class="line">7268 7974 686d 372f 4d61 696e 0100 106a</span><br><span class="line">6176 612f 6c61 6e67 2f4f 626a 6563 7400</span><br><span class="line">2100 0300 0400 0000 0100 0200 0500 0600</span><br><span class="line">0000 0200 0100 0700 0800 0100 0900 0000</span><br><span class="line">1d00 0100 0100 0000 052a b700 01b1 0000</span><br><span class="line">0001 000a 0000 0006 0001 0000 0003 0001</span><br><span class="line">000b 000c 0001 0009 0000 001f 0002 0001</span><br><span class="line">0000 0007 2ab4 0002 0460 ac00 0000 0100</span><br><span class="line">0a00 0000 0600 0100 0000 0800 0100 0d00</span><br><span class="line">0000 0200 0e</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<ul>
<li><p>æ–‡ä»¶å¼€å¤´çš„4ä¸ªå­—èŠ‚(â€œcafe babeâ€)ç§°ä¹‹ä¸º <code>é­”æ•°</code>ï¼Œå”¯æœ‰ä»¥â€cafe babeâ€å¼€å¤´çš„classæ–‡ä»¶æ–¹å¯è¢«è™šæ‹Ÿæœºæ‰€æ¥å—ï¼Œè¿™4ä¸ªå­—èŠ‚å°±æ˜¯å­—èŠ‚ç æ–‡ä»¶çš„èº«ä»½è¯†åˆ«ã€‚</p>
</li>
<li><p>0000æ˜¯ç¼–è¯‘å™¨jdkç‰ˆæœ¬çš„æ¬¡ç‰ˆæœ¬å·0ï¼Œ0034è½¬åŒ–ä¸ºåè¿›åˆ¶æ˜¯52,æ˜¯ä¸»ç‰ˆæœ¬å·ï¼Œjavaçš„ç‰ˆæœ¬å·ä»45å¼€å§‹ï¼Œé™¤1.0å’Œ1.1éƒ½æ˜¯ä½¿ç”¨45.xå¤–,ä»¥åæ¯å‡ä¸€ä¸ªå¤§ç‰ˆæœ¬ï¼Œç‰ˆæœ¬å·åŠ ä¸€ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œç¼–è¯‘ç”Ÿæˆè¯¥classæ–‡ä»¶çš„jdkç‰ˆæœ¬ä¸º1.8.0ã€‚</p>
</li>
<li><p>ç»§ç»­å¾€ä¸‹æ˜¯å¸¸é‡æ± â€¦ çŸ¥é“æ˜¯è¿™ä¹ˆåˆ†æçš„å°±å¯ä»¥äº†ï¼Œç„¶åæˆ‘ä»¬é€šè¿‡å·¥å…·åç¼–è¯‘å­—èŠ‚ç æ–‡ä»¶ç»§ç»­å»çœ‹ã€‚</p>
</li>
</ul>
<h3 id="åç¼–è¯‘å­—èŠ‚ç æ–‡ä»¶"><a href="#åç¼–è¯‘å­—èŠ‚ç æ–‡ä»¶" class="headerlink" title="åç¼–è¯‘å­—èŠ‚ç æ–‡ä»¶"></a>åç¼–è¯‘å­—èŠ‚ç æ–‡ä»¶</h3><blockquote>
<p>ä½¿ç”¨åˆ°javaå†…ç½®çš„ä¸€ä¸ªåç¼–è¯‘å·¥å…·javapå¯ä»¥åç¼–è¯‘å­—èŠ‚ç æ–‡ä»¶ï¼Œç”¨æ³•ï¼šjavap <options> <classes></p>
</blockquote>
<p>å…¶ä¸­<options>é€‰é¡¹åŒ…æ‹¬ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">-help  --help  -?        è¾“å‡ºæ­¤ç”¨æ³•æ¶ˆæ¯</span><br><span class="line">-version                 ç‰ˆæœ¬ä¿¡æ¯</span><br><span class="line">-v  -verbose             è¾“å‡ºé™„åŠ ä¿¡æ¯</span><br><span class="line">-l                       è¾“å‡ºè¡Œå·å’Œæœ¬åœ°å˜é‡è¡¨</span><br><span class="line">-public                  ä»…æ˜¾ç¤ºå…¬å…±ç±»å’Œæˆå‘˜</span><br><span class="line">-protected               æ˜¾ç¤ºå—ä¿æŠ¤çš„&#x2F;å…¬å…±ç±»å’Œæˆå‘˜</span><br><span class="line">-package                 æ˜¾ç¤ºç¨‹åºåŒ…&#x2F;å—ä¿æŠ¤çš„&#x2F;å…¬å…±ç±»</span><br><span class="line">                         å’Œæˆå‘˜ (é»˜è®¤)</span><br><span class="line">-p  -private             æ˜¾ç¤ºæ‰€æœ‰ç±»å’Œæˆå‘˜</span><br><span class="line">-c                       å¯¹ä»£ç è¿›è¡Œåæ±‡ç¼–</span><br><span class="line">-s                       è¾“å‡ºå†…éƒ¨ç±»å‹ç­¾å</span><br><span class="line">-sysinfo                 æ˜¾ç¤ºæ­£åœ¨å¤„ç†çš„ç±»çš„</span><br><span class="line">                         ç³»ç»Ÿä¿¡æ¯ (è·¯å¾„, å¤§å°, æ—¥æœŸ, MD5 æ•£åˆ—)</span><br><span class="line">-constants               æ˜¾ç¤ºæœ€ç»ˆå¸¸é‡</span><br><span class="line">-classpath &lt;path&gt;        æŒ‡å®šæŸ¥æ‰¾ç”¨æˆ·ç±»æ–‡ä»¶çš„ä½ç½®</span><br><span class="line">-cp &lt;path&gt;               æŒ‡å®šæŸ¥æ‰¾ç”¨æˆ·ç±»æ–‡ä»¶çš„ä½ç½®</span><br><span class="line">-bootclasspath &lt;path&gt;    è¦†ç›–å¼•å¯¼ç±»æ–‡ä»¶çš„ä½ç½®</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>è¾“å…¥å‘½ä»¤ javap -v -p Main.class æŸ¥çœ‹è¾“å‡ºå†…å®¹</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br></pre></td><td class="code"><pre><span class="line">Classfile &#x2F;E:&#x2F;JavaCode&#x2F;TestProj&#x2F;out&#x2F;production&#x2F;TestProj&#x2F;com&#x2F;rhythm7&#x2F;Main.class</span><br><span class="line">  Last modified 2018-4-7; size 362 bytes</span><br><span class="line">  MD5 checksum 4aed8540b098992663b7ba08c65312de</span><br><span class="line">  Compiled from &quot;Main.java&quot;</span><br><span class="line">public class com.rhythm7.Main</span><br><span class="line">  minor version: 0</span><br><span class="line">  major version: 52</span><br><span class="line">  flags: ACC_PUBLIC, ACC_SUPER</span><br><span class="line">Constant pool:</span><br><span class="line">   #1 &#x3D; Methodref          #4.#18         &#x2F;&#x2F; java&#x2F;lang&#x2F;Object.&quot;&lt;init&gt;&quot;:()V</span><br><span class="line">   #2 &#x3D; Fieldref           #3.#19         &#x2F;&#x2F; com&#x2F;rhythm7&#x2F;Main.m:I</span><br><span class="line">   #3 &#x3D; Class              #20            &#x2F;&#x2F; com&#x2F;rhythm7&#x2F;Main</span><br><span class="line">   #4 &#x3D; Class              #21            &#x2F;&#x2F; java&#x2F;lang&#x2F;Object</span><br><span class="line">   #5 &#x3D; Utf8               m</span><br><span class="line">   #6 &#x3D; Utf8               I</span><br><span class="line">   #7 &#x3D; Utf8               &lt;init&gt;</span><br><span class="line">   #8 &#x3D; Utf8               ()V</span><br><span class="line">   #9 &#x3D; Utf8               Code</span><br><span class="line">  #10 &#x3D; Utf8               LineNumberTable</span><br><span class="line">  #11 &#x3D; Utf8               LocalVariableTable</span><br><span class="line">  #12 &#x3D; Utf8               this</span><br><span class="line">  #13 &#x3D; Utf8               Lcom&#x2F;rhythm7&#x2F;Main;</span><br><span class="line">  #14 &#x3D; Utf8               inc</span><br><span class="line">  #15 &#x3D; Utf8               ()I</span><br><span class="line">  #16 &#x3D; Utf8               SourceFile</span><br><span class="line">  #17 &#x3D; Utf8               Main.java</span><br><span class="line">  #18 &#x3D; NameAndType        #7:#8          &#x2F;&#x2F; &quot;&lt;init&gt;&quot;:()V</span><br><span class="line">  #19 &#x3D; NameAndType        #5:#6          &#x2F;&#x2F; m:I</span><br><span class="line">  #20 &#x3D; Utf8               com&#x2F;rhythm7&#x2F;Main</span><br><span class="line">  #21 &#x3D; Utf8               java&#x2F;lang&#x2F;Object</span><br><span class="line">&#123;</span><br><span class="line">  private int m;</span><br><span class="line">    descriptor: I</span><br><span class="line">    flags: ACC_PRIVATE</span><br><span class="line"></span><br><span class="line">  public com.rhythm7.Main();</span><br><span class="line">    descriptor: ()V</span><br><span class="line">    flags: ACC_PUBLIC</span><br><span class="line">    Code:</span><br><span class="line">      stack&#x3D;1, locals&#x3D;1, args_size&#x3D;1</span><br><span class="line">         0: aload_0</span><br><span class="line">         1: invokespecial #1                  &#x2F;&#x2F; Method java&#x2F;lang&#x2F;Object.&quot;&lt;init&gt;&quot;:()V</span><br><span class="line">         4: return</span><br><span class="line">      LineNumberTable:</span><br><span class="line">        line 3: 0</span><br><span class="line">      LocalVariableTable:</span><br><span class="line">        Start  Length  Slot  Name   Signature</span><br><span class="line">            0       5     0  this   Lcom&#x2F;rhythm7&#x2F;Main;</span><br><span class="line"></span><br><span class="line">  public int inc();</span><br><span class="line">    descriptor: ()I</span><br><span class="line">    flags: ACC_PUBLIC</span><br><span class="line">    Code:</span><br><span class="line">      stack&#x3D;2, locals&#x3D;1, args_size&#x3D;1</span><br><span class="line">         0: aload_0</span><br><span class="line">         1: getfield      #2                  &#x2F;&#x2F; Field m:I</span><br><span class="line">         4: iconst_1</span><br><span class="line">         5: iadd</span><br><span class="line">         6: ireturn</span><br><span class="line">      LineNumberTable:</span><br><span class="line">        line 8: 0</span><br><span class="line">      LocalVariableTable:</span><br><span class="line">        Start  Length  Slot  Name   Signature</span><br><span class="line">            0       7     0  this   Lcom&#x2F;rhythm7&#x2F;Main;</span><br><span class="line">&#125;</span><br><span class="line">SourceFile: &quot;Main.java&quot;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="å­—èŠ‚ç æ–‡ä»¶ä¿¡æ¯"><a href="#å­—èŠ‚ç æ–‡ä»¶ä¿¡æ¯" class="headerlink" title="å­—èŠ‚ç æ–‡ä»¶ä¿¡æ¯"></a>å­—èŠ‚ç æ–‡ä»¶ä¿¡æ¯</h3><p>å¼€å¤´çš„7è¡Œä¿¡æ¯åŒ…æ‹¬ï¼šClassæ–‡ä»¶å½“å‰æ‰€åœ¨ä½ç½®ï¼Œæœ€åä¿®æ”¹æ—¶é—´ï¼Œæ–‡ä»¶å¤§å°ï¼ŒMD5å€¼ï¼Œç¼–è¯‘è‡ªå“ªäº›æ–‡ä»¶ï¼Œç±»çš„æƒé™å®šåï¼Œjdkæ¬¡ç‰ˆæœ¬å·ï¼Œä¸»ç‰ˆæœ¬å·ã€‚</p>
<p>ç„¶åç´§æ¥è¿™çš„æ˜¯è¯¥ç´¯çš„è®¿é—®æ ‡å¿—ï¼šACC_PUBLIC,ACC_SUPERï¼Œè®¿é—®æ ‡å¿—çš„å«ä¹‰å¦‚ä¸‹ï¼š</p>
<table>
<thead>
<tr>
<th>æ ‡å¿—åç§°</th>
<th>æ ‡å¿—å€¼</th>
<th>å«ä¹‰</th>
</tr>
</thead>
<tbody><tr>
<td>ACC_PUBLIC</td>
<td>0x0001</td>
<td>æ˜¯å¦ä¸ºPublicç±»å‹</td>
</tr>
<tr>
<td>ACC_FINAL</td>
<td>0x0010</td>
<td>æ˜¯å¦è¢«å£°æ˜ä¸ºfinalï¼Œåªæœ‰ç±»å¯ä»¥è®¾ç½®</td>
</tr>
<tr>
<td>ACC_SUPER</td>
<td>0x0020</td>
<td>æ˜¯å¦å…è®¸ä½¿ç”¨invokespecialå­—èŠ‚ç æŒ‡ä»¤çš„æ–°è¯­ä¹‰ï¼</td>
</tr>
<tr>
<td>ACC_INTERFACE</td>
<td>0x0200</td>
<td>æ ‡å¿—è¿™æ˜¯ä¸€ä¸ªæ¥å£</td>
</tr>
<tr>
<td>ACC_ABSTRACT</td>
<td>0x0400</td>
<td>æ˜¯å¦ä¸ºabstractç±»å‹ï¼Œå¯¹äºæ¥å£æˆ–è€…æŠ½è±¡ç±»æ¥è¯´ï¼Œæ¬¡æ ‡å¿—å€¼ä¸ºçœŸï¼Œå…¶ä»–ç±»å‹ä¸ºå‡</td>
</tr>
<tr>
<td>ACC_SYNTHETIC</td>
<td>0x1000</td>
<td>æ ‡å¿—è¿™ä¸ªç±»å¹¶éç”±ç”¨æˆ·ä»£ç äº§ç”Ÿ</td>
</tr>
<tr>
<td>ACC_ANNOTATION</td>
<td>0x2000</td>
<td>æ ‡å¿—è¿™æ˜¯ä¸€ä¸ªæ³¨è§£</td>
</tr>
<tr>
<td>ACC_ENUM</td>
<td>0x4000</td>
<td>æ ‡å¿—è¿™æ˜¯ä¸€ä¸ªæšä¸¾</td>
</tr>
</tbody></table>
<h3 id="å¸¸é‡æ± "><a href="#å¸¸é‡æ± " class="headerlink" title="å¸¸é‡æ± "></a>å¸¸é‡æ± </h3><p>Constant pool :å¸¸é‡æ± </p>
<p>å¸¸é‡æ± å¯ä»¥ç†è§£ä¸ºClassæ–‡ä»¶ä¸­çš„èµ„æºä»“åº“ã€‚ä¸»è¦å­˜æ”¾çš„æ˜¯ä¸¤å¤§ç±»å¸¸é‡ï¼šå­—é¢é‡ï¼ˆLietralï¼‰å’Œç¬¦å·å¼•ç”¨ï¼ˆSymbolic Referencesï¼‰ã€‚å­—é¢é‡ç±»ä¼¼äºjavaä¸­çš„å¸¸é‡æ¦‚å¿µï¼Œå¦‚æ–‡æœ¬å­—ç¬¦ä¸²ï¼Œfinalå¸¸é‡ç­‰ï¼Œè€Œç¬¦å·å¼•ç”¨åˆ™å±äºç¼–è¯‘åŸç†æ–¹é¢çš„æ¦‚å¿µï¼ŒåŒ…æ‹¬ä»¥ä¸‹ä¸‰ç§ï¼š</p>
<ul>
<li>ç±»å’Œæ¥å£çš„å…¨é™å®šå</li>
<li>å­—æ®µçš„åç§°å’Œæè¿°ç¬¦å·</li>
<li>æ–¹æ³•çš„åç§°å’Œæè¿°ç¬¦</li>
</ul>
<p>ä¸åŒäºC/C++ï¼Œjvmæ˜¯åœ¨åŠ è½½classæ–‡ä»¶çš„æ—¶å€™æ‰è¿›è¡Œçš„åŠ¨æ€é“¾æ¥ï¼Œä¹Ÿå°±æ˜¯è¯´è¿™äº›å­å¼¹å’Œæ–¹æ³•ç¬¦å·å¼•ç”¨åªæœ‰åœ¨è¿è¡ŒæœŸè½¬æ¢åæ‰èƒ½è·å¾—çœŸæ­£çš„å†…å­˜å…¥å£åœ°å€ã€‚å½“è™šæ‹Ÿæœºè¿è¡Œæ—¶ï¼Œéœ€è¦ä»å¸¸é‡æ± è·å¾—å¯¹åº”çš„ç¬¦å·å¼•ç”¨ï¼Œå†åœ¨ç±»åˆ›å»ºæˆ–è€…è¿è¡Œæ—¶è§£æå¹¶ç¿»è¯‘åˆ°å…·ä½“çš„å†…å­˜åœ°å€ä¸­ã€‚ç›´æ¥é€šè¿‡åç¼–è¯‘æ–‡ä»¶æ¥æŸ¥çœ‹å­—èŠ‚ç å†…å®¹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">#1 &#x3D; Methodref          #4.#18         &#x2F;&#x2F; java&#x2F;lang&#x2F;Object.&quot;&lt;init&gt;&quot;:()V</span><br><span class="line">#4 &#x3D; Class              #21            &#x2F;&#x2F; java&#x2F;lang&#x2F;Object</span><br><span class="line">#7 &#x3D; Utf8               &lt;init&gt;</span><br><span class="line">#8 &#x3D; Utf8               ()V</span><br><span class="line">#18 &#x3D; NameAndType        #7:#8          &#x2F;&#x2F; &quot;&lt;init&gt;&quot;:()V</span><br><span class="line">#21 &#x3D; Utf8               java&#x2F;lang&#x2F;Object</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>ç¬¬ä¸€ä¸ªå¸¸é‡æ˜¯ä¸€ä¸ªæ–¹æ³•å®šä¹‰ï¼ŒæŒ‡å‘äº†ç¬¬4å’Œç¬¬18ä¸ªå¸¸é‡ã€‚ä»¥æ­¤ç±»æ¨æŸ¥çœ‹ç¬¬4å’Œç¬¬18ä¸ªå¸¸é‡ã€‚æœ€åå¯ä»¥æ‹¼æ¥æˆç¬¬ä¸€ä¸ªå¸¸é‡å³ä¾§çš„æ³¨é‡Šå†…å®¹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">java&#x2F;lang&#x2F;Object.&quot;&lt;init&gt;&quot;:()V</span><br></pre></td></tr></table></figure>

<p>è¿™æ®µå¯ä»¥ç†è§£ä¸ºè¯¥ç±»çš„å®ä¾‹æ„é€ å™¨çš„å£°æ˜ï¼Œç”±äºmainç±»æ²¡æœ‰é‡å†™æ„é€ æ–¹æ³•ï¼Œæ‰€ä»¥è°ƒç”¨çš„æ˜¯çˆ¶ç±»çš„æ„é€ æ–¹æ³•ã€‚æ­¤å¤„ä¹Ÿè¯´æ˜äº†mainç±»çš„ç›´æ¥çˆ¶ç±»æ˜¯Objectã€‚è¯¥æ–¹æ³•é»˜è®¤è¿”å›å€¼æ˜¯Vï¼Œä¹Ÿå°±æ˜¯voidï¼Œæ— è¿”å›å€¼ã€‚</p>
<p>ç¬¬äºŒä¸ªå¸¸é‡åŒç†å¯å¾—ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">#2 &#x3D; Fieldref           #3.#19         &#x2F;&#x2F; com&#x2F;rhythm7&#x2F;Main.m:I</span><br><span class="line">#3 &#x3D; Class              #20            &#x2F;&#x2F; com&#x2F;rhythm7&#x2F;Main</span><br><span class="line">#5 &#x3D; Utf8               m</span><br><span class="line">#6 &#x3D; Utf8               I</span><br><span class="line">#19 &#x3D; NameAndType        #5:#6          &#x2F;&#x2F; m:I</span><br><span class="line">#20 &#x3D; Utf8               com&#x2F;rhythm7&#x2F;Main</span><br></pre></td></tr></table></figure>

<p>å¤åˆ¶ä»£ç æ­¤å¤„å£°æ˜äº†ä¸€ä¸ªå­—æ®µmï¼Œç±»å‹ä¸ºIï¼ŒIå³æ˜¯intç±»å‹ã€‚å…³äºå­—èŠ‚ç çš„ç±»å‹å¯¹åº”å¦‚ä¸‹ï¼š</p>
<table>
<thead>
<tr>
<th>æ ‡è¯†å­—ç¬¦</th>
<th>å«ä¹‰</th>
</tr>
</thead>
<tbody><tr>
<td>B</td>
<td>åŸºæœ¬ç±»å‹byte</td>
</tr>
<tr>
<td>C</td>
<td>åŸºæœ¬ç±»å‹char</td>
</tr>
<tr>
<td>D</td>
<td>åŸºæœ¬ç±»å‹double</td>
</tr>
<tr>
<td>F</td>
<td>åŸºæœ¬ç±»å‹float</td>
</tr>
<tr>
<td>I</td>
<td>åŸºæœ¬ç±»å‹int</td>
</tr>
<tr>
<td>J</td>
<td>åŸºæœ¬ç±»å‹int</td>
</tr>
<tr>
<td>S</td>
<td>åŸºæœ¬ç±»å‹short</td>
</tr>
<tr>
<td>Z</td>
<td>åŸºæœ¬ç±»å‹boolean</td>
</tr>
<tr>
<td>V</td>
<td>ç‰¹æ®Šç±»å‹void</td>
</tr>
<tr>
<td>L</td>
<td>å¯¹è±¡ç±»å‹ï¼Œä»¥åˆ†å·ç»“å°¾ï¼Œå¦‚Ljava/lang/Object;</td>
</tr>
</tbody></table>
<p>å¯¹äºæ•°ç»„ç±»å‹ï¼Œæ¯ä¸€ä½ä½¿ç”¨ä¸€ä¸ªå‰ç½®çš„[å­—ç¬¦æ¥æè¿°ï¼Œå¦‚å®šä¹‰ä¸€ä¸ªjava.lang.String[]/[]ç±»å‹çš„äºŒç»´æ•°ç»„ï¼Œå°†è¢«è®°å½•ä¸º[[Ljava/lang/String;</p>
<h3 id="æ–¹æ³•è¡¨é›†åˆ"><a href="#æ–¹æ³•è¡¨é›†åˆ" class="headerlink" title="æ–¹æ³•è¡¨é›†åˆ"></a>æ–¹æ³•è¡¨é›†åˆ</h3><p>åœ¨å¸¸é‡æ± ä¹‹åçš„æ˜¯å¯¹ç±»å†…éƒ¨çš„æ–¹æ³•æè¿°ï¼Œåœ¨å­—èŠ‚ç ä¸­ä»¥è¡¨çš„é›†åˆå½¢å¼è¡¨ç°ï¼Œæš‚ä¸”ä¸ç®¡å­—èŠ‚ç æ–‡ä»¶çš„16è¿›åˆ¶æ–‡ä»¶å†…å®¹å¦‚ä½•ï¼Œæˆ‘ä»¬ç›´æ¥çœ‹åç¼–è¯‘åçš„å†…å®¹ã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">private int m;</span><br><span class="line">  descriptor: I</span><br><span class="line">  flags: ACC_PRIVATE</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>æ­¤å¤„å£°æ˜äº†ä¸€ä¸ªç§æœ‰å˜é‡mï¼Œç±»å‹ä¸ºintï¼Œè¿”å›å€¼ä¸ºintã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">public com.rhythm7.Main();</span><br><span class="line">   descriptor: ()V</span><br><span class="line">   flags: ACC_PUBLIC</span><br><span class="line">   Code:</span><br><span class="line">     stack&#x3D;1, locals&#x3D;1, args_size&#x3D;1</span><br><span class="line">        0: aload_0</span><br><span class="line">        1: invokespecial #1                  &#x2F;&#x2F; Method java&#x2F;lang&#x2F;Object.&quot;&lt;init&gt;&quot;:()V</span><br><span class="line">        4: return</span><br><span class="line">     LineNumberTable:</span><br><span class="line">       line 3: 0</span><br><span class="line">     LocalVariableTable:</span><br><span class="line">       Start  Length  Slot  Name   Signature</span><br><span class="line">           0       5     0  this   Lcom&#x2F;rhythm7&#x2F;Main;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>è¿™é‡Œæ˜¯æ„é€ æ–¹æ³•ï¼šMain()ï¼Œè¿”å›å€¼ä¸ºvoidï¼Œå…¬å¼€æ–¹æ³•ã€‚</p>
<p>codeå†…çš„ä¸»è¦å±æ€§ä¸ºï¼š</p>
<ul>
<li><strong>stack</strong>: æœ€å¤§æ“ä½œæ•°æ ˆï¼ŒJVMè¿è¡Œæ—¶ä¼šæ ¹æ®è¿™ä¸ªå€¼æ¥åˆ†é…æ ˆå¸§(Frame)ä¸­çš„æ“ä½œæ ˆæ·±åº¦,æ­¤å¤„ä¸º1</li>
<li><strong>locals</strong>: å±€éƒ¨å˜é‡æ‰€éœ€çš„å­˜å‚¨ç©ºé—´ï¼Œå•ä½ä¸ºSlot, Slotæ˜¯è™šæ‹Ÿæœºä¸ºå±€éƒ¨å˜é‡åˆ†é…å†…å­˜æ—¶æ‰€ä½¿ç”¨çš„æœ€å°å•ä½ï¼Œä¸º4ä¸ªå­—èŠ‚å¤§å°ã€‚æ–¹æ³•å‚æ•°(åŒ…æ‹¬å®ä¾‹æ–¹æ³•ä¸­çš„éšè—å‚æ•°this)ï¼Œæ˜¾ç¤ºå¼‚å¸¸å¤„ç†å™¨çš„å‚æ•°(try catchä¸­çš„catchå—æ‰€å®šä¹‰çš„å¼‚å¸¸)ï¼Œæ–¹æ³•ä½“ä¸­å®šä¹‰çš„å±€éƒ¨å˜é‡éƒ½éœ€è¦ä½¿ç”¨å±€éƒ¨å˜é‡è¡¨æ¥å­˜æ”¾ã€‚å€¼å¾—ä¸€æçš„æ˜¯ï¼Œlocalsçš„å¤§å°å¹¶ä¸ä¸€å®šç­‰äºæ‰€æœ‰å±€éƒ¨å˜é‡æ‰€å çš„Slotä¹‹å’Œï¼Œå› ä¸ºå±€éƒ¨å˜é‡ä¸­çš„Slotæ˜¯å¯ä»¥é‡ç”¨çš„ã€‚</li>
<li><strong>args_size</strong>: æ–¹æ³•å‚æ•°çš„ä¸ªæ•°ï¼Œè¿™é‡Œæ˜¯1ï¼Œå› ä¸ºæ¯ä¸ªå®ä¾‹æ–¹æ³•éƒ½ä¼šæœ‰ä¸€ä¸ªéšè—å‚æ•°this</li>
<li><strong>attribute_info</strong>: æ–¹æ³•ä½“å†…å®¹ï¼Œ0,1,4ä¸ºå­—èŠ‚ç â€è¡Œå·â€ï¼Œè¯¥æ®µä»£ç çš„æ„æ€æ˜¯å°†ç¬¬ä¸€ä¸ªå¼•ç”¨ç±»å‹æœ¬åœ°å˜é‡æ¨é€è‡³æ ˆé¡¶ï¼Œç„¶åæ‰§è¡Œè¯¥ç±»å‹çš„å®ä¾‹æ–¹æ³•ï¼Œä¹Ÿå°±æ˜¯å¸¸é‡æ± å­˜æ”¾çš„ç¬¬ä¸€ä¸ªå˜é‡ï¼Œä¹Ÿå°±æ˜¯æ³¨é‡Šé‡Œçš„â€java/lang/Object.â€â€ğŸ˜¦)Vâ€, ç„¶åæ‰§è¡Œè¿”å›è¯­å¥ï¼Œç»“æŸæ–¹æ³•ã€‚</li>
<li><strong>LineNumberTable</strong>: è¯¥å±æ€§çš„ä½œç”¨æ˜¯æè¿°æºç è¡Œå·ä¸å­—èŠ‚ç è¡Œå·(å­—èŠ‚ç åç§»é‡)ä¹‹é—´çš„å¯¹åº”å…³ç³»ã€‚å¯ä»¥ä½¿ç”¨ -g:none æˆ–-g:linesé€‰é¡¹æ¥å–æ¶ˆæˆ–è¦æ±‚ç”Ÿæˆè¿™é¡¹ä¿¡æ¯ï¼Œå¦‚æœé€‰æ‹©ä¸ç”ŸæˆLineNumberTableï¼Œå½“ç¨‹åºè¿è¡Œå¼‚å¸¸æ—¶å°†æ— æ³•è·å–åˆ°å‘ç”Ÿå¼‚å¸¸çš„æºç è¡Œå·ï¼Œä¹Ÿæ— æ³•æŒ‰ç…§æºç çš„è¡Œæ•°æ¥è°ƒè¯•ç¨‹åºã€‚</li>
<li><strong>LocalVariableTable</strong>: è¯¥å±æ€§çš„ä½œç”¨æ˜¯æè¿°å¸§æ ˆä¸­å±€éƒ¨å˜é‡ä¸æºç ä¸­å®šä¹‰çš„å˜é‡ä¹‹é—´çš„å…³ç³»ã€‚å¯ä»¥ä½¿ç”¨ -g:none æˆ– -g:varsæ¥å–æ¶ˆæˆ–ç”Ÿæˆè¿™é¡¹ä¿¡æ¯ï¼Œå¦‚æœæ²¡æœ‰ç”Ÿæˆè¿™é¡¹ä¿¡æ¯ï¼Œé‚£ä¹ˆå½“åˆ«äººå¼•ç”¨è¿™ä¸ªæ–¹æ³•æ—¶ï¼Œå°†æ— æ³•è·å–åˆ°å‚æ•°åç§°ï¼Œå–è€Œä»£ä¹‹çš„æ˜¯arg0, arg1è¿™æ ·çš„å ä½ç¬¦ã€‚ start è¡¨ç¤ºè¯¥å±€éƒ¨å˜é‡åœ¨å“ªä¸€è¡Œå¼€å§‹å¯è§ï¼Œlengthè¡¨ç¤ºå¯è§è¡Œæ•°ï¼ŒSlotä»£è¡¨æ‰€åœ¨å¸§æ ˆä½ç½®ï¼ŒNameæ˜¯å˜é‡åç§°ï¼Œç„¶åæ˜¯ç±»å‹ç­¾åã€‚</li>
</ul>
<p>åŒç†å¯ä»¥åˆ†æMainç±»ä¸­çš„å¦ä¸€ä¸ªæ–¹æ³•â€inc()â€:</p>
<p>æ–¹æ³•ä½“å†…çš„å†…å®¹æ˜¯ï¼šå°†thiså…¥æ ˆï¼Œè·å–å­—æ®µ#2å¹¶ç½®äºæ ˆé¡¶, å°†intç±»å‹çš„1å…¥æ ˆï¼Œå°†æ ˆå†…é¡¶éƒ¨çš„ä¸¤ä¸ªæ•°å€¼ç›¸åŠ ï¼Œè¿”å›ä¸€ä¸ªintç±»å‹çš„å€¼ã€‚</p>
<h3 id="kotlin-å‡½æ•°æ‰©å±•çš„å®ç°"><a href="#kotlin-å‡½æ•°æ‰©å±•çš„å®ç°" class="headerlink" title="kotlin å‡½æ•°æ‰©å±•çš„å®ç°"></a>kotlin å‡½æ•°æ‰©å±•çš„å®ç°</h3><p>kotlinæä¾›äº†æ‰©å±•å‡½æ•°çš„è¯­è¨€ç‰¹æ€§ï¼Œå€ŸåŠ©è¿™ä¸ªç‰¹æ€§ï¼Œæˆ‘ä»¬å¯ä»¥ç»™ä»»æ„å¯¹è±¡æ·»åŠ è‡ªå®šä¹‰æ–¹æ³•ã€‚</p>
<p>ä»¥ä¸‹ç¤ºä¾‹ä¸ºObjectæ·»åŠ â€sayHelloâ€æ–¹æ³•</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">&#x2F;&#x2F;SayHello.kt</span><br><span class="line">package com.rhythm7</span><br><span class="line"></span><br><span class="line">fun Any.sayHello() &#123;</span><br><span class="line">    println(&quot;Hello&quot;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>ç¼–è¯‘åï¼Œä½¿ç”¨javapæŸ¥çœ‹ç”ŸæˆSayHelloKt.classæ–‡ä»¶çš„å­—èŠ‚ç ã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">Classfile &#x2F;E:&#x2F;JavaCode&#x2F;TestProj&#x2F;out&#x2F;production&#x2F;TestProj&#x2F;com&#x2F;rhythm7&#x2F;SayHelloKt.class</span><br><span class="line">Last modified 2018-4-8; size 958 bytes</span><br><span class="line"> MD5 checksum 780a04b75a91be7605cac4655b499f19</span><br><span class="line"> Compiled from &quot;SayHello.kt&quot;</span><br><span class="line">public final class com.rhythm7.SayHelloKt</span><br><span class="line"> minor version: 0</span><br><span class="line"> major version: 52</span><br><span class="line"> flags: ACC_PUBLIC, ACC_FINAL, ACC_SUPER</span><br><span class="line">Constant pool:</span><br><span class="line">    &#x2F;&#x2F;çœç•¥å¸¸é‡æ± éƒ¨åˆ†å­—èŠ‚ç </span><br><span class="line">&#123;</span><br><span class="line"> public static final void sayHello(java.lang.Object);</span><br><span class="line">   descriptor: (Ljava&#x2F;lang&#x2F;Object;)V</span><br><span class="line">   flags: ACC_PUBLIC, ACC_STATIC, ACC_FINAL</span><br><span class="line">   Code:</span><br><span class="line">     stack&#x3D;2, locals&#x3D;2, args_size&#x3D;1</span><br><span class="line">        0: aload_0</span><br><span class="line">        1: ldc           #9                  &#x2F;&#x2F; String $receiver</span><br><span class="line">        3: invokestatic  #15                 &#x2F;&#x2F; Method kotlin&#x2F;jvm&#x2F;internal&#x2F;Intrinsics.checkParameterIsNotNull:(Ljava&#x2F;lang&#x2F;Object;Ljava&#x2F;lang&#x2F;String;)V</span><br><span class="line">        6: ldc           #17                 &#x2F;&#x2F; String Hello</span><br><span class="line">        8: astore_1</span><br><span class="line">        9: getstatic     #23                 &#x2F;&#x2F; Field java&#x2F;lang&#x2F;System.out:Ljava&#x2F;io&#x2F;PrintStream;</span><br><span class="line">       12: aload_1</span><br><span class="line">       13: invokevirtual #28                 &#x2F;&#x2F; Method java&#x2F;io&#x2F;PrintStream.println:(Ljava&#x2F;lang&#x2F;Object;)V</span><br><span class="line">       16: return</span><br><span class="line">     LocalVariableTable:</span><br><span class="line">       Start  Length  Slot  Name   Signature</span><br><span class="line">           0      17     0 $receiver   Ljava&#x2F;lang&#x2F;Object;</span><br><span class="line">     LineNumberTable:</span><br><span class="line">       line 4: 6</span><br><span class="line">       line 5: 16</span><br><span class="line">   RuntimeInvisibleParameterAnnotations:</span><br><span class="line">     0:</span><br><span class="line">       0: #7()</span><br><span class="line">&#125;</span><br><span class="line">SourceFile: &quot;SayHello.kt&quot;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>è§‚å¯Ÿå¤´éƒ¨å‘ç°,koltinä¸ºæ–‡ä»¶SayHelloç”Ÿæˆäº†ä¸€ä¸ªç±»ï¼Œç±»åâ€com.rhythm7.SayHelloKtâ€.</p>
<p>ç”±äºæˆ‘ä»¬ä¸€å¼€å§‹ç¼–å†™SayHello.ktæ—¶å¹¶ä¸å¸Œæœ›SayHelloæ˜¯ä¸€ä¸ªå¯å®ä¾‹åŒ–çš„å¯¹è±¡ç±»ï¼Œæ‰€ä»¥ï¼ŒSayHelloKtæ˜¯æ— æ³•è¢«å®ä¾‹åŒ–çš„ï¼ŒSayHelloKtå¹¶æ²¡æœ‰ä»»ä½•ä¸€ä¸ªæ„é€ å™¨ã€‚</p>
<p>å†è§‚å¯Ÿå”¯ä¸€çš„ä¸€ä¸ªæ–¹æ³•ï¼šå‘ç°Any.sayHello()çš„å…·ä½“å®ç°æ˜¯é™æ€ä¸å¯å˜æ–¹æ³•çš„å½¢å¼:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">public static final void sayHello(java.lang.Object);</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>æ‰€ä»¥å½“æˆ‘ä»¬åœ¨å…¶ä»–åœ°æ–¹ä½¿ç”¨Any.sayHello()æ—¶ï¼Œäº‹å®ä¸Šç­‰åŒäºè°ƒç”¨javaçš„SayHelloKt.sayHello(Object)æ–¹æ³•ã€‚</p>
<p>é¡ºä¾¿ä¸€æçš„æ˜¯ï¼Œå½“æ‰©å±•çš„æ–¹æ³•ä¸ºAnyæ—¶ï¼Œæ„å‘³ç€Anyæ˜¯non-nullçš„ï¼Œè¿™æ—¶ï¼Œç¼–è¯‘å™¨ä¼šåœ¨æ–¹æ³•ä½“çš„å¼€å¤´æ£€æŸ¥å‚æ•°çš„éç©ºï¼Œå³è°ƒç”¨ <code>kotlin.jvm.internal.Intrinsics.checkParameterIsNotNull(Object value, String paramName)</code> æ–¹æ³•æ¥æ£€æŸ¥ä¼ å…¥çš„Anyç±»å‹å¯¹è±¡æ˜¯å¦ä¸ºç©ºã€‚å¦‚æœæˆ‘ä»¬æ‰©å±•çš„å‡½æ•°ä¸º<code>Any?.sayHello()</code>ï¼Œé‚£ä¹ˆåœ¨ç¼–è¯‘åçš„æ–‡ä»¶ä¸­åˆ™ä¸ä¼šæœ‰è¿™æ®µå­—èŠ‚ç çš„å‡ºç°ã€‚</p>
<h1 id="JVM-åŸºç¡€-Java-ç±»åŠ è½½æœºåˆ¶"><a href="#JVM-åŸºç¡€-Java-ç±»åŠ è½½æœºåˆ¶" class="headerlink" title="JVM åŸºç¡€ - Java ç±»åŠ è½½æœºåˆ¶"></a>JVM åŸºç¡€ - Java ç±»åŠ è½½æœºåˆ¶</h1> 
      <!-- reward -->
      
    </div>
    

    <!-- copyright -->
    
    <footer class="article-footer">
       
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/JVM/" rel="tag">JVM</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E5%9F%BA%E7%A1%80/" rel="tag">åŸºç¡€</a></li></ul>

    </footer>
  </div>

    
 
   
</article>

    
    <article
  id="post-Java Objectç±»åˆ†æ"
  class="article article-type-post"
  itemscope
  itemprop="blogPost"
  data-scroll-reveal
>
  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2020/11/24/Java%20Object%E7%B1%BB%E5%88%86%E6%9E%90/"
    >Java Objectç±»åˆ†æ</a> 
</h2>
 

    </header>
     
    <div class="article-meta">
      <a href="/2020/11/24/Java%20Object%E7%B1%BB%E5%88%86%E6%9E%90/" class="article-date">
  <time datetime="2020-11-24T09:19:47.000Z" itemprop="datePublished">2020-11-24</time>
</a> 
  <div class="article-category">
    <a class="article-category-link" href="/categories/Java%E8%AF%AD%E6%B3%95/">Javaè¯­æ³•</a>
  </div>
   
    </div>
      
    <div class="article-entry" itemprop="articleBody">
       
  <blockquote>
<ul>
<li><p>ç†è®ºä¸ŠObjectç±»æ˜¯æ‰€æœ‰ç±»çš„çˆ¶ç±»ï¼Œå³ç›´æ¥æˆ–é—´æ¥çš„ç»§æ‰¿java.lang.Objectç±»ã€‚ç”±äºæ‰€æœ‰çš„ç±»éƒ½ç»§æ‰¿åœ¨Objectç±»ï¼Œå› æ­¤çœç•¥äº†extends Objectå…³é”®å­—ã€‚</p>
</li>
<li><p>è¯¥ç±»ä¸­ä¸»è¦æœ‰ä»¥ä¸‹æ–¹æ³•: toString(),getClass(),equals(),clone(),finalize(), å…¶ä¸­toString(),getClass(),equalsæ˜¯å…¶ä¸­æœ€é‡è¦çš„æ–¹æ³•ã€‚</p>
</li>
<li><p>Objectç±»ä¸­çš„getClass(),notify(),notifyAll(),wait()ç­‰æ–¹æ³•è¢«å®šä¹‰ä¸ºfinalç±»å‹ï¼Œå› æ­¤ä¸èƒ½é‡å†™ã€‚</p>
</li>
</ul>
</blockquote>
<h1 id="Objectæºç "><a href="#Objectæºç " class="headerlink" title="Objectæºç "></a>Objectæºç </h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line">public class Object &#123;</span><br><span class="line"></span><br><span class="line">    private static native void registerNatives();</span><br><span class="line">    static &#123;</span><br><span class="line">        registerNatives();</span><br><span class="line">    &#125;</span><br><span class="line">    public final native Class&lt;?&gt; getClass();</span><br><span class="line">    public native int hashCode();</span><br><span class="line">    public boolean equals(Object obj) &#123;</span><br><span class="line">        return (this &#x3D;&#x3D; obj);</span><br><span class="line">    &#125;</span><br><span class="line">    protected native Object clone() throws CloneNotSupportedException;</span><br><span class="line">    public String toString() &#123;</span><br><span class="line">        return getClass().getName() + &quot;@&quot; + Integer.toHexString(hashCode());</span><br><span class="line">    &#125;</span><br><span class="line">    public final native void notify();</span><br><span class="line">    public final native void notifyAll();</span><br><span class="line">    public final native void wait(long timeout) throws InterruptedException;</span><br><span class="line">    public final void wait(long timeout, int nanos) throws InterruptedException &#123;</span><br><span class="line">        if (timeout &lt; 0) &#123;</span><br><span class="line">            throw new IllegalArgumentException(&quot;timeout value is negative&quot;);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        if (nanos &lt; 0 || nanos &gt; 999999) &#123;</span><br><span class="line">            throw new IllegalArgumentException(</span><br><span class="line">                                &quot;nanosecond timeout value out of range&quot;);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        if (nanos &gt; 0) &#123;</span><br><span class="line">            timeout++;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        wait(timeout);</span><br><span class="line">    &#125;</span><br><span class="line">    public final void wait() throws InterruptedException &#123;</span><br><span class="line">        wait(0);</span><br><span class="line">    &#125;</span><br><span class="line">    protected void finalize() throws Throwable &#123; &#125;</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure>

<h2 id="è¯´æ˜"><a href="#è¯´æ˜" class="headerlink" title="è¯´æ˜"></a>è¯´æ˜</h2><p>Objectç±»ä¸­çš„å¤§éƒ¨åˆ†æ–¹æ³•éƒ½æ˜¯nativeæ–¹æ³•ï¼Œç”¨æ­¤å…³é”®å­—ä¿®é¥°çš„æ–¹æ³•æ˜¯Javaä¸­çš„æœ¬åœ°æ–¹æ³•ï¼Œä¸€èˆ¬æ˜¯ç”¨C/C++è¯­è¨€æ¥å®ç°ã€‚</p>
<h2 id="æ„é€ å‡½æ•°"><a href="#æ„é€ å‡½æ•°" class="headerlink" title="æ„é€ å‡½æ•°"></a>æ„é€ å‡½æ•°</h2><p>Objectç±»ä¸­æ²¡æœ‰æ˜¾ç¤ºçš„æä¾›æ„é€ æ–¹æ³•ï¼Œè¿™æ˜¯ç¼–è¯‘å™¨é»˜è®¤æä¾›çš„ã€‚</p>
<h2 id="registerNatives"><a href="#registerNatives" class="headerlink" title="registerNatives"></a>registerNatives</h2><p>å…¶ä¸»è¦ä½œç”¨æ˜¯å°†C/C++ä¸­çš„æ–¹æ³•æ˜ å°„åˆ°Javaä¸­çš„nativeæ–¹æ³•ï¼Œå®ç°æ–¹æ³•å‘½åçš„è§£è€¦ã€‚å‡½æ•°çš„æ‰§è¡Œæ˜¯åœ¨é™æ€ä»£ç å—ä¸­æ‰§è¡Œçš„ï¼Œåœ¨ç±»é¦–æ¬¡è¿›è¡ŒåŠ è½½çš„æ—¶å€™æ‰§è¡Œã€‚</p>
<h2 id="getClass"><a href="#getClass" class="headerlink" title="getClass"></a>getClass</h2><p>å¯ä»¥çœ‹åˆ°æ–¹æ³•ç”¨finalï¼Œè¯´æ˜æ­¤æ–¹æ³•ä¸èƒ½è¢«é‡å†™ã€‚æ­¤æ–¹æ³•è¿”å›ç±»è¿è¡Œæ—¶çš„ç±»å‹</p>
<h2 id="hashCode"><a href="#hashCode" class="headerlink" title="hashCode"></a>hashCode</h2><p>è¿”å›å¯¹è±¡çš„å“ˆå¸Œç ï¼Œæ˜¯ä¸€ä¸ªæ•´æ•°ã€‚</p>
<p>åœ¨å®é™…ä½¿ç”¨ä¸­ï¼Œè¦å°½é‡ä¿è¯å¯¹äºä¸åŒçš„å¯¹è±¡äº§ç”Ÿä¸åŒçš„å“ˆå¸Œç ã€‚hashCodeçš„å…¸å‹å®ç°æ˜¯å°†å¯¹è±¡çš„å†…éƒ¨åœ°å€è½¬ä¸ºä¸€ä¸ªæ•´æ•°ï¼Œä½†æ˜¯è¿™ç§å®ç°æŠ€æœ¯ä¸æ˜¯Javaè¯­è¨€å¿…é¡»è¦é‡‡ç”¨çš„ã€‚</p>
<h2 id="equals"><a href="#equals" class="headerlink" title="equals"></a>equals</h2><p>è¿™é‡Œå°±ç”¨åˆ°äº† == ï¼Œæ¯”è¾ƒçš„æ˜¯è¿™ä¸¤ä¸ªå¼•ç”¨å­˜çš„æ˜¯å¦æ˜¯åŒä¸€åœ°å€ã€‚</p>
<h2 id="clone"><a href="#clone" class="headerlink" title="clone"></a>clone</h2><p>Object clone() æ–¹æ³•ç”¨äºåˆ›å»ºå¹¶è¿”å›ä¸€ä¸ªå¯¹è±¡çš„æ‹·è´ã€‚æ˜¯nativeæ–¹æ³•</p>
<p>åœ¨å¯¹è¯¥æ–¹æ³•é‡å†™çš„æ—¶å€™ï¼Œå¿…é¡»è¦ç»§æ‰¿Cloneableæ¥å£ï¼Œå¹¶ä¸”è°ƒç ”super.clone</p>
<p>è¿™é‡Œçš„clone æ–¹æ³•æ˜¯æµ…æ‹·è´ï¼Œå¯¹è±¡å†…<strong>å±æ€§å¼•ç”¨</strong>çš„å¯¹è±¡åªä¼šæ‹·è´å¼•ç”¨åœ°å€ï¼Œè€Œä¸ä¼šå°†å¼•ç”¨çš„å¯¹è±¡é‡æ–°åˆ†é…å†…å­˜ï¼Œç›¸å¯¹åº”çš„æ·±æ‹·è´åˆ™ä¼šè¿å¼•ç”¨çš„å¯¹è±¡ä¹Ÿé‡æ–°åˆ›å»ºã€‚</p>
<h3 id="æµ…æ‹·è´"><a href="#æµ…æ‹·è´" class="headerlink" title="æµ…æ‹·è´"></a>æµ…æ‹·è´</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Subject</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Subject</span><span class="params">(String name)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getName</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setName</span><span class="params">(String name)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">toString</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;[Subject: &quot;</span> + <span class="keyword">this</span>.hashCode() + <span class="string">&quot;,name:&quot;</span> + name + <span class="string">&quot;]&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Student</span> <span class="keyword">implements</span> <span class="title">Cloneable</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//å¼•ç”¨ç±»å‹</span></span><br><span class="line">    <span class="keyword">private</span> Subject subject;</span><br><span class="line">    <span class="comment">//åŸºç¡€æ•°æ®ç±»å‹</span></span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> age;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Subject <span class="title">getSubject</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> subject;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setSubject</span><span class="params">(Subject subject)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.subject = subject;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getName</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setName</span><span class="params">(String name)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getAge</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> age;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setAge</span><span class="params">(<span class="keyword">int</span> age)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.age = age;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     *  é‡å†™clone()æ–¹æ³•</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Object <span class="title">clone</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="comment">//æµ…æ‹·è´</span></span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="comment">// ç›´æ¥è°ƒç”¨çˆ¶ç±»çš„clone()æ–¹æ³•</span></span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">super</span>.clone();</span><br><span class="line">        &#125; <span class="keyword">catch</span> (CloneNotSupportedException e) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">toString</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;[Student: &quot;</span> + <span class="keyword">this</span>.hashCode() + <span class="string">&quot;,subject:&quot;</span> + subject + <span class="string">&quot;,name:&quot;</span> + name + <span class="string">&quot;,age:&quot;</span> + age + <span class="string">&quot;]&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>å½“Studentè°ƒç ”cloneæ–¹æ³•æ—¶ï¼Œå¯¹è±¡ä¸­çš„å¼•ç”¨å±æ€§Subjectåªä¼šæ˜¯åœ°å€cloneï¼ŒStudentAå’ŒStudentBä¼šæŒæœ‰åŒä¸€ä»½å¼•ç”¨</li>
</ul>
<h3 id="æ·±æ‹·è´"><a href="#æ·±æ‹·è´" class="headerlink" title="æ·±æ‹·è´"></a>æ·±æ‹·è´</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Subject</span> <span class="keyword">implements</span> <span class="title">Cloneable</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Subject</span><span class="params">(String name)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getName</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setName</span><span class="params">(String name)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> Object <span class="title">clone</span><span class="params">()</span> <span class="keyword">throws</span> CloneNotSupportedException </span>&#123;</span><br><span class="line">        <span class="comment">//Subject å¦‚æœä¹Ÿæœ‰å¼•ç”¨ç±»å‹çš„æˆå‘˜å±æ€§ï¼Œä¹Ÿåº”è¯¥å’Œ Student ç±»ä¸€æ ·å®ç°</span></span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">super</span>.clone();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">toString</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;[Subject: &quot;</span> + <span class="keyword">this</span>.hashCode() + <span class="string">&quot;,name:&quot;</span> + name + <span class="string">&quot;]&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Student</span> <span class="keyword">implements</span> <span class="title">Cloneable</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//å¼•ç”¨ç±»å‹</span></span><br><span class="line">    <span class="keyword">private</span> Subject subject;</span><br><span class="line">    <span class="comment">//åŸºç¡€æ•°æ®ç±»å‹</span></span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> age;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Subject <span class="title">getSubject</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> subject;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setSubject</span><span class="params">(Subject subject)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.subject = subject;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getName</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setName</span><span class="params">(String name)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getAge</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> age;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setAge</span><span class="params">(<span class="keyword">int</span> age)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.age = age;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     *  é‡å†™clone()æ–¹æ³•</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Object <span class="title">clone</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="comment">//æ·±æ‹·è´</span></span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="comment">// ç›´æ¥è°ƒç”¨çˆ¶ç±»çš„clone()æ–¹æ³•</span></span><br><span class="line">            Student student = (Student) <span class="keyword">super</span>.clone();</span><br><span class="line">            student.subject = (Subject) subject.clone();</span><br><span class="line">            <span class="keyword">return</span> student;</span><br><span class="line">        &#125; <span class="keyword">catch</span> (CloneNotSupportedException e) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">toString</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;[Student: &quot;</span> + <span class="keyword">this</span>.hashCode() + <span class="string">&quot;,subject:&quot;</span> + subject + <span class="string">&quot;,name:&quot;</span> + name + <span class="string">&quot;,age:&quot;</span> + age + <span class="string">&quot;]&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>è¿™é‡Œçš„Subjectä¹Ÿå®ç°äº†Cloneableï¼Œå¹¶ä¸”Studenté‡å†™äº†cloneå‡½æ•°ï¼Œå®ç°äº†StudentA.subject !=StudentB.subject</li>
</ul>
<h2 id="toString-NaN"><a href="#toString-NaN" class="headerlink" title="toString"></a>toString</h2><p>å¯ä»¥é‡å†™ï¼Œæ›´å¤šæ˜¯æ—¥å¿—æ‰“å°</p>
<h2 id="wait-notify"><a href="#wait-notify" class="headerlink" title="wait/notify"></a>wait/notify</h2><ul>
<li><p>å¯¼è‡´çº¿ç¨‹è¿›å…¥ç­‰å¾…çŠ¶æ€ï¼Œç›´åˆ°å®ƒè¢«å…¶ä»–çº¿ç¨‹é€šè¿‡notify()æˆ–è€…notifyAllå”¤é†’ã€‚è¯¥æ–¹æ³•åªèƒ½åœ¨<strong>åŒæ­¥æ–¹æ³•</strong>ä¸­è°ƒç”¨ã€‚å¦‚æœå½“å‰çº¿ç¨‹ä¸æ˜¯é”çš„æŒæœ‰è€…ï¼Œè¯¥æ–¹æ³•æŠ›å‡ºä¸€ä¸ªIllegalMonitorStateExceptionå¼‚å¸¸ã€‚</p>
</li>
<li><p>éšæœºé€‰æ‹©ä¸€ä¸ª<strong>åœ¨è¯¥å¯¹è±¡ä¸Šè°ƒç”¨waitæ–¹æ³•çš„çº¿ç¨‹ï¼Œè§£é™¤å…¶é˜»å¡çŠ¶æ€ã€‚è¯¥æ–¹æ³•åªèƒ½åœ¨</strong>åŒæ­¥æ–¹æ³•<strong>æˆ–</strong>åŒæ­¥å—**å†…éƒ¨è°ƒç”¨ã€‚å¦‚æœå½“å‰çº¿ç¨‹ä¸æ˜¯é”çš„æŒæœ‰è€…ï¼Œè¯¥æ–¹æ³•æŠ›å‡ºä¸€ä¸ªIllegalMonitorStateExceptionå¼‚å¸¸ã€‚</p>
</li>
</ul>
 
      <!-- reward -->
      
    </div>
    

    <!-- copyright -->
    
    <footer class="article-footer">
       
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Object/" rel="tag">Object</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E5%9F%BA%E7%A1%80/" rel="tag">åŸºç¡€</a></li></ul>

    </footer>
  </div>

    
 
   
</article>

    
    <article
  id="post-TCPIPåè®®"
  class="article article-type-post"
  itemscope
  itemprop="blogPost"
  data-scroll-reveal
>
  <div class="article-inner">
     
    <div class="article-meta">
      <a href="/2020/11/24/TCPIP%E5%8D%8F%E8%AE%AE/" class="article-date">
  <time datetime="2020-11-24T03:05:01.911Z" itemprop="datePublished">2020-11-24</time>
</a>    
    </div>
      
    <div class="article-entry" itemprop="articleBody">
       
  <h1 id="TCP-IPåè®®"><a href="#TCP-IPåè®®" class="headerlink" title="TCP/IPåè®®"></a>TCP/IPåè®®</h1><blockquote>
<p>ç°ä»£ç½‘ç»œç³»ç»Ÿæ˜¯åŸºäºTCP/IPåè®®æ—çš„åŸºç¡€ä¸Šæ¥è¿ä½œçš„ã€‚æˆ‘ä»¬å¼€å‘ä¸­å¸¸ç”¨çš„HTTPåè®®åªæ˜¯å…¶å†…éƒ¨çš„ä¸€ä¸ªå­é›†</p>
</blockquote>
<h2 id="ç®€ä»‹"><a href="#ç®€ä»‹" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h2><h3 id="TCP-IPåè®®æ—"><a href="#TCP-IPåè®®æ—" class="headerlink" title="TCP/IPåè®®æ—"></a>TCP/IPåè®®æ—</h3><p>è®¡ç®—æœºä¸ç½‘ç»œè®¾å¤‡è¦ç›¸äº’é€šä¿¡ï¼Œé‚£ä¹ˆåŒæ–¹ä¹‹é—´å¿…é¡»åŸºäºç›¸åŒçš„æ–¹æ³•ã€‚æˆ–è€…è¯´ä¸é€šçš„ç¡¬ä»¶ï¼Œæ“ä½œç³»ç»Ÿä¹‹é—´çš„é€šä¿¡ï¼Œå¿…é¡»åŸºäºä¸€å¥—è§„åˆ™ï¼Œæˆ‘ä»¬å¸¸æŠŠè¿™å¥—è§„åˆ™ç§°ä¸ºåè®®ï¼ˆProtocalï¼‰</p>
<p>æˆ‘ä»¬ä¸€èˆ¬æŠŠäº’è”ç½‘ç›¸å…³è”çš„åè®®é›†åˆèµ·æ¥ç»Ÿç§°ä¸ºTCP/IPåè®®æ—</p>
<h3 id="TCP-IPåˆ†å±‚"><a href="#TCP-IPåˆ†å±‚" class="headerlink" title="TCP/IPåˆ†å±‚"></a>TCP/IPåˆ†å±‚</h3><blockquote>
<p>ä»ä¸Šåˆ°ä¸‹ï¼Œä¸€èˆ¬åˆ†ä¸ºï¼šåº”ç”¨å±‚ï¼Œä¼ è¾“å±‚ï¼Œç½‘ç»œå±‚ï¼Œæ•°æ®é“¾è·¯å±‚ï¼Œæ¯å±‚éƒ½æœ‰è‡ªå·±å¯¹åº”çš„åè®®</p>
</blockquote>
<h4 id="åº”ç”¨å±‚"><a href="#åº”ç”¨å±‚" class="headerlink" title="åº”ç”¨å±‚"></a>åº”ç”¨å±‚</h4><p>åº”ç”¨å±‚å†³å®šäº†å‘ç”¨æˆ·æä¾›åº”ç”¨æœåŠ¡æ—¶é€šä¿¡çš„æ´»åŠ¨</p>
<p>TCP/IPåè®®æ—å†…é¢„å­˜äº†å„ç±»é€šç”¨çš„åº”ç”¨æœåŠ¡ã€‚æ¯”å¦‚FTP/DNSã€‚æˆ‘ä»¬æœ€å¸¸ç”¨çš„HTTPä¹Ÿå°±æ˜¯å¤„äºè¯¥å±‚</p>
<h4 id="ä¼ è¾“å±‚"><a href="#ä¼ è¾“å±‚" class="headerlink" title="ä¼ è¾“å±‚"></a>ä¼ è¾“å±‚</h4><p>ä¼ è¾“å±‚å¯¹ä¸Šå±‚åº”ç”¨å±‚ï¼Œæä¾›å¤„äºç½‘ç»œé“¾æ¥ä¸­çš„<strong>ä¸¤å°è®¡ç®—æœºä¹‹é—´</strong>çš„æ•°æ®ä¼ è¾“ã€‚</p>
<p>TCPï¼ˆTransmission Control Protocalï¼Œä¼ è¾“æ§åˆ¶åè®®ï¼‰å’ŒUDPï¼ˆUser Date Protocalï¼Œç”¨æˆ·æ•°æ®åŒ…åè®®ï¼‰å¤„äºè¯¥å±‚</p>
<h4 id="ç½‘ç»œå±‚"><a href="#ç½‘ç»œå±‚" class="headerlink" title="ç½‘ç»œå±‚"></a>ç½‘ç»œå±‚</h4><p>ç½‘ç»œç”¨æ¥å¤„ç†åœ¨ç½‘ç»œä¸ŠæµåŠ¨çš„æ•°æ®åŒ…ã€‚æ•°æ®åŒ…æ˜¯ç½‘ç»œä¼ è¾“çš„æœ€å°æ•°æ®å•å…ƒã€‚è¯¥å±‚è§„å®šäº†é€šè¿‡æ€æ ·çš„è·¯å¾„åˆ°è¾¾å¯¹æ–¹è®¡ç®—æœºï¼Œå¹¶æŠŠæ•°æ®åŒ…ä¼ ç»™å¯¹æ–¹ã€‚</p>
<p>ä¸å¯¹æ–¹è®¡ç®—æœºä¹‹é—´é€šè¿‡å¤šå°è®¡ç®—æœºæˆ–ç½‘ç»œè®¾å¤‡è¿›è¡Œä¼ è¾“æ—¶ï¼Œç½‘ç»œå±‚èµ·çš„ä½œç”¨æ•‘èµåœ¨ä¼—å¤šçš„é€‰é¡¹ä¸­é€‰æ‹©ä¸€ä¸ªä¼ è¾“æ•°æ˜¾</p>
<p>IPåè®®å¤„äºè¯¥å±‚</p>
<h4 id="æ•°æ®é“¾è·¯å±‚"><a href="#æ•°æ®é“¾è·¯å±‚" class="headerlink" title="æ•°æ®é“¾è·¯å±‚"></a>æ•°æ®é“¾è·¯å±‚</h4><p>ç”¨æ¥å¤„ç†é“¾æ¥ç½‘ç»œçš„ç¡¬ä»¶è®¾å¤‡ã€‚ä¸€èˆ¬ç†è§£çš„ç¡¬ä»¶è®¾å¤‡éƒ½å¤„äºè¯¥å±‚ã€‚</p>
<h3 id="IPåè®®"><a href="#IPåè®®" class="headerlink" title="IPåè®®"></a>IPåè®®</h3><p>IPåè®®çš„ä½œç”¨æ˜¯<strong>æ‰¾åˆ°å¯¹æ–¹</strong>ã€‚ä¸ºäº†ä¿è¯æ‰¾åˆ°çš„å°±æ˜¯è¦æ‰¾çš„é‚£ä¸ªäººï¼Œæœ€é‡è¦çš„ä¸¤ä¸ªæ¡ä»¶æ˜¯IPåœ°å€å’ŒMACåœ°å€ï¼ˆMedia Access Control Addressï¼‰</p>
<ul>
<li><p>IPåœ°å€</p>
<ul>
<li><p>æŒ‡æ˜äº†èŠ‚ç‚¹è¢«åˆ†é…åˆ°åœ°å€ï¼Œæ˜¯ç½‘ç»œä¸Šåˆ†é…åˆ°åœ°å€ï¼Œå¯å˜ã€‚</p>
</li>
<li><p>IPV4åœ°å€ä¸€èˆ¬åˆ†ä¸ºabcde5ç±»</p>
<ul>
<li>1.0.0.0-1+127</li>
<li>128-128+63</li>
<li>192-192+31</li>
<li>224-224+15</li>
<li>240-240+15</li>
</ul>
</li>
<li><p>ä»¥ä¸‹åˆ—å‡ºç•™ç”¨çš„å†…éƒ¨ç§æœ‰åœ°å€</p>
<ul>
<li><p>10.0.0.0â€“10.255.255.255</p>
</li>
<li><p>172.16.0.0â€“172.31.255.255</p>
</li>
<li><p>192.168.0.0â€“192.168.255.255</p>
</li>
</ul>
</li>
</ul>
</li>
<li><p>MACåœ°å€</p>
<ul>
<li>æ˜¯ç½‘å¡ç”Ÿäº§æ—¶å”¯ä¸€ç¡®å®šçš„åœ°å€ï¼Œä¸€èˆ¬ä¸å¯å˜</li>
</ul>
</li>
<li><p>IPé—´çš„é€šä¿¡ä¾èµ–MACåœ°å€ã€‚ç½‘ç»œåœ¨é€šä¿¡çš„è¿‡ç¨‹ä¸­ï¼Œä¿¡æ¯ä¼šè¢«ä¸­è½¬æ‰ä¼šä¼ åˆ°ç›®æ ‡è®¾å¤‡ã€‚è¿™æ˜¯ï¼Œä¸€èˆ¬ä¼šARPï¼ˆAddress Resolution Protocalï¼‰åè®®ï¼Œè¿™æ˜¯ä¸€ç§ç”¨ä»¥è§£æåœ°å€åˆ°åè®®ï¼Œæ ¹æ®é€šä¿¡æ–¹çš„IPåœ°å€å¯ä»¥åæŸ¥å‡ºå¯¹åº”çš„MACåœ°å€</p>
</li>
</ul>
<h3 id="TCPåè®®"><a href="#TCPåè®®" class="headerlink" title="TCPåè®®"></a>TCPåè®®</h3><p>TCPå¯ä»¥æä¾›å¯é çš„å­—èŠ‚æµæœåŠ¡</p>
<h4 id="ä¸‰æ¬¡æ¡æ‰‹"><a href="#ä¸‰æ¬¡æ¡æ‰‹" class="headerlink" title="ä¸‰æ¬¡æ¡æ‰‹"></a>ä¸‰æ¬¡æ¡æ‰‹</h4><blockquote>
<p>ä¸‰æ¬¡æ¡æ‰‹çš„ç›®çš„ï¼šä¸ºäº†è®©å®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯éƒ½èƒ½çŸ¥é“è‡ªå·±çš„å‘é€å’Œæ¥æ”¶æœåŠ¡éƒ½æ˜¯æ­£å¸¸çš„</p>
</blockquote>
<ul>
<li>å®¢æˆ·ç«¯å‘é€æŠ¥æ–‡ç»™æœåŠ¡ç«¯ï¼ŒæœåŠ¡ç«¯æ¥æ”¶åˆ°äº†ï¼Œæ˜ç™½åˆ°ï¼šå®¢æˆ·ç«¯å‘é€æ­£å¸¸ï¼ŒæœåŠ¡ç«¯æ¥æ”¶æ­£å¸¸</li>
<li>æœåŠ¡ç«¯å‘é€æŠ¥æ–‡ç»™å®¢æˆ·ç«¯ï¼Œå®¢æˆ·ç«¯æ¥å—åˆ°äº†ï¼Œæ˜ç™½åˆ°ï¼šå®¢æˆ·ç«¯å‘é€ï¼Œæ¥æ”¶æ­£å¸¸ï¼ŒæœåŠ¡å‘é€ï¼Œæ¥æ”¶æ­£å¸¸</li>
<li>å®¢æˆ·ç«¯åœ¨å‘é€æŠ¥æ–‡ç»™å®¢æˆ·ç«¯ï¼Œå‘Šè¯‰æœåŠ¡ç«¯æˆ‘å¯ä»¥å‘é€äº†ï¼ŒæœåŠ¡ç«¯æ¥æ”¶åˆ°äº†ï¼Œæ˜ç™½äº†ï¼šå®¢æˆ·ç«¯å‘é€ï¼Œæ¥æ”¶æ­£å¸¸ï¼ŒæœåŠ¡ç«¯å‘é€ï¼Œæ¥æ”¶æ­£å¸¸ï¼Œæ˜ç™½å®¢æˆ·ç«¯è¦å¼€å§‹å‘é€æ•°æ®äº†</li>
<li>æ¡æ‰‹çš„æ—¶å€™ï¼Œé€šè¿‡synç¡®ä¿åŒä¸€æ¬¡æ¡æ‰‹è¿‡ç¨‹ï¼Œseqï¼Œackç¡®ä¿æ¡æ‰‹çš„æ­¥éª¤</li>
</ul>
<h4 id="å››æ¬¡æŒ¥æ‰‹"><a href="#å››æ¬¡æŒ¥æ‰‹" class="headerlink" title="å››æ¬¡æŒ¥æ‰‹"></a>å››æ¬¡æŒ¥æ‰‹</h4><blockquote>
<p>å››æ¬¡æŒ¥æ‰‹çš„ç›®çš„ï¼šåŒæ–¹åœ¨æ•°æ®äº¤äº’å®Œæ¯•åå¯ä»¥æ­£å¼æ–­å¼€é“¾æ¥</p>
</blockquote>
<ul>
<li>å®¢æˆ·ç«¯å‘é€finalç»™æœåŠ¡ç«¯ï¼šæœåŠ¡ç«¯æ¥æ”¶åˆ°ï¼Œæ˜ç™½äº†å®¢æˆ·ç«¯è¦åœæ­¢å‘é€äº†</li>
<li>æœåŠ¡ç«¯å›å¤ç»™å®¢æˆ·ç«¯ï¼šå®¢æˆ·ç«¯æ˜ç™½äº†ï¼Œæ­¤æ—¶æˆ‘å¯ä»¥åœæ­¢å‘é€æ¶ˆæ¯äº†ï¼ˆæ­¤æ—¶å®¢æˆ·ç«¯è¿˜å¯ä»¥æ¥æ”¶æ¶ˆæ¯ï¼‰</li>
<li>æœåŠ¡ç«¯å†å‘é€finalæ¶ˆæ¯ç»™å®¢æˆ·ç«¯ï¼šå®¢æˆ·ç«¯æ˜ç™½äº†ï¼ŒæœåŠ¡ç«¯è¦åœæ­¢å‘é€æ¶ˆæ¯äº†</li>
<li>å®¢æˆ·ç«¯å›å¤æœåŠ¡ç«¯ï¼šæœåŠ¡ç«¯æ˜ç™½äº†ï¼Œæˆ‘å¯ä»¥åœæ­¢å‘é€åŠŸèƒ½äº†ï¼Œç„¶åä¸¤è€…æ–­å¼€é“¾æ¥</li>
</ul>
<h2 id="HTTP"><a href="#HTTP" class="headerlink" title="HTTP"></a>HTTP</h2><h3 id="ç‰¹ç‚¹"><a href="#ç‰¹ç‚¹" class="headerlink" title="ç‰¹ç‚¹"></a>ç‰¹ç‚¹</h3><ul>
<li>HTTPæ˜¯æ— çŠ¶æ€åè®®ï¼Œå³è¯·æ±‚æœ¬èº«ä¸ä¼šå¯¹é€šä¿¡çŠ¶æ€åšä¿å­˜</li>
<li>é€šè¿‡keep-aliveä¿å­˜æŒä¹…é“¾æ¥</li>
<li>ç®¡çº¿åŒ–æŠ€æœ¯å¯ä»¥åŒæ—¶å‘é€å¤šä¸ªè¯·æ±‚</li>
<li>é€šè¿‡cookieè¿›è¡ŒçŠ¶æ€ç®¡ç†</li>
</ul>
<h3 id="è¯·æ±‚å†…å®¹"><a href="#è¯·æ±‚å†…å®¹" class="headerlink" title="è¯·æ±‚å†…å®¹"></a>è¯·æ±‚å†…å®¹</h3><h3 id="å“åº”å†…å®¹"><a href="#å“åº”å†…å®¹" class="headerlink" title="å“åº”å†…å®¹"></a>å“åº”å†…å®¹</h3><h2 id="åŠ å¯†"><a href="#åŠ å¯†" class="headerlink" title="åŠ å¯†"></a>åŠ å¯†</h2><h3 id="AES"><a href="#AES" class="headerlink" title="AES"></a>AES</h3><p>å¯¹ç§°åŠ å¯†å¯¹ä¸€ç§ï¼Œä¸€èˆ¬å¯¹ç§°åŠ å¯†ä½¿ç”¨åŒä¸€ä¸ªå¯†é’¥è¿›è¡ŒåŠ å¯†å’Œè§£å¯†</p>
<h3 id="RSA"><a href="#RSA" class="headerlink" title="RSA"></a>RSA</h3><p>éå¯¹ç§°åŠ å¯†çš„ä¸€ç§ï¼Œä¸€èˆ¬æ˜¯é€šè¿‡ä¸€å¯¹å…¬é’¥å’Œç§é’¥è¿›è¡ŒåŠ è§£å¯†ï¼Œå…¬é’¥åŠ å¯†çš„æ•°æ®ï¼Œåªè¦ç§é’¥å¯ä»¥è§£å¯†ï¼Œæ‰€ä»¥å…¬é’¥å¯ä»¥å…¬å¼€ã€‚</p>
<h3 id="ç»“åˆä½¿ç”¨"><a href="#ç»“åˆä½¿ç”¨" class="headerlink" title="ç»“åˆä½¿ç”¨"></a>ç»“åˆä½¿ç”¨</h3><p>clientç«¯<br>1.serverç«¯ç”ŸæˆRSAå…¬é’¥å’Œç§é’¥å¯¹ï¼Œé€šè¿‡apiå°†å…¬é’¥è¿”å›ç»™clientç«¯<br>2.clientç«¯<strong>è‡ªå·±ç”ŸæˆAESå¯†é’¥</strong>â€“aeskey<br>3.clientç«¯åˆ©ç”¨aeskeyåŠ å¯†æ˜æ–‡jsonæ•°æ®ï¼Œå¾—åˆ°è¯·æ±‚æ•°æ®encryptData<br>4.clientç«¯ä½¿ç”¨RSAå…¬é’¥åŠ å¯†AESå¯†é’¥aeskeyï¼Œå¾—åˆ°encryptAesData<br>5.clinetç«¯å°†encryptAesDataä½œä¸ºè¯·æ±‚å¤´ï¼ŒencryptDataä½œä¸ºè¯·æ±‚ä½“ï¼Œå‘é€åˆ°serverç«¯</p>
<p>serverç«¯<br>1.æ”¶åˆ°è¯·æ±‚åï¼Œé€šè¿‡è¯·æ±‚å¤´å¾—åˆ°encryptAesDataï¼ŒRSAç§é’¥è§£å¯†åå¾—åˆ°aeskey<br>2.é€šè¿‡è¯·æ±‚ä½“å¾—åˆ°encryptDataï¼Œç„¶åç”¨aeskeyè§£å¯†ï¼Œå¾—åˆ°æ˜æ–‡dataç±»å‹<br>3.dataè½¬æ¢æˆjsonæ ¼å¼è¿›è¡Œåç»­å¤„ç†</p>
<h2 id="HTTPS"><a href="#HTTPS" class="headerlink" title="HTTPS"></a>HTTPS</h2><h2 id="webæœåŠ¡å™¨"><a href="#webæœåŠ¡å™¨" class="headerlink" title="webæœåŠ¡å™¨"></a>webæœåŠ¡å™¨</h2> 
      <!-- reward -->
      
    </div>
    

    <!-- copyright -->
    
    <footer class="article-footer">
       
    </footer>
  </div>

    
 
   
</article>

    
    <article
  id="post-Java é›†åˆ"
  class="article article-type-post"
  itemscope
  itemprop="blogPost"
  data-scroll-reveal
>
  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2020/11/23/Java%20%E9%9B%86%E5%90%88/"
    >Javaé›†åˆ</a> 
</h2>
 

    </header>
     
    <div class="article-meta">
      <a href="/2020/11/23/Java%20%E9%9B%86%E5%90%88/" class="article-date">
  <time datetime="2020-11-23T14:06:35.000Z" itemprop="datePublished">2020-11-23</time>
</a> 
  <div class="article-category">
    <a class="article-category-link" href="/categories/Java%E8%AF%AD%E6%B3%95/">Javaè¯­æ³•</a>
  </div>
   
    </div>
      
    <div class="article-entry" itemprop="articleBody">
       
  <h1 id="ç®€ä»‹"><a href="#ç®€ä»‹" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h1><p>Javaå¸¸ç”¨çš„é›†åˆå¯¹è±¡ä¸€èˆ¬æœ‰listï¼Œmapï¼Œsetå’Œqueueï¼Œå®ƒä»¬ä¹‹é—´çš„å…³ç³»å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p>
<p><img src="../../../../images/07/01.webp" alt="Image text"></p>
<p><img src="../../../../images/07/02.webp" alt="Image text"></p>
<p>å¯ä»¥çœ‹åˆ°ï¼šCollectionæ˜¯Listï¼ŒSetå’ŒQueueçš„çˆ¶ç±»ï¼ŒMapå’ŒCollectionå¹¶åˆ—çš„å…³ç³»ã€‚</p>
<h1 id="Map"><a href="#Map" class="headerlink" title="Map"></a>Map</h1><blockquote>
<p>Mapå®ç°ç±»ç”¨äºä¿å­˜å…·æœ‰æ˜ å°„å…³ç³»çš„æ•°æ®ã€‚Mapä¿å­˜çš„æ¯é¡¹æ•°æ®éƒ½æ˜¯key-valueå¯¹ï¼Œä¹Ÿå°±æ˜¯ç”±keyå’Œvalueä¸¤ä¸ªå€¼ç»„æˆã€‚Mapé‡Œçš„keyæ˜¯ä¸å¯é‡å¤çš„ï¼Œkeyç”¨æˆ·æ ‡è¯†é›†åˆé‡Œçš„æ¯é¡¹æ•°æ®ã€‚</p>
</blockquote>
<h2 id="HashMap"><a href="#HashMap" class="headerlink" title="HashMap"></a>HashMap</h2><ul>
<li><p>HashMapæ˜¯å±…äºæ•°ç»„å’Œé“¾è¡¨ï¼ˆé“¾è¡¨å¤§äº8æ—¶ä¼šåˆ©ç”¨çº¢é»‘æ ‘ï¼‰çš„ç»“æ„ã€‚è¿™æ ·è®¾è®¡çš„ä¼˜åŠ¿åœ¨äºï¼Œå…¼æœ‰æ•°ç»„çš„å¿«é€ŸæŸ¥æ‰¾å’Œé“¾è¡¨çš„å¿«é€Ÿæ’å…¥ï¼Œåˆ é™¤å…ƒç´ çš„ä¼˜åŠ¿ã€‚ç»“æ„å¦‚å›¾å¦‚ä¸‹ï¼š</p>
<p><img src="../../../../images/07/04.jpg" alt="Image text"></p>
</li>
</ul>
<h3 id="æºç åˆ†æ"><a href="#æºç åˆ†æ" class="headerlink" title="æºç åˆ†æ"></a>æºç åˆ†æ</h3><h4 id="é»˜è®¤å±æ€§"><a href="#é»˜è®¤å±æ€§" class="headerlink" title="é»˜è®¤å±æ€§"></a>é»˜è®¤å±æ€§</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">public class HashMap&lt;K,V&gt; extends AbstractMap&lt;K,V&gt;</span><br><span class="line">    implements Map&lt;K,V&gt;, Cloneable, Serializable &#123;</span><br><span class="line">    static final int DEFAULT_INITIAL_CAPACITY &#x3D; 1 &lt;&lt; 4; &#x2F;&#x2F; Tableæ•°ç»„çš„åˆå§‹åŒ–é•¿åº¦,2^4&#x3D;16</span><br><span class="line">    static final int MAXIMUM_CAPACITY &#x3D; 1 &lt;&lt; 30; &#x2F;&#x2F;Tableæ•°ç»„çš„æœ€å¤§é•¿åº¦ï¼š 1&lt;&lt;30 2^30&#x3D;1073741824</span><br><span class="line">    </span><br><span class="line">    &#x2F;&#x2F;è´Ÿè½½å› å­ï¼šé»˜è®¤å€¼ä¸º0.75ã€‚ å½“å…ƒç´ çš„æ€»ä¸ªæ•°&gt;å½“å‰æ•°ç»„çš„é•¿åº¦ * è´Ÿè½½å› å­ã€‚æ•°ç»„ä¼šè¿›è¡Œæ‰©å®¹ï¼Œæ‰©å®¹ä¸ºåŸæ¥çš„ä¸¤å€</span><br><span class="line">    static final float DEFAULT_LOAD_FACTOR &#x3D; 0.75f;</span><br><span class="line">    &#x2F;&#x2F;é“¾è¡¨æ ‘åŒ–é˜™å€¼ï¼š é»˜è®¤å€¼ä¸º 8 ã€‚è¡¨ç¤ºåœ¨ä¸€ä¸ªnodeï¼ˆTableï¼‰èŠ‚ç‚¹ä¸‹çš„å€¼çš„ä¸ªæ•°å¤§äº8æ—¶å€™ï¼Œä¼šå°†é“¾è¡¨è½¬æ¢æˆä¸ºçº¢é»‘æ ‘ã€‚</span><br><span class="line">    static final int TREEIFY_THRESHOLD &#x3D; 8;</span><br><span class="line">    &#x2F;&#x2F;çº¢é»‘æ ‘é“¾åŒ–é˜™å€¼ï¼š é»˜è®¤å€¼ä¸º 6 ã€‚ è¡¨ç¤ºåœ¨è¿›è¡Œæ‰©å®¹æœŸé—´ï¼Œå•ä¸ªNodeèŠ‚ç‚¹ä¸‹çš„çº¢é»‘æ ‘èŠ‚ç‚¹çš„ä¸ªæ•°å°äº6æ—¶å€™ï¼Œä¼šå°†çº¢é»‘æ ‘è½¬åŒ–æˆä¸ºé“¾è¡¨ã€‚</span><br><span class="line">    static final int UNTREEIFY_THRESHOLD &#x3D; 6;</span><br><span class="line">    &#x2F;&#x2F;æœ€å°æ ‘åŒ–é˜ˆå€¼ï¼Œå½“Tableæ‰€æœ‰å…ƒç´ è¶…è¿‡è¯¥å€¼ï¼Œæ‰ä¼šè¿›è¡Œæ ‘åŒ–ï¼ˆä¸ºäº†é˜²æ­¢å‰æœŸé˜¶æ®µé¢‘ç¹æ‰©å®¹å’Œæ ‘åŒ–è¿‡ç¨‹å†²çªï¼‰</span><br><span class="line">    &#x2F;&#x2F;ä¹Ÿå°±æ˜¯è¯´Tableé•¿åº¦è¶…è¿‡è¿™ä¸ªå€¼ï¼Œé“¾è¡¨è¶…è¿‡8æ‰ä¼šè¿›è¡Œè½¬æˆçº¢é»‘æ ‘</span><br><span class="line">    MIN_TREEIFY_CAPACITY &#x3D; 64</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<h4 id="Node"><a href="#Node" class="headerlink" title="Node"></a>Node</h4><blockquote>
<p>é“¾è¡¨å®ç°æ—¶å€™å…ƒç´ èŠ‚ç‚¹Nodeï¼Œé€šè¿‡nextæ¥å®ç°å•é“¾è¡¨</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line">static class Node&lt;K,V&gt; implements Map.Entry&lt;K,V&gt; &#123;</span><br><span class="line">      final int hash;</span><br><span class="line">      final K key;</span><br><span class="line">      V value;</span><br><span class="line">      Node&lt;K,V&gt; next;</span><br><span class="line"></span><br><span class="line">      Node(int hash, K key, V value, Node&lt;K,V&gt; next) &#123;</span><br><span class="line">          this.hash &#x3D; hash;</span><br><span class="line">          this.key &#x3D; key;</span><br><span class="line">          this.value &#x3D; value;</span><br><span class="line">          this.next &#x3D; next;</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      public final K getKey()        &#123; return key; &#125;</span><br><span class="line">      public final V getValue()      &#123; return value; &#125;</span><br><span class="line">      public final String toString() &#123; return key + &quot;&#x3D;&quot; + value; &#125;</span><br><span class="line"></span><br><span class="line">      public final int hashCode() &#123;</span><br><span class="line">          return Objects.hashCode(key) ^ Objects.hashCode(value);</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      public final V setValue(V newValue) &#123;</span><br><span class="line">          V oldValue &#x3D; value;</span><br><span class="line">          value &#x3D; newValue;</span><br><span class="line">          return oldValue;</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      public final boolean equals(Object o) &#123;</span><br><span class="line">          if (o &#x3D;&#x3D; this)</span><br><span class="line">              return true;</span><br><span class="line">          if (o instanceof Map.Entry) &#123;</span><br><span class="line">              Map.Entry&lt;?,?&gt; e &#x3D; (Map.Entry&lt;?,?&gt;)o;</span><br><span class="line">              if (Objects.equals(key, e.getKey()) &amp;&amp;</span><br><span class="line">                  Objects.equals(value, e.getValue()))</span><br><span class="line">                  return true;</span><br><span class="line">          &#125;</span><br><span class="line">          return false;</span><br><span class="line">      &#125;</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>

<h4 id="put"><a href="#put" class="headerlink" title="put"></a>put</h4><ul>
<li>1.å¯¹keyçš„hashCode()åšhashè¿ç®—ï¼Œè®¡ç®—index;</li>
<li>2.å¦‚æœæ²¡ç¢°æ’ç›´æ¥æ”¾åˆ°bucketâ¾¥ï¼›</li>
<li>3.å¦‚æœç¢°æ’äº†ï¼Œä»¥é“¾è¡¨çš„å½¢å¼å­˜åœ¨bucketsåï¼›</li>
<li>4.å¦‚æœç¢°æ’å¯¼è‡´é“¾è¡¨è¿‡â»“(â¼¤äºç­‰äºTREEIFY_THRESHOLD)ï¼Œå°±æŠŠé“¾è¡¨è½¬æ¢æˆçº¢â¿Šæ ‘(JDK1.8ä¸­çš„æ”¹åŠ¨)ï¼›</li>
<li>5.å¦‚æœèŠ‚ç‚¹å·²ç»å­˜åœ¨å°±æ›¿æ¢old value(ä¿è¯keyçš„å”¯â¼€æ€§)</li>
<li>6.å¦‚æœbucketæ»¡äº†(è¶…è¿‡load factor*current capacity)ï¼Œå°±è¦resize</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line">final V putVal(int hash, K key, V value, boolean onlyIfAbsent,</span><br><span class="line">               boolean evict) &#123;</span><br><span class="line">    Node&lt;K,V&gt;[] tab; Node&lt;K,V&gt; p; int n, i;</span><br><span class="line">    if ((tab &#x3D; table) &#x3D;&#x3D; null || (n &#x3D; tab.length) &#x3D;&#x3D; 0)</span><br><span class="line">        n &#x3D; (tab &#x3D; resize()).length;</span><br><span class="line">    if ((p &#x3D; tab[i &#x3D; (n - 1) &amp; hash]) &#x3D;&#x3D; null)</span><br><span class="line">        tab[i] &#x3D; newNode(hash, key, value, null);</span><br><span class="line">    else &#123;</span><br><span class="line">        Node&lt;K,V&gt; e; K k;</span><br><span class="line">        if (p.hash &#x3D;&#x3D; hash &amp;&amp;</span><br><span class="line">            ((k &#x3D; p.key) &#x3D;&#x3D; key || (key !&#x3D; null &amp;&amp; key.equals(k))))</span><br><span class="line">            e &#x3D; p;</span><br><span class="line">        else if (p instanceof TreeNode)</span><br><span class="line">            e &#x3D; ((TreeNode&lt;K,V&gt;)p).putTreeVal(this, tab, hash, key, value);</span><br><span class="line">        else &#123;</span><br><span class="line">            for (int binCount &#x3D; 0; ; ++binCount) &#123;</span><br><span class="line">                if ((e &#x3D; p.next) &#x3D;&#x3D; null) &#123;</span><br><span class="line">                    p.next &#x3D; newNode(hash, key, value, null);</span><br><span class="line">                    if (binCount &gt;&#x3D; TREEIFY_THRESHOLD - 1) &#x2F;&#x2F; -1 for 1st</span><br><span class="line">                        treeifyBin(tab, hash);</span><br><span class="line">                    break;</span><br><span class="line">                &#125;</span><br><span class="line">                if (e.hash &#x3D;&#x3D; hash &amp;&amp;</span><br><span class="line">                    ((k &#x3D; e.key) &#x3D;&#x3D; key || (key !&#x3D; null &amp;&amp; key.equals(k))))</span><br><span class="line">                    break;</span><br><span class="line">                p &#x3D; e;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        if (e !&#x3D; null) &#123; &#x2F;&#x2F; existing mapping for key</span><br><span class="line">            V oldValue &#x3D; e.value;</span><br><span class="line">            if (!onlyIfAbsent || oldValue &#x3D;&#x3D; null)</span><br><span class="line">                e.value &#x3D; value;</span><br><span class="line">            afterNodeAccess(e);</span><br><span class="line">            return oldValue;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    ++modCount;</span><br><span class="line">    if (++size &gt; threshold)</span><br><span class="line">        resize();</span><br><span class="line">    afterNodeInsertion(evict);</span><br><span class="line">    return null;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>è¿™é‡Œé¢ï¼Œæˆ‘ä»¬å¯ä»¥å‘ç°å‡ ä¸ªç»†èŠ‚ï¼š</p>
<ul>
<li>bucketåœ¨è¿›è¡Œæ‰©å®¹çš„æ—¶å€™ï¼Œåˆšå¥½æ˜¯<strong>2çš„æ¬¡å¹‚</strong>ï¼Œåœ¨åšå–æ¨¡è¿ç®—çš„æ•ˆç‡â¾¼ã€‚</li>
<li>è®¡ç®—bucketçš„indexæ—¶ï¼Œp = tab[i = (n - 1) &amp; hash]) == nullï¼Œè¿™æ ·æ•ˆç‡ä¼šæ›´é«˜</li>
</ul>
<p><img src="../../../../images/06/05.jpg" alt="Image text"></p>
<h4 id="get"><a href="#get" class="headerlink" title="get"></a>get</h4><ul>
<li>1.å¯¹keyçš„hashCode()åšhashè¿ç®—ï¼Œè®¡ç®—index;</li>
<li>2.å¦‚æœåœ¨bucketâ¾¥çš„ç¬¬â¼€ä¸ªèŠ‚ç‚¹â¾¥ç›´æ¥å‘½ä¸­ï¼Œåˆ™ç›´æ¥è¿”å›ï¼›</li>
<li>3.å¦‚æœæœ‰å†²çªï¼Œåˆ™é€šè¿‡key.equals(k)å»æŸ¥æ‰¾å¯¹åº”çš„Entry;</li>
<li>4.è‹¥ä¸ºæ ‘ï¼Œåˆ™åœ¨æ ‘ä¸­é€šè¿‡key.equals(k)æŸ¥æ‰¾ï¼ŒO(logn)ï¼›</li>
<li>è‹¥ä¸ºé“¾è¡¨ï¼Œåˆ™åœ¨é“¾è¡¨ä¸­é€šè¿‡key.equals(k)æŸ¥æ‰¾ï¼ŒO(n).</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">final Node&lt;K,V&gt; getNode(int hash, Object key) &#123;</span><br><span class="line">      Node&lt;K,V&gt;[] tab; Node&lt;K,V&gt; first, e; int n; K k;</span><br><span class="line">      if ((tab &#x3D; table) !&#x3D; null &amp;&amp; (n &#x3D; tab.length) &gt; 0 &amp;&amp;</span><br><span class="line">          (first &#x3D; tab[(n - 1) &amp; hash]) !&#x3D; null) &#123;</span><br><span class="line">          if (first.hash &#x3D;&#x3D; hash &amp;&amp; &#x2F;&#x2F; always check first node</span><br><span class="line">              ((k &#x3D; first.key) &#x3D;&#x3D; key || (key !&#x3D; null &amp;&amp; key.equals(k))))</span><br><span class="line">              return first;</span><br><span class="line">          if ((e &#x3D; first.next) !&#x3D; null) &#123;</span><br><span class="line">              if (first instanceof TreeNode)</span><br><span class="line">                  return ((TreeNode&lt;K,V&gt;)first).getTreeNode(hash, key);</span><br><span class="line">              do &#123;</span><br><span class="line">                  if (e.hash &#x3D;&#x3D; hash &amp;&amp;</span><br><span class="line">                      ((k &#x3D; e.key) &#x3D;&#x3D; key || (key !&#x3D; null &amp;&amp; key.equals(k))))</span><br><span class="line">                      return e;</span><br><span class="line">              &#125; while ((e &#x3D; e.next) !&#x3D; null);</span><br><span class="line">          &#125;</span><br><span class="line">      &#125;</span><br><span class="line">      return null;</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>

<h4 id="resize"><a href="#resize" class="headerlink" title="resize"></a>resize</h4><p>æ¯æ¬¡æ‰©å®¹å¤§å°æ˜¯ä»¥å‰çš„2å€ï¼Œä¸ºäº†æ›´åŠ æ–¹ä¾¿å¯¹åŸæ¥å…ƒç´ è¿›è¡Œä½ç½®æ’å…¥</p>
<p><img src="../../../../images/06/07.jpg" alt="Image text"></p>
<p>å› æ­¤ï¼Œæˆ‘ä»¬åœ¨æ‰©å……HashMapçš„æ—¶å€™ï¼Œä¸éœ€è¦åƒJDK1.7çš„å®ç°é‚£æ ·é‡æ–°è®¡ç®—hashï¼Œåªéœ€è¦çœ‹çœ‹åŸæ¥çš„hashå€¼æ–°å¢çš„é‚£ä¸ªbitæ˜¯1è¿˜æ˜¯0å°±å¥½äº†ï¼Œæ˜¯0çš„è¯ç´¢å¼•æ²¡å˜ï¼Œæ˜¯1çš„è¯ç´¢å¼•å˜æˆâ€œåŸç´¢å¼•+oldCapâ€ï¼Œå¯ä»¥çœ‹çœ‹ä¸‹å›¾ä¸º16æ‰©å……ä¸º32çš„resizeç¤ºæ„å›¾ï¼š</p>
<p><img src="../../../../images/06/08.jpg" alt="Image text"></p>
<p>è¿™ä¸ªè®¾è®¡ç¡®å®éå¸¸çš„å·§å¦™ï¼Œæ—¢çœå»äº†é‡æ–°è®¡ç®—hashå€¼çš„æ—¶é—´ï¼Œè€Œä¸”åŒæ—¶ï¼Œç”±äºæ–°å¢çš„1bitæ˜¯0è¿˜æ˜¯1å¯ä»¥è®¤ä¸ºæ˜¯éšæœºçš„ï¼Œå› æ­¤resizeçš„è¿‡ç¨‹ï¼Œå‡åŒ€çš„æŠŠä¹‹å‰çš„å†²çªçš„èŠ‚ç‚¹åˆ†æ•£åˆ°æ–°çš„bucketäº†ã€‚è¿™ä¸€å—å°±æ˜¯JDK1.8æ–°å¢çš„ä¼˜åŒ–ç‚¹ã€‚</p>
<h4 id="TreeNode"><a href="#TreeNode" class="headerlink" title="TreeNode"></a>TreeNode</h4><p><img src="../../../../images/07/06.webp" alt="Image text"></p>
<ul>
<li><p>ç‰¹ç‚¹ï¼š</p>
<ul>
<li>æ¯ä¸ªèŠ‚ç‚¹æˆ–è€…æ˜¯é»‘è‰²ï¼Œæˆ–è€…æ˜¯çº¢è‰²ã€‚</li>
<li>æ ¹èŠ‚ç‚¹æ˜¯é»‘è‰²ã€‚</li>
<li>æ¯ä¸ªå¶å­èŠ‚ç‚¹ï¼ˆNILï¼‰æ˜¯é»‘è‰²ã€‚ [æ³¨æ„ï¼šè¿™é‡Œå¶å­èŠ‚ç‚¹ï¼Œæ˜¯æŒ‡ä¸ºç©º(NILæˆ–NULL)çš„å¶å­èŠ‚ç‚¹ã€‚</li>
<li>å¦‚æœä¸€ä¸ªèŠ‚ç‚¹æ˜¯çº¢è‰²çš„ï¼Œåˆ™å®ƒçš„å­èŠ‚ç‚¹å¿…é¡»æ˜¯é»‘è‰²çš„ã€‚</li>
<li>ä»ä¸€ä¸ªèŠ‚ç‚¹åˆ°è¯¥èŠ‚ç‚¹çš„å­å­™èŠ‚ç‚¹çš„æ‰€æœ‰è·¯å¾„ä¸ŠåŒ…å«ç›¸åŒæ•°ç›®çš„é»‘èŠ‚ç‚¹ã€‚</li>
</ul>
</li>
<li><p>é“¾è¡¨çš„æ—¶é—´å¤æ‚åº¦ï¼šO(n)ï¼Œçº¢é»‘æ ‘çš„æ—¶é—´å¤æ‚åº¦ï¼šO(lgN)</p>
</li>
<li><p>å®šä¹‰ï¼š</p>
</li>
</ul>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">static final <span class="class"><span class="keyword">class</span> <span class="title">TreeNode</span>&lt;K,<span class="title">V</span>&gt; <span class="title">extends</span> <span class="title">LinkedHashMap</span>.<span class="title">Entry</span>&lt;K,<span class="title">V</span>&gt; &#123;</span></span><br><span class="line">    TreeNode&lt;K,V&gt; parent;  <span class="regexp">//</span> red-black tree links çˆ¶èŠ‚ç‚¹</span><br><span class="line">    TreeNode&lt;K,V&gt; left;  <span class="regexp">//</span>å·¦å­æ ‘</span><br><span class="line">    TreeNode&lt;K,V&gt; right; <span class="regexp">//</span>å³å­æ ‘</span><br><span class="line">    TreeNode&lt;K,V&gt; prev;  <span class="regexp">//</span> åˆ é™¤åéœ€è¦å–æ¶ˆé“¾æ¥ needed to unlink <span class="keyword">next</span> upon deletion</span><br><span class="line">    boolean red;        <span class="regexp">//</span>é¢œè‰²å±æ€§</span><br><span class="line">    TreeNode(int hash, K key, V val, Node&lt;K,V&gt; <span class="keyword">next</span>) &#123;</span><br><span class="line">        <span class="keyword">super</span>(hash, key, val, <span class="keyword">next</span>);</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>



<h2 id="concurrentHashMap"><a href="#concurrentHashMap" class="headerlink" title="concurrentHashMap"></a>concurrentHashMap</h2><blockquote>
<p>çº¿ç¨‹å®‰å…¨çš„HashMapï¼ŒJDK1.8æ˜¯é€šè¿‡synchronizedï¼Œä»¥åŠCASæ— é”æ“ä½œä»¥ä¿è¯æ“ä½œçš„çº¿ç¨‹å®‰å…¨æ€§</p>
</blockquote>
<h1 id="Collection"><a href="#Collection" class="headerlink" title="Collection"></a>Collection</h1><p>æˆ‘ä»¬æ¥ç®€å•çœ‹ä¸‹Collectionæºç ç»“æ„ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">public interface Collection&lt;E&gt; extends Iterable&lt;E&gt; &#123;</span><br><span class="line"></span><br><span class="line">  int size();</span><br><span class="line">  </span><br><span class="line">  boolean isEmpty();</span><br><span class="line">  </span><br><span class="line"></span><br><span class="line">  boolean contains(Object o);</span><br><span class="line">  boolean containsAll(Collection&lt;?&gt; c);</span><br><span class="line"> </span><br><span class="line">  Iterator&lt;E&gt; iterator();</span><br><span class="line"></span><br><span class="line">  boolean add(E e);</span><br><span class="line">  boolean remove(Object o);</span><br><span class="line">  boolean addAll(Collection&lt;? extends E&gt; c);</span><br><span class="line">  boolean removeAll(Collection&lt;?&gt; c);</span><br><span class="line">  </span><br><span class="line">  boolean retainAll(Collection&lt;?&gt; c);</span><br><span class="line">  </span><br><span class="line">  void clear();</span><br><span class="line">  boolean equals(Object o);</span><br><span class="line">  int hashCode();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>åŸºæœ¬ä¸Šéƒ½æ˜¯å¯¹å¸¸ç”¨æ–¹æ³•å¯¹å®šä¹‰ï¼Œå­ç±»å¿…é¡»è¦å®ç°çš„æ–¹æ³•ã€‚</p>
<h1 id="Set"><a href="#Set" class="headerlink" title="Set"></a>Set</h1><blockquote>
<p>Setçš„è¡¨ç°æœ€åƒCollectionï¼Œå®é™…ä¸Šï¼ŒSetç‰¹ç‚¹æ˜¯<strong>ä¸å…è®¸åŒ…å«é‡å¤å…ƒç´ </strong>ï¼Œä¹Ÿå°±æ˜¯addçš„æ—¶å€™ï¼Œå¦‚æœæ˜¯ç›¸åŒçš„å…ƒç´ ä¼šæŠ¥å¼‚å¸¸ï¼ŒSeté›†æˆCollectionï¼Œæ‰€ä»¥éœ€è¦çœ‹Setçš„å®ç°ç±»ï¼ŒHashSet,LinkedHashSet,TreeSet</p>
</blockquote>
<h2 id="HashSet"><a href="#HashSet" class="headerlink" title="HashSet"></a>HashSet</h2><blockquote>
<p>HashSetæ¯”è¾ƒç®€å•ï¼Œå†…éƒ¨æ˜¯ç”±HashMapæ¥å®ç°çš„ï¼Œç”¨HashMapçš„keyä½œä¸ºSetçš„å€¼ï¼Œä¿è¯äº†ä¸é‡å¤ã€‚Mapæ­¤æ—¶çš„valueæ˜¯åŒä¸€ä¸ªnew Objectå¯¹è±¡ã€‚</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">public class HashSet&lt;E&gt; extends AbstractSet&lt;E&gt; implements Set&lt;E&gt;, Cloneable, java.io.Serializable</span><br><span class="line">&#123;</span><br><span class="line">			public HashSet() &#123;</span><br><span class="line">        map &#x3D; new HashMap&lt;&gt;();</span><br><span class="line">    	&#125;</span><br><span class="line">    	</span><br><span class="line">    	public boolean add(E e) &#123;</span><br><span class="line">        return map.put(e, PRESENT)&#x3D;&#x3D;null;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>

<h1 id="List"><a href="#List" class="headerlink" title="List"></a>List</h1><h2 id="ArrayList"><a href="#ArrayList" class="headerlink" title="ArrayList"></a>ArrayList</h2><h3 id="ç‰¹ç‚¹"><a href="#ç‰¹ç‚¹" class="headerlink" title="ç‰¹ç‚¹"></a>ç‰¹ç‚¹</h3><ul>
<li>å®ƒæ˜¯åŸºäºæ•°ç»„å®ç°çš„Listç±»</li>
<li>å¯ä»¥åŠ¨æ€åœ°è°ƒæ•´å®¹é‡</li>
<li>æœ‰åºçš„ï¼ˆå…ƒç´ è¾“å‡ºé¡ºåºä¸è¾“å…¥é¡ºåºä¸€è‡´ï¼‰</li>
<li>å…ƒç´ å¯ä»¥ä¸º null</li>
<li>ä¸åŒæ­¥ï¼Œéçº¿ç¨‹å®‰å…¨ï¼Œæ•ˆç‡é«˜</li>
<li>æŸ¥è¯¢å¿«ï¼Œå¢åˆ æ…¢</li>
<li>å ç”¨ç©ºé—´æ›´å°ï¼Œå¯¹æ¯” LinkedListï¼Œä¸ç”¨å ç”¨é¢å¤–ç©ºé—´ç»´æŠ¤é“¾è¡¨ç»“æ„</li>
</ul>
<h3 id="æºç åˆ†æ-1"><a href="#æºç åˆ†æ-1" class="headerlink" title="æºç åˆ†æ"></a>æºç åˆ†æ</h3><ul>
<li>å±æ€§</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">public class ArrayList&lt;E&gt; extends AbstractList&lt;E&gt;</span><br><span class="line">        implements List&lt;E&gt;, RandomAccess, Cloneable, java.io.Serializable</span><br><span class="line">&#123;</span><br><span class="line">	&#x2F;&#x2F;æ•°ç»„åˆå§‹åŒ–å®¹é‡10</span><br><span class="line">	private static final int DEFAULT_CAPACITY &#x3D; 10;</span><br><span class="line">	</span><br><span class="line">	&#x2F;&#x2F;æ•°ç»„å†…æœ‰å…ƒç´ çš„ä¸ªæ•°</span><br><span class="line">	private int size;</span><br><span class="line">	</span><br><span class="line">	&#x2F;&#x2F; ç©ºå¯¹è±¡æ•°ç»„</span><br><span class="line">	private static final Object[] EMPTY_ELEMENTDATA &#x3D; &#123;&#125;;</span><br><span class="line">	</span><br><span class="line">	&#x2F;&#x2F; ç¼ºçœç©ºå¯¹è±¡æ•°ç»„</span><br><span class="line">	private static final Object[] DEFAULTCAPACITY_EMPTY_ELEMENTDATA &#x3D; &#123;&#125;;</span><br><span class="line">	</span><br><span class="line">	&#x2F;&#x2F; åº•å±‚æ•°æ®ç»“æ„ï¼Œæ•°ç»„</span><br><span class="line">	transient Object[] elementData;</span><br><span class="line">	</span><br><span class="line">	&#x2F;&#x2F; æœ€å¤§æ•°ç»„å®¹é‡</span><br><span class="line">	private static final int MAX_ARRAY_SIZE &#x3D; Integer.MAX_VALUE - 8;</span><br><span class="line">	</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>æ„é€ æ–¹æ³•</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F;é»˜è®¤æ„é€ æ–¹æ³•ï¼Œåˆå§‹ä¸ºç©ºæ•°ç»„ã€‚</span><br><span class="line">&#x2F;&#x2F;åªæœ‰æ’å…¥ä¸€æ¡æ•°æ®åæ‰ä¼šæ‰©å±•ä¸º10ï¼Œè€Œå®é™…ä¸Šé»˜è®¤æ˜¯ç©ºçš„</span><br><span class="line"> public ArrayList() &#123;</span><br><span class="line">    this.elementData &#x3D; DEFAULTCAPACITY_EMPTY_ELEMENTDATA;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;æ ¹æ®æŒ‡å®šå®¹é‡åˆ›å»ºå¯¹è±¡æ•°ç»„</span><br><span class="line">public ArrayList(int initialCapacity) &#123;</span><br><span class="line">    if (initialCapacity &gt; 0) &#123;</span><br><span class="line">        &#x2F;&#x2F;åˆ›å»ºinitialCapacityå¤§å°çš„æ•°ç»„</span><br><span class="line">        this.elementData &#x3D; new Object[initialCapacity];</span><br><span class="line">    &#125; else if (initialCapacity &#x3D;&#x3D; 0) &#123;</span><br><span class="line">        &#x2F;&#x2F;åˆ›å»ºç©ºæ•°ç»„</span><br><span class="line">        this.elementData &#x3D; EMPTY_ELEMENTDATA;</span><br><span class="line">    &#125; else &#123;</span><br><span class="line">        throw new IllegalArgumentException(&quot;Illegal Capacity: &quot;+</span><br><span class="line">                                               initialCapacity);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#x2F;**</span><br><span class="line"> * æ„é€ ä¸€ä¸ªåŒ…å«æŒ‡å®šé›†åˆçš„å…ƒç´ çš„åˆ—è¡¨ï¼ŒæŒ‰ç…§å®ƒä»¬ç”±é›†åˆçš„è¿­ä»£å™¨è¿”å›çš„é¡ºåºã€‚</span><br><span class="line"> *&#x2F;</span><br><span class="line">public ArrayList(Collection&lt;? extends E&gt; c) &#123;</span><br><span class="line">    &#x2F;&#x2F;è½¬æ¢æœ€ä¸»è¦çš„æ˜¯toArray()ï¼Œè¿™åœ¨Collectionä¸­å°±å®šä¹‰äº†</span><br><span class="line">    elementData &#x3D; c.toArray();</span><br><span class="line">    if ((size &#x3D; elementData.length) !&#x3D; 0) &#123;</span><br><span class="line">        &#x2F;&#x2F; c.toArray æœ‰å¯èƒ½ä¸è¿”å›ä¸€ä¸ª Object æ•°ç»„</span><br><span class="line">        if (elementData.getClass() !&#x3D; Object[].class)</span><br><span class="line">            &#x2F;&#x2F;ä½¿ç”¨ Arrays.copy æ–¹æ³•æ‹·åˆ›å»ºä¸€ä¸ª Object æ•°ç»„</span><br><span class="line">            elementData &#x3D; Arrays.copyOf(elementData, size, Object[].class);</span><br><span class="line">    &#125; else &#123;</span><br><span class="line">        &#x2F;&#x2F; æ›¿æ¢ä¸ºç©ºæ•°ç»„</span><br><span class="line">        this.elementData &#x3D; EMPTY_ELEMENTDATA;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>add</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">public boolean add(E e) &#123;</span><br><span class="line">       ensureCapacityInternal(size + 1);  &#x2F;&#x2F; sizeè¡¨ç¤ºæ•°ç»„æ’å…¥çš„å€¼çš„ä¸ªæ•°ï¼Œæ‰€ä»¥ç¬¬ä¸€æ­¥åº”è¯¥ç¡®ä¿æ•°ç»„çš„é•¿åº¦è¶³å¤Ÿæ–°å€¼çš„æ’å…¥</span><br><span class="line">       elementData[size++] &#x3D; e;  &#x2F;&#x2F;elementDataä¿å­˜çš„æ˜¯æ·»åŠ å€¼çš„æ•°ç»„</span><br><span class="line">       return true;</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">private void ensureCapacityInternal(int minCapacity) &#123;</span><br><span class="line">       ensureExplicitCapacity(calculateCapacity(elementData, minCapacity));</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">private void ensureExplicitCapacity(int minCapacity) &#123;</span><br><span class="line">      modCount++;</span><br><span class="line">      &#x2F;&#x2F; overflow-conscious code</span><br><span class="line">      if (minCapacity - elementData.length &gt; 0)</span><br><span class="line">          grow(minCapacity);</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">private void grow(int minCapacity) &#123; &#x2F;&#x2F;æ•°ç»„æ‰©å®¹ï¼Œæ¯æ¬¡æ˜¯åŸæ¥çš„1.5å€ï¼Œé€šè¿‡Arrays.copyOfæ‰©å®¹</span><br><span class="line">      &#x2F;&#x2F; overflow-conscious code</span><br><span class="line">      int oldCapacity &#x3D; elementData.length;</span><br><span class="line">      int newCapacity &#x3D; oldCapacity + (oldCapacity &gt;&gt; 1);</span><br><span class="line">      if (newCapacity - minCapacity &lt; 0)</span><br><span class="line">          newCapacity &#x3D; minCapacity;</span><br><span class="line">      if (newCapacity - MAX_ARRAY_SIZE &gt; 0)</span><br><span class="line">          newCapacity &#x3D; hugeCapacity(minCapacity);</span><br><span class="line">      &#x2F;&#x2F; minCapacity is usually close to size, so this is a win:</span><br><span class="line">      elementData &#x3D; Arrays.copyOf(elementData, newCapacity);</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>remove</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F;System.arraycopyå°†indexåé¢çš„å…ƒç´ éƒ½å¾€å‰ç§»åŠ¨ä¸€ä½ï¼Œç„¶åsize-1</span><br><span class="line">public E remove(int index) &#123;</span><br><span class="line">       rangeCheck(index);</span><br><span class="line"></span><br><span class="line">       modCount++;</span><br><span class="line">       E oldValue &#x3D; elementData(index);</span><br><span class="line"></span><br><span class="line">       int numMoved &#x3D; size - index - 1;</span><br><span class="line">       if (numMoved &gt; 0)</span><br><span class="line">           System.arraycopy(elementData, index+1, elementData, index,</span><br><span class="line">                            numMoved);</span><br><span class="line">       elementData[--size] &#x3D; null; &#x2F;&#x2F; clear to let GC do its work</span><br><span class="line"></span><br><span class="line">       return oldValue;</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure>

<h3 id="ä¸ºä»€ä¹ˆArrayListæ˜¯çº¿ç¨‹ä¸å®‰å…¨çš„"><a href="#ä¸ºä»€ä¹ˆArrayListæ˜¯çº¿ç¨‹ä¸å®‰å…¨çš„" class="headerlink" title="ä¸ºä»€ä¹ˆArrayListæ˜¯çº¿ç¨‹ä¸å®‰å…¨çš„"></a>ä¸ºä»€ä¹ˆArrayListæ˜¯çº¿ç¨‹ä¸å®‰å…¨çš„</h3><p><strong>ä»¥addæ–¹æ³•ä¸ºä¾‹</strong></p>
<ol>
<li>åˆ—è¡¨å¤§å°ä¸º9ï¼Œå³size=9</li>
<li>çº¿ç¨‹Aå¼€å§‹è¿›å…¥addæ–¹æ³•ï¼Œè¿™æ—¶å®ƒè·å–åˆ°sizeçš„å€¼ä¸º9ï¼Œè°ƒç”¨ensureCapacityInternalæ–¹æ³•è¿›è¡Œå®¹é‡åˆ¤æ–­ã€‚</li>
<li>çº¿ç¨‹Bæ­¤æ—¶ä¹Ÿè¿›å…¥addæ–¹æ³•ï¼Œå®ƒè·å–åˆ°sizeçš„å€¼ä¹Ÿä¸º9ï¼Œä¹Ÿå¼€å§‹è°ƒç”¨ensureCapacityInternalæ–¹æ³•ã€‚</li>
<li>çº¿ç¨‹Aå‘ç°éœ€æ±‚å¤§å°ä¸º10ï¼Œè€ŒelementDataçš„å¤§å°å°±ä¸º10ï¼Œå¯ä»¥å®¹çº³ã€‚äºæ˜¯å®ƒä¸å†æ‰©å®¹ï¼Œè¿”å›ã€‚</li>
<li>çº¿ç¨‹Bä¹Ÿå‘ç°éœ€æ±‚å¤§å°ä¸º10ï¼Œä¹Ÿå¯ä»¥å®¹çº³ï¼Œè¿”å›ã€‚</li>
<li>çº¿ç¨‹Aå¼€å§‹è¿›è¡Œè®¾ç½®å€¼æ“ä½œï¼Œ elementData[size++] = e æ“ä½œã€‚æ­¤æ—¶sizeå˜ä¸º10ã€‚</li>
<li>çº¿ç¨‹Bä¹Ÿå¼€å§‹è¿›è¡Œè®¾ç½®å€¼æ“ä½œï¼Œå®ƒå°è¯•è®¾ç½®elementData[10] = eï¼Œè€ŒelementDataæ²¡æœ‰è¿›è¡Œè¿‡æ‰©å®¹ï¼Œå®ƒçš„ä¸‹æ ‡æœ€å¤§ä¸º9ã€‚äºæ˜¯æ­¤æ—¶ä¼šæŠ¥å‡ºä¸€ä¸ªæ•°ç»„è¶Šç•Œçš„å¼‚å¸¸ArrayIndexOutOfBoundsException.</li>
</ol>
<h3 id="Vector"><a href="#Vector" class="headerlink" title="Vector"></a>Vector</h3><p>Vectorå’ŒArrayListç±»ä¼¼ï¼Œä½†æ˜¯å®ƒé€šè¿‡é”æœºåˆ¶ï¼Œä¿è¯äº†çº¿ç¨‹çš„å®‰å…¨æ€§ï¼Œæ‰€ä»¥æ•ˆç‡ç›¸å¯¹ArrayListæ¥è¯´ä¼šå·®ä¸€äº›ã€‚</p>
<h1 id="Queue"><a href="#Queue" class="headerlink" title="Queue"></a>Queue</h1><blockquote>
<p>Queueç”¨äºæ¨¡æ‹Ÿé˜Ÿåˆ—è¿™ç§æ•°æ®ç»“æ„ï¼Œé˜Ÿåˆ—é€šå¸¸æ˜¯æŒ‡â€œå…ˆè¿›å…ˆå‡ºâ€ï¼ˆFIFOï¼‰çš„å®¹å™¨ã€‚æ–°å…ƒç´ æ’å…¥ï¼ˆofferï¼‰åˆ°é˜Ÿåˆ—çš„å°¾éƒ¨ï¼Œè®¿é—®å…ƒç´ ï¼ˆpollï¼‰æ“ä½œä¼šè¿”å›é˜Ÿåˆ—å¤´éƒ¨çš„å…ƒç´ ã€‚é€šå¸¸ï¼Œé˜Ÿåˆ—ä¸å…è®¸éšæœºè®¿é—®é˜Ÿåˆ—ä¸­çš„å…ƒç´ ã€‚</p>
</blockquote>
<h2 id="PriorityQueue"><a href="#PriorityQueue" class="headerlink" title="PriorityQueue"></a>PriorityQueue</h2><ul>
<li>PriorityQueueä¿å­˜é˜Ÿåˆ—å…ƒç´ çš„é¡ºåºä¸æ˜¯æŒ‰åŠ å…¥é˜Ÿåˆ—çš„é¡ºåºï¼Œè€Œæ˜¯æŒ‰é˜Ÿåˆ—å…ƒç´ çš„å¤§å°è¿›è¡Œé‡æ–°æ’åºã€‚å› æ­¤å½“è°ƒç”¨peek()æˆ–pool()æ–¹æ³•å–å‡ºé˜Ÿåˆ—ä¸­å¤´éƒ¨çš„å…ƒç´ æ—¶ï¼Œå¹¶ä¸æ˜¯å–å‡ºæœ€å…ˆè¿›å…¥é˜Ÿåˆ—çš„å…ƒç´ ï¼Œè€Œæ˜¯å–å‡ºé˜Ÿåˆ—ä¸­çš„æœ€å°çš„å…ƒç´ ã€‚</li>
<li>å½“PriorityQueueä¸­æ²¡æœ‰æŒ‡å®šComparatoræ—¶ï¼ŒåŠ å…¥PriorityQueueçš„å…ƒç´ å¿…é¡»å®ç°äº†Comparableæ¥å£ï¼ˆå³å…ƒç´ æ˜¯å¯æ¯”è¾ƒçš„ï¼‰ï¼Œå¦åˆ™ä¼šå¯¼è‡´ ClassCastExceptionã€‚</li>
</ul>
<h2 id="LinkedList"><a href="#LinkedList" class="headerlink" title="LinkedList"></a>LinkedList</h2><blockquote>
<p>Javaçš„LinkedListæ˜¯ä¸€ç§å¸¸ç”¨çš„æ•°æ®å®¹å™¨ï¼Œä¸ArrayListç›¸æ¯”ï¼ŒLinkedListçš„å¢åˆ æ“ä½œæ•ˆç‡æ›´é«˜ï¼Œè€ŒæŸ¥æ”¹æ“ä½œæ•ˆç‡è¾ƒä½ã€‚</p>
<ul>
<li>LinkedList å®ç°äº†List æ¥å£ï¼Œèƒ½å¯¹å®ƒè¿›è¡Œåˆ—è¡¨æ“ä½œã€‚</li>
<li>LinkedList å®ç°äº†Deque æ¥å£ï¼Œå³èƒ½å°†LinkedListå½“ä½œåŒç«¯é˜Ÿåˆ—ä½¿ç”¨ã€‚</li>
<li>LinkedList å®ç°äº†Cloneableæ¥å£ï¼Œèƒ½å…‹éš†ã€‚</li>
<li>LinkedList å®ç°äº†java.io.Serializableæ¥å£ï¼Œè¿™æ„å‘³ç€LinkedListæ”¯æŒåºåˆ—åŒ–ï¼Œèƒ½é€šè¿‡åºåˆ—åŒ–å»ä¼ è¾“ã€‚</li>
</ul>
</blockquote>
<p>æ˜¯ä¸€ä¸ªä½¿ç”¨åŒå‘é“¾è¡¨ç»“æ„å®ç°çš„å®¹å™¨</p>
<h3 id="æºç åˆ†æ-2"><a href="#æºç åˆ†æ-2" class="headerlink" title="æºç åˆ†æ"></a>æºç åˆ†æ</h3><ul>
<li>å±æ€§</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">public class LinkedList&lt;E&gt;</span><br><span class="line">    extends AbstractSequentialList&lt;E&gt;</span><br><span class="line">    implements List&lt;E&gt;, Deque&lt;E&gt;, Cloneable, java.io.Serializable</span><br><span class="line">&#123;</span><br><span class="line">		&#x2F;&#x2F;é“¾è¡¨é•¿åº¦</span><br><span class="line">    transient int size &#x3D; 0;</span><br><span class="line"></span><br><span class="line">		&#x2F;&#x2F;é“¾è¡¨å¤´å…ƒç´ </span><br><span class="line">    transient Node&lt;E&gt; first;</span><br><span class="line"></span><br><span class="line">		&#x2F;&#x2F;é“¾è¡¨å°¾å…ƒç´ </span><br><span class="line">    transient Node&lt;E&gt; last;</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>node</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F;åŒå‘é“¾è¡¨çš„èŠ‚ç‚¹ç»“æ„</span><br><span class="line"> private static class Node&lt;E&gt; &#123;</span><br><span class="line">       E item;</span><br><span class="line">       Node&lt;E&gt; next;</span><br><span class="line">       Node&lt;E&gt; prev;</span><br><span class="line"></span><br><span class="line">       Node(Node&lt;E&gt; prev, E element, Node&lt;E&gt; next) &#123;</span><br><span class="line">           this.item &#x3D; element;</span><br><span class="line">           this.next &#x3D; next;</span><br><span class="line">           this.prev &#x3D; prev;</span><br><span class="line">       &#125;</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>add</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">public boolean add(E e) &#123;</span><br><span class="line">      linkLast(e);</span><br><span class="line">      return true;</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F;å¦‚æœæ˜¯ç¬¬ä¸€ä¸ªï¼Œä¸ºå¤´èŠ‚ç‚¹ï¼Œå¦åˆ™åŠ åˆ°æœ€åä¸€ä¸ªèŠ‚ç‚¹çš„nextèŠ‚ç‚¹</span><br><span class="line">void linkLast(E e) &#123;</span><br><span class="line">     final Node&lt;E&gt; l &#x3D; last;</span><br><span class="line">     final Node&lt;E&gt; newNode &#x3D; new Node&lt;&gt;(l, e, null);</span><br><span class="line">     last &#x3D; newNode;</span><br><span class="line">     if (l &#x3D;&#x3D; null)</span><br><span class="line">         first &#x3D; newNode;</span><br><span class="line">     else</span><br><span class="line">         l.next &#x3D; newNode;</span><br><span class="line">     size++;</span><br><span class="line">     modCount++;</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>remove</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F;é€šè¿‡firstæ¥ä¸€æ­¥ä¸€æ­¥æŸ¥æ‰¾ä¸‹ä¸€ä¸ªèŠ‚ç‚¹ï¼Œæ‰¾åˆ°åå†unlinkæ“ä½œé“¾è¡¨åˆ é™¤</span><br><span class="line">public boolean remove(Object o) &#123;</span><br><span class="line">      if (o &#x3D;&#x3D; null) &#123;</span><br><span class="line">          for (Node&lt;E&gt; x &#x3D; first; x !&#x3D; null; x &#x3D; x.next) &#123;</span><br><span class="line">              if (x.item &#x3D;&#x3D; null) &#123;</span><br><span class="line">                  unlink(x);</span><br><span class="line">                  return true;</span><br><span class="line">              &#125;</span><br><span class="line">          &#125;</span><br><span class="line">      &#125; else &#123;</span><br><span class="line">          for (Node&lt;E&gt; x &#x3D; first; x !&#x3D; null; x &#x3D; x.next) &#123;</span><br><span class="line">              if (o.equals(x.item)) &#123;</span><br><span class="line">                  unlink(x);</span><br><span class="line">                  return true;</span><br><span class="line">              &#125;</span><br><span class="line">          &#125;</span><br><span class="line">      &#125;</span><br><span class="line">      return false;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"> </span><br><span class="line">&#x2F;&#x2F;åˆ é™¤é“¾è¡¨æŸä¸ªå…ƒç´ x</span><br><span class="line"> E unlink(Node&lt;E&gt; x) &#123;</span><br><span class="line">      &#x2F;&#x2F; assert x !&#x3D; null;</span><br><span class="line">      final E element &#x3D; x.item;</span><br><span class="line">      final Node&lt;E&gt; next &#x3D; x.next;</span><br><span class="line">      final Node&lt;E&gt; prev &#x3D; x.prev;</span><br><span class="line">		&#x2F;&#x2F;å¦‚æœxä¸ºç¬¬ä¸€ä¸ªå…ƒç´ ï¼Œé‚£ä¹ˆåˆ é™¤xåï¼Œx.nextå°±æ˜¯ç¬¬ä¸€ä¸ªå…ƒç´ </span><br><span class="line">      if (prev &#x3D;&#x3D; null) &#123;</span><br><span class="line">          first &#x3D; next;</span><br><span class="line">      &#125; else &#123;</span><br><span class="line">      		&#x2F;&#x2F;å¦åˆ™xçš„ä¸Šä¸€ä¸ªçš„nextæŒ‡å‘xçš„ä¸‹ä¸€ä¸ªï¼Œè¿™æ ·xå°±å»ºç«‹äº†xçš„ä¸Šä¸€ä¸ªå’Œä¸‹ä¸€ä¸ªä¹‹é—´çš„å…³ç³»</span><br><span class="line">          prev.next &#x3D; next;</span><br><span class="line">          x.prev &#x3D; null;</span><br><span class="line">      &#125;</span><br><span class="line">		&#x2F;&#x2F;å¦‚æœxæ˜¯æœ€åä»¥åï¼Œé‚£ä¹ˆxçš„preæ­¤æ—¶å°±æ˜¯æœ€åä¸€ä¸ªäº†</span><br><span class="line">      if (next &#x3D;&#x3D; null) &#123;</span><br><span class="line">          last &#x3D; prev;</span><br><span class="line">      &#125; else &#123;</span><br><span class="line">      		&#x2F;&#x2F;xçš„ä¸‹ä¸€ä¸ªçš„prevæŒ‡å‘xçš„prevï¼ŒåŒå‘é“¾è¡¨</span><br><span class="line">          next.prev &#x3D; prev;</span><br><span class="line">          x.next &#x3D; null;</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      x.item &#x3D; null;</span><br><span class="line">      size--;</span><br><span class="line">      modCount++;</span><br><span class="line">      return element;</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>

 
      <!-- reward -->
      
    </div>
    

    <!-- copyright -->
    
    <footer class="article-footer">
       
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Collection/" rel="tag">Collection</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E9%9B%86%E5%90%88/" rel="tag">é›†åˆ</a></li></ul>

    </footer>
  </div>

    
 
   
</article>

    
    <article
  id="post-vueæºç åˆ†æ-é¡¹ç›®ç»“æ„"
  class="article article-type-post"
  itemscope
  itemprop="blogPost"
  data-scroll-reveal
>
  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2020/11/06/vue%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90-%E9%A1%B9%E7%9B%AE%E7%BB%93%E6%9E%84/"
    >vueæºç åˆ†æ--é¡¹ç›®ç»“æ„</a> 
</h2>
 

    </header>
     
    <div class="article-meta">
      <a href="/2020/11/06/vue%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90-%E9%A1%B9%E7%9B%AE%E7%BB%93%E6%9E%84/" class="article-date">
  <time datetime="2020-11-06T12:04:40.000Z" itemprop="datePublished">2020-11-06</time>
</a>    
    </div>
      
    <div class="article-entry" itemprop="articleBody">
       
   
      <!-- reward -->
      
    </div>
    

    <!-- copyright -->
    
    <footer class="article-footer">
       
    </footer>
  </div>

    
 
   
</article>

    
    <article
  id="post-vue-axiosåˆ†æ"
  class="article article-type-post"
  itemscope
  itemprop="blogPost"
  data-scroll-reveal
>
  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2020/10/12/vue-axios%E5%88%86%E6%9E%90/"
    >vue-axiosåˆ†æ</a> 
</h2>
 

    </header>
     
    <div class="article-meta">
      <a href="/2020/10/12/vue-axios%E5%88%86%E6%9E%90/" class="article-date">
  <time datetime="2020-10-12T08:10:41.000Z" itemprop="datePublished">2020-10-12</time>
</a> 
  <div class="article-category">
    <a class="article-category-link" href="/categories/vue/">vue</a> / <a class="article-category-link" href="/categories/vue/adios/">adios</a>
  </div>
   
    </div>
      
    <div class="article-entry" itemprop="articleBody">
       
  <h1 id="ç®€ä»‹"><a href="#ç®€ä»‹" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h1><h2 id="ä»€ä¹ˆæ˜¯-axiosï¼Ÿ"><a href="#ä»€ä¹ˆæ˜¯-axiosï¼Ÿ" class="headerlink" title="ä»€ä¹ˆæ˜¯ axiosï¼Ÿ"></a>ä»€ä¹ˆæ˜¯ axiosï¼Ÿ</h2><p>Axios æ˜¯ä¸€ä¸ªåŸºäº promise çš„ HTTP åº“ï¼Œå¯ä»¥ç”¨åœ¨æµè§ˆå™¨å’Œ node.js ä¸­ã€‚</p>
<h2 id="ç‰¹æ€§"><a href="#ç‰¹æ€§" class="headerlink" title="ç‰¹æ€§"></a>ç‰¹æ€§</h2><ul>
<li><p>ä»æµè§ˆå™¨ä¸­åˆ›å»º <a target="_blank" rel="noopener" href="https://developer.mozilla.org/en-US/docs/Web/API/XMLHttpRequest">XMLHttpRequests</a></p>
</li>
<li><p>ä» node.js åˆ›å»º <a target="_blank" rel="noopener" href="http://nodejs.org/api/http.html">http</a> è¯·æ±‚</p>
</li>
<li><p>æ”¯æŒ <a target="_blank" rel="noopener" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a> API</p>
</li>
<li><p>æ‹¦æˆªè¯·æ±‚å’Œå“åº”</p>
</li>
<li><p>è½¬æ¢è¯·æ±‚æ•°æ®å’Œå“åº”æ•°æ®</p>
</li>
<li><p>å–æ¶ˆè¯·æ±‚</p>
</li>
<li><p>è‡ªåŠ¨è½¬æ¢ JSON æ•°æ®</p>
</li>
<li><p>å®¢æˆ·ç«¯æ”¯æŒé˜²å¾¡ <a target="_blank" rel="noopener" href="http://en.wikipedia.org/wiki/Cross-site_request_forgery">XSRF</a></p>
</li>
<li><p>æ˜¯vueæ¡†æ¶æ¨èä½¿ç”¨çš„ç½‘ç»œè¯·æ±‚åº“</p>
</li>
</ul>
<p>Axiosåº”ç”¨ä¹Ÿæ˜¯éå¸¸ç®€å•å¥½ç”¨ï¼Œå¯ä»¥æŸ¥çœ‹æ–‡æ¡£ <a target="_blank" rel="noopener" href="http://www.axios-js.com/zh-cn/docs/%E3%80%82">http://www.axios-js.com/zh-cn/docs/ã€‚</a></p>
<h1 id="æºç è§£è¯»"><a href="#æºç è§£è¯»" class="headerlink" title="æºç è§£è¯»"></a>æºç è§£è¯»</h1><h2 id="é—®é¢˜"><a href="#é—®é¢˜" class="headerlink" title="é—®é¢˜"></a>é—®é¢˜</h2><p>é€šè¿‡é˜…è¯»æºç ï¼Œæ¥è§£è¯»ä¸€ä¸‹å‡ ä¸ªé—®é¢˜</p>
<ul>
<li>1.axiosï¼ŒAxiosï¼Œinstanceä¹‹é—´æ˜¯ä»€ä¹ˆå…³ç³»</li>
<li>æ‹¦æˆªå™¨çš„æ‰§è¡Œé¡ºåºï¼Œæ˜¯å¦‚ä½•ä¸²è”èµ·æ¥çš„</li>
<li>ä¸ºä»€ä¹ˆpostè¯·æ±‚æ—¶ï¼Œè¯·æ±‚å‚æ•°æ˜¯ä¸€ä¸ªå¯¹è±¡æ—¶ï¼ŒæœåŠ¡ç«¯æ¥æ”¶ä¸åˆ°ä¼ è¿‡æ¥çš„å‚æ•°</li>
</ul>
<h2 id="æºç "><a href="#æºç " class="headerlink" title="æºç "></a>æºç </h2><p>æºç åœ°å€ï¼š<a target="_blank" rel="noopener" href="https://github.com/axios/axios%EF%BC%8C%E4%B8%BB%E8%A6%81%E4%BB%A3%E7%A0%81%E9%83%BD%E5%9C%A8lib%E7%9B%AE%E5%BD%95%E4%B8%AD">https://github.com/axios/axiosï¼Œä¸»è¦ä»£ç éƒ½åœ¨libç›®å½•ä¸­</a></p>
<h2 id="axiosï¼ŒAxiosä¹‹é—´æ˜¯ä»€ä¹ˆå…³ç³»"><a href="#axiosï¼ŒAxiosä¹‹é—´æ˜¯ä»€ä¹ˆå…³ç³»" class="headerlink" title="axiosï¼ŒAxiosä¹‹é—´æ˜¯ä»€ä¹ˆå…³ç³»"></a>axiosï¼ŒAxiosä¹‹é—´æ˜¯ä»€ä¹ˆå…³ç³»</h2><p>æºç ç»“æ„å¦‚ä¸‹å›¾ç¤ºï¼š</p>
<p><img src="../../../../images/06/wy-01.png" alt="Image text"></p>
<h3 id="axios-js"><a href="#axios-js" class="headerlink" title="axios.js"></a>axios.js</h3><ul>
<li><p>ç”±äºæˆ‘ä»¬å¹³æ—¶éƒ½æ˜¯ç›´æ¥å¼•å…¥axioså¯¹è±¡ï¼Œæ‰“å¼€axios.jsæºç å‘ç°</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F;1.createInstanceåˆ›å»ºäº†axioså¯¹è±¡</span><br><span class="line">var axios &#x3D; createInstance(defaults);</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;2.</span><br><span class="line">function createInstance(defaultConfig) &#123;</span><br><span class="line">  var context &#x3D; new Axios(defaultConfig);</span><br><span class="line">  var instance &#x3D; bind(Axios.prototype.request, context);</span><br><span class="line"></span><br><span class="line">  &#x2F;&#x2F; Copy axios.prototype to instance</span><br><span class="line">  utils.extend(instance, Axios.prototype, context);</span><br><span class="line"></span><br><span class="line">  &#x2F;&#x2F; Copy context to instance</span><br><span class="line">  utils.extend(instance, context);</span><br><span class="line"></span><br><span class="line">  return instance;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>åŸæ¥axioså¯¹è±¡æ˜¯æ¥è‡ªäºAxiosï¼Œä»åŠŸèƒ½ä¸Šæ¥è®²ï¼Œaxiosæ˜¯Axiosçš„å®ä¾‹å¯¹è±¡ï¼Œå› ä¸ºæˆ‘ä»¬å¯ä»¥å‘ç°Axiosçš„requetæ–¹æ³•ï¼ŒåŸå‹å¯¹è±¡ä¹Ÿå¤åˆ¶äº†ä¸€ä»½åˆ°axioså®ä¾‹ä¸Šï¼Œä½†æ˜¯ä»è¯­æ³•è§’åº¦ï¼Œaxios æ˜¯Axios.prototype.requestå‡½æ•°ï¼Œ<strong>å³axiosæ˜¯è¯·æ±‚requestå‡½æ•°</strong></p>
</li>
<li><p>åŒæ—¶ï¼Œä¸‹é¢æ˜¯axiosè‡ªå·±ç‰¹æœ‰çš„å±æ€§ï¼ŒAxiosæ²¡æœ‰</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; Factory for creating new instances</span><br><span class="line">axios.create &#x3D; function create(instanceConfig) &#123;</span><br><span class="line">  return createInstance(mergeConfig(axios.defaults, instanceConfig));</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; Expose Cancel &amp; CancelToken</span><br><span class="line">axios.Cancel &#x3D; require(&#39;.&#x2F;cancel&#x2F;Cancel&#39;);</span><br><span class="line">axios.CancelToken &#x3D; require(&#39;.&#x2F;cancel&#x2F;CancelToken&#39;);</span><br><span class="line">axios.isCancel &#x3D; require(&#39;.&#x2F;cancel&#x2F;isCancel&#39;);</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; Expose all&#x2F;spread</span><br><span class="line">axios.all &#x3D; function all(promises) &#123;</span><br><span class="line">  return Promise.all(promises);</span><br><span class="line">&#125;;</span><br><span class="line">axios.spread &#x3D; require(&#39;.&#x2F;helpers&#x2F;spread&#39;);</span><br></pre></td></tr></table></figure>

</li>
</ul>
<h3 id="Axios-js"><a href="#Axios-js" class="headerlink" title="Axios.js"></a>Axios.js</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line">function Axios(instanceConfig) &#123;</span><br><span class="line">  this.defaults &#x3D; instanceConfig;</span><br><span class="line">  this.interceptors &#x3D; &#123;</span><br><span class="line">    request: new InterceptorManager(),</span><br><span class="line">    response: new InterceptorManager()</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Axios.prototype.request &#x3D; function request(config) &#123;</span><br><span class="line"> 	</span><br><span class="line">	......</span><br><span class="line">  return promise;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; Provide aliases for supported request methods</span><br><span class="line">utils.forEach([&#39;delete&#39;, &#39;get&#39;, &#39;head&#39;, &#39;options&#39;], function forEachMethodNoData(method) &#123;</span><br><span class="line">  &#x2F;*eslint func-names:0*&#x2F;</span><br><span class="line">  Axios.prototype[method] &#x3D; function(url, config) &#123;</span><br><span class="line">    return this.request(mergeConfig(config || &#123;&#125;, &#123;</span><br><span class="line">      method: method,</span><br><span class="line">      url: url,</span><br><span class="line">      data: (config || &#123;&#125;).data</span><br><span class="line">    &#125;));</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">utils.forEach([&#39;post&#39;, &#39;put&#39;, &#39;patch&#39;], function forEachMethodWithData(method) &#123;</span><br><span class="line">  &#x2F;*eslint func-names:0*&#x2F;</span><br><span class="line">  Axios.prototype[method] &#x3D; function(url, data, config) &#123;</span><br><span class="line">    return this.request(mergeConfig(config || &#123;&#125;, &#123;</span><br><span class="line">      method: method,</span><br><span class="line">      url: url,</span><br><span class="line">      data: data</span><br><span class="line">    &#125;));</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<ul>
<li>æ„é€ å‡½æ•°æœ‰é»˜è®¤é…ç½®æ¥æ”¶å’Œæ‹¦æˆªå™¨å±æ€§</li>
<li>requetè¯·æ±‚å’Œæ‰©å±•çš„httpè¯·æ±‚çš„ç®€å•å®ç°</li>
</ul>
<h2 id="æ‹¦æˆªå™¨çš„æ‰§è¡Œé¡ºåºï¼Œæ˜¯å¦‚ä½•ä¸²è”èµ·æ¥çš„"><a href="#æ‹¦æˆªå™¨çš„æ‰§è¡Œé¡ºåºï¼Œæ˜¯å¦‚ä½•ä¸²è”èµ·æ¥çš„" class="headerlink" title="æ‹¦æˆªå™¨çš„æ‰§è¡Œé¡ºåºï¼Œæ˜¯å¦‚ä½•ä¸²è”èµ·æ¥çš„"></a>æ‹¦æˆªå™¨çš„æ‰§è¡Œé¡ºåºï¼Œæ˜¯å¦‚ä½•ä¸²è”èµ·æ¥çš„</h2><h3 id="Axios-js-gt-request"><a href="#Axios-js-gt-request" class="headerlink" title="Axios.js-&gt;request"></a>Axios.js-&gt;request</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">&#x2F;**</span><br><span class="line"> * Dispatch a request</span><br><span class="line"> *</span><br><span class="line"> * @param &#123;Object&#125; config The config specific for this request (merged with this.defaults)</span><br><span class="line"> *&#x2F;</span><br><span class="line">Axios.prototype.request &#x3D; function request(config) &#123;</span><br><span class="line">  &#x2F;*eslint no-param-reassign:0*&#x2F;</span><br><span class="line">  &#x2F;&#x2F; Allow for axios(&#39;example&#x2F;url&#39;[, config]) a la fetch API</span><br><span class="line">  if (typeof config &#x3D;&#x3D;&#x3D; &#39;string&#39;) &#123;</span><br><span class="line">    config &#x3D; arguments[1] || &#123;&#125;;</span><br><span class="line">    config.url &#x3D; arguments[0];</span><br><span class="line">  &#125; else &#123;</span><br><span class="line">    config &#x3D; config || &#123;&#125;;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  config &#x3D; mergeConfig(this.defaults, config);</span><br><span class="line"></span><br><span class="line">  &#x2F;&#x2F; Set config.method</span><br><span class="line">  if (config.method) &#123;</span><br><span class="line">    config.method &#x3D; config.method.toLowerCase();</span><br><span class="line">  &#125; else if (this.defaults.method) &#123;</span><br><span class="line">    config.method &#x3D; this.defaults.method.toLowerCase();</span><br><span class="line">  &#125; else &#123;</span><br><span class="line">    config.method &#x3D; &#39;get&#39;;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  &#x2F;&#x2F; Hook up interceptors middleware</span><br><span class="line">  var chain &#x3D; [dispatchRequest, undefined];</span><br><span class="line">  var promise &#x3D; Promise.resolve(config);</span><br><span class="line"></span><br><span class="line">  this.interceptors.request.forEach(function unshiftRequestInterceptors(interceptor) &#123;</span><br><span class="line">    chain.unshift(interceptor.fulfilled, interceptor.rejected);</span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line">  this.interceptors.response.forEach(function pushResponseInterceptors(interceptor) &#123;</span><br><span class="line">    chain.push(interceptor.fulfilled, interceptor.rejected);</span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line">  while (chain.length) &#123;</span><br><span class="line">    promise &#x3D; promise.then(chain.shift(), chain.shift());</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  return promise;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<ul>
<li>å› ä¸ºaxiosæ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œæ‰§è¡Œaxiosä¹Ÿå°±æ˜¯åœ¨æ‰§è¡Œrequestå‡½æ•°</li>
<li></li>
</ul>
 
      <!-- reward -->
      
    </div>
    

    <!-- copyright -->
    
    <footer class="article-footer">
       
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/vue/" rel="tag">vue</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E6%A1%86%E6%9E%B6/" rel="tag">æ¡†æ¶</a></li></ul>

    </footer>
  </div>

    
 
   
</article>

    
    <article
  id="post-jetpackç³»åˆ—-dataBindingä½¿ç”¨"
  class="article article-type-post"
  itemscope
  itemprop="blogPost"
  data-scroll-reveal
>
  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2020/10/11/jetpack%E7%B3%BB%E5%88%97-dataBinding%E4%BD%BF%E7%94%A8/"
    >dataBindingä½¿ç”¨</a> 
</h2>
 

    </header>
     
    <div class="article-meta">
      <a href="/2020/10/11/jetpack%E7%B3%BB%E5%88%97-dataBinding%E4%BD%BF%E7%94%A8/" class="article-date">
  <time datetime="2020-10-11T03:50:46.000Z" itemprop="datePublished">2020-10-11</time>
</a>    
    </div>
      
    <div class="article-entry" itemprop="articleBody">
       
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">&lt;layout&gt;</span><br><span class="line">	&lt;data&gt;</span><br><span class="line">	&lt;variable&gt;</span><br><span class="line">	&lt;&#x2F;variable&gt;</span><br><span class="line">	&lt;&#x2F;data&gt;</span><br><span class="line">	</span><br><span class="line">		&quot;@&#123;user.name&#125;&quot;&#x2F;&#x2F;ç®€å•èµ‹å€¼</span><br><span class="line">		</span><br><span class="line">		</span><br><span class="line">		&quot;@&#x3D;&#123;user.name&#125;&quot;&#x2F;&#x2F;åŒå‘ç»‘å®š</span><br><span class="line">		</span><br><span class="line">		&quot;@&#123;()-&gt;listenr.change()&#125;&quot;</span><br><span class="line">		</span><br><span class="line">&lt;&#x2F;layout&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">kotlin:</span><br><span class="line">val binding&#x3D;DatabindingUtils.bind(this,R.layout.xxx)</span><br><span class="line">binding.user&#x3D;user</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">viewmodeProvider(this,ViewModelProvider.newInstanceFacotry()).get(ViewModelXXX::class.java)</span><br><span class="line">viewmodeProvider(this,ViewModelProvider.AndroidViewModelFacotry.getInstance(application).get(ViewModelXXX::class.java)</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>livedata</p>
<p>viewmodel</p>
<p>hilt</p>
<p>databinding</p>
 
      <!-- reward -->
      
    </div>
    

    <!-- copyright -->
    
    <footer class="article-footer">
       
    </footer>
  </div>

    
 
   
</article>

    
    <article
  id="post-vue-cliè¯¦è§£"
  class="article article-type-post"
  itemscope
  itemprop="blogPost"
  data-scroll-reveal
>
  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2020/10/08/vue-cli%E8%AF%A6%E8%A7%A3/"
    >vue-cliè¯¦è§£</a> 
</h2>
 

    </header>
     
    <div class="article-meta">
      <a href="/2020/10/08/vue-cli%E8%AF%A6%E8%A7%A3/" class="article-date">
  <time datetime="2020-10-08T06:43:48.000Z" itemprop="datePublished">2020-10-08</time>
</a> 
  <div class="article-category">
    <a class="article-category-link" href="/categories/vue/">vue</a> / <a class="article-category-link" href="/categories/vue/%E5%B7%A5%E5%85%B7/">å·¥å…·</a>
  </div>
   
    </div>
      
    <div class="article-entry" itemprop="articleBody">
       
  <h1 id="æ¦‚å¿µ"><a href="#æ¦‚å¿µ" class="headerlink" title="æ¦‚å¿µ"></a>æ¦‚å¿µ</h1><blockquote>
<p>Vue CLI æ˜¯ä¸€ä¸ªåŸºäº Vue.js è¿›è¡Œå¿«é€Ÿå¼€å‘çš„å®Œæ•´ç³»ç»Ÿï¼Œæä¾›ï¼š</p>
<ul>
<li>é€šè¿‡ <code>@vue/cli</code> å®ç°çš„äº¤äº’å¼çš„é¡¹ç›®è„šæ‰‹æ¶ã€‚</li>
<li>é€šè¿‡ <code>@vue/cli</code> + <code>@vue/cli-service-global</code> å®ç°çš„é›¶é…ç½®åŸå‹å¼€å‘ã€‚</li>
<li>ä¸€ä¸ªè¿è¡Œæ—¶ä¾èµ– <ul>
<li>å¯å‡çº§ï¼›</li>
<li>åŸºäº webpack æ„å»ºï¼Œå¹¶å¸¦æœ‰åˆç†çš„é»˜è®¤é…ç½®ï¼›</li>
<li>å¯ä»¥é€šè¿‡é¡¹ç›®å†…çš„é…ç½®æ–‡ä»¶è¿›è¡Œé…ç½®ï¼›</li>
<li>å¯ä»¥é€šè¿‡æ’ä»¶è¿›è¡Œæ‰©å±•ã€‚</li>
</ul>
</li>
<li>ä¸€ä¸ªä¸°å¯Œçš„å®˜æ–¹æ’ä»¶é›†åˆï¼Œé›†æˆäº†å‰ç«¯ç”Ÿæ€ä¸­æœ€å¥½çš„å·¥å…·ã€‚</li>
<li>ä¸€å¥—å®Œå…¨å›¾å½¢åŒ–çš„åˆ›å»ºå’Œç®¡ç† Vue.js é¡¹ç›®çš„ç”¨æˆ·ç•Œé¢ã€‚</li>
</ul>
</blockquote>
<p>ç®€è¨€ä¹‹ï¼švue-cliå¯ä»¥è®©æˆ‘ä»¬å¿«é€Ÿåˆå§‹åŒ–ä¸€ä¸ªvueé¡¹ç›®ï¼Œå¹¶ä¸”å°è£…äº†webpackåˆç†çš„é…ç½®é¡¹ï¼Œè®©æˆ‘ä»¬å¯ä»¥ç›´æ¥è¿›è¡Œé¡¹ç›®å¼€å‘ã€‚åŒæ—¶ï¼Œvue-cliè¿˜æä¾›ä¸°å¯Œçš„æ‰©å±•åŠŸèƒ½ï¼Œç”šè‡³è¿˜æœ‰ä¸€ä¸ªå¯è§†åŒ–uiç•Œé¢ï¼Œä¸ä»…å¥½ç”¨ï¼Œè¿˜å¾ˆå¼ºå¤§ï¼Œæ˜¯å¼€å‘vueé¡¹ç›®çš„ä¸äºŒä¹‹é€‰ã€‚</p>
<h1 id="é¡¹ç›®æ·»åŠ é…ç½®"><a href="#é¡¹ç›®æ·»åŠ é…ç½®" class="headerlink" title="é¡¹ç›®æ·»åŠ é…ç½®"></a>é¡¹ç›®æ·»åŠ é…ç½®</h1><blockquote>
<p>ä¸€èˆ¬è€Œè¨€ï¼Œæˆ‘ä»¬åˆ›å»ºçš„é¡¹ç›®å³ä½¿ä¸é…ç½®ä»»ä½•æ–‡ä»¶ï¼Œä¹Ÿæ˜¯å¯ä»¥æ­£å¸¸è¿è¡Œçš„ï¼Œå› ä¸ºvue-cliåšäº†å¾ˆå¤šåˆç†æ€§çš„é…ç½®ï¼Œä½†æ˜¯ä¸åŒçš„é¡¹ç›®ä¼šæœ‰ä¸åŒçš„éœ€æ±‚ï¼Œæ‰€ä»¥å‡ ä¹éƒ½ä¼šè¿›è¡Œè‡ªå®šä¹‰é…ç½®ã€‚ä¹Ÿå°±æ˜¯vue.config.jsæ–‡ä»¶ã€‚</p>
</blockquote>
<h2 id="vue-config-js"><a href="#vue-config-js" class="headerlink" title="vue.config.js"></a>vue.config.js</h2><p><code>vue.config.js</code> æ˜¯ä¸€ä¸ªå¯é€‰çš„é…ç½®æ–‡ä»¶ï¼Œå¦‚æœé¡¹ç›®çš„ (å’Œ <code>package.json</code> åŒçº§çš„) æ ¹ç›®å½•ä¸­å­˜åœ¨è¿™ä¸ªæ–‡ä»¶ï¼Œé‚£ä¹ˆå®ƒä¼šè¢« <code>@vue/cli-service</code> è‡ªåŠ¨åŠ è½½ã€‚</p>
<p>è¿™ä¸ªæ–‡ä»¶åº”è¯¥å¯¼å‡ºä¸€ä¸ªåŒ…å«äº†é€‰é¡¹çš„å¯¹è±¡ï¼šï¼ˆè¿™é‡Œæ˜¯common.jsè§„èŒƒï¼‰</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// vue.config.js</span></span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  <span class="comment">// é€‰é¡¹...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="publicPath"><a href="#publicPath" class="headerlink" title="publicPath"></a>publicPath</h3><ul>
<li>Type: <code>string</code></li>
<li>Default: <code>&#39;/&#39;</code></li>
<li>å®šä¹‰éƒ¨ç½²åœ¨æœåŠ¡å™¨ä¸Šçš„å­ç›®å½•ã€‚ä¾‹å¦‚ï¼Œå¦‚æœä½ çš„åº”ç”¨è¢«éƒ¨ç½²åœ¨ <code>https://www.my-app.com/my-app/</code>ï¼Œåˆ™è®¾ç½® <code>publicPath</code> ä¸º <code>/my-app/</code>ã€‚</li>
<li>é»˜è®¤æƒ…å†µä¸‹ï¼ŒVue CLI ä¼šå‡è®¾ä½ çš„åº”ç”¨æ˜¯è¢«éƒ¨ç½²åœ¨ä¸€ä¸ªåŸŸåçš„æ ¹è·¯å¾„ä¸Šï¼Œä¾‹å¦‚ <code>https://www.my-app.com/</code></li>
</ul>
<h3 id="oututDir"><a href="#oututDir" class="headerlink" title="oututDir"></a>oututDir</h3><ul>
<li>Type: <code>string</code></li>
<li>Default: <code>&#39;dist&#39;</code></li>
<li>å½“è¿è¡Œ <code>vue-cli-service build</code> æ—¶ç”Ÿæˆçš„ç”Ÿäº§ç¯å¢ƒæ„å»ºæ–‡ä»¶çš„ç›®å½•ã€‚æ³¨æ„ç›®æ ‡ç›®å½•åœ¨æ„å»ºä¹‹å‰ä¼šè¢«æ¸…é™¤ (æ„å»ºæ—¶ä¼ å…¥ <code>--no-clean</code> å¯å…³é—­è¯¥è¡Œä¸º)ã€‚</li>
</ul>
<h3 id="assetsDir"><a href="#assetsDir" class="headerlink" title="assetsDir"></a>assetsDir</h3><ul>
<li><p>Type: <code>string</code></p>
</li>
<li><p>Default: <code>&#39;&#39;</code></p>
</li>
<li><p>æ”¾ç½®ç”Ÿæˆçš„é™æ€èµ„æº (jsã€cssã€imgã€fonts) çš„ (ç›¸å¯¹äº <code>outputDir</code> çš„) ç›®å½•ã€‚</p>
</li>
</ul>
<h3 id="indexPath"><a href="#indexPath" class="headerlink" title="indexPath"></a>indexPath</h3><ul>
<li>Type: <code>string</code></li>
<li>Default: <code>&#39;index.html&#39;</code></li>
<li>æŒ‡å®šç”Ÿæˆçš„ <code>index.html</code> çš„è¾“å‡ºè·¯å¾„ (ç›¸å¯¹äº <code>outputDir</code>)ã€‚ä¹Ÿå¯ä»¥æ˜¯ä¸€ä¸ªç»å¯¹è·¯å¾„ã€‚</li>
</ul>
<h3 id="filenameHashing"><a href="#filenameHashing" class="headerlink" title="filenameHashing"></a>filenameHashing</h3><ul>
<li><p>Type: <code>boolean</code></p>
</li>
<li><p>Default: <code>true</code></p>
<p>é»˜è®¤æƒ…å†µä¸‹ï¼Œç”Ÿæˆçš„é™æ€èµ„æºåœ¨å®ƒä»¬çš„æ–‡ä»¶åä¸­åŒ…å«äº† hash ä»¥ä¾¿æ›´å¥½çš„æ§åˆ¶ç¼“å­˜ã€‚ç„¶è€Œï¼Œè¿™ä¹Ÿè¦æ±‚ index çš„ HTML æ˜¯è¢« Vue CLI è‡ªåŠ¨ç”Ÿæˆçš„ã€‚å¦‚æœä½ æ— æ³•ä½¿ç”¨ Vue CLI ç”Ÿæˆçš„ index HTMLï¼Œä½ å¯ä»¥é€šè¿‡å°†è¿™ä¸ªé€‰é¡¹è®¾ä¸º <code>false</code> æ¥å…³é—­æ–‡ä»¶åå“ˆå¸Œã€‚</p>
</li>
</ul>
<h3 id="productionSourceMap"><a href="#productionSourceMap" class="headerlink" title="productionSourceMap"></a>productionSourceMap</h3><ul>
<li>Type: <code>boolean</code></li>
<li>Default: <code>true</code></li>
<li>å¦‚æœä½ ä¸éœ€è¦ç”Ÿäº§ç¯å¢ƒçš„ source mapï¼Œå¯ä»¥å°†å…¶è®¾ç½®ä¸º <code>false</code> ä»¥åŠ é€Ÿç”Ÿäº§ç¯å¢ƒæ„å»ºã€‚sourcemapæ˜¯æ‹¿æ¥ä½œä¸ºå®šä½ä»£ç debugæ—¶ç”¨çš„</li>
</ul>
<h3 id="css-extract"><a href="#css-extract" class="headerlink" title="css.extract"></a>css.extract</h3><ul>
<li><p>Type: <code>boolean | Object</code></p>
</li>
<li><p>Default: ç”Ÿäº§ç¯å¢ƒä¸‹æ˜¯ <code>true</code>ï¼Œå¼€å‘ç¯å¢ƒä¸‹æ˜¯ <code>false</code></p>
<p>æ˜¯å¦å°†ç»„ä»¶ä¸­çš„ CSS æå–è‡³ä¸€ä¸ªç‹¬ç«‹çš„ CSS æ–‡ä»¶ä¸­ (è€Œä¸æ˜¯åŠ¨æ€æ³¨å…¥åˆ° JavaScript ä¸­çš„ inline ä»£ç )ã€‚</p>
<p>æ˜¯é€šè¿‡mini-css-extract-pluginæ¥å®ç°çš„</p>
</li>
</ul>
<h3 id="css-sourceMap"><a href="#css-sourceMap" class="headerlink" title="css.sourceMap"></a>css.sourceMap</h3><ul>
<li><p>Type: <code>boolean</code></p>
</li>
<li><p>Default: <code>false</code></p>
<p>æ˜¯å¦ä¸º CSS å¼€å¯ source mapã€‚è®¾ç½®ä¸º <code>true</code> ä¹‹åå¯èƒ½ä¼šå½±å“æ„å»ºçš„æ€§èƒ½ã€‚</p>
</li>
</ul>
<h3 id="devServer"><a href="#devServer" class="headerlink" title="devServer"></a>devServer</h3><ul>
<li><p>Type: <code>Object</code></p>
<p><a target="_blank" rel="noopener" href="https://webpack.js.org/configuration/dev-server/">æ‰€æœ‰ <code>webpack-dev-server</code> çš„é€‰é¡¹</a>éƒ½æ”¯æŒã€‚æ³¨æ„ï¼š</p>
<ul>
<li>æœ‰äº›å€¼åƒ <code>host</code>ã€<code>port</code> å’Œ <code>https</code> å¯èƒ½ä¼šè¢«å‘½ä»¤è¡Œå‚æ•°è¦†å†™ã€‚</li>
<li>æœ‰äº›å€¼åƒ <code>publicPath</code> å’Œ <code>historyApiFallback</code> ä¸åº”è¯¥è¢«ä¿®æ”¹ï¼Œå› ä¸ºå®ƒä»¬éœ€è¦å’Œå¼€å‘æœåŠ¡å™¨çš„ <a target="_blank" rel="noopener" href="https://cli.vuejs.org/zh/config/#publicpath">publicPath</a> åŒæ­¥ä»¥ä¿éšœæ­£å¸¸çš„å·¥ä½œã€‚</li>
</ul>
</li>
</ul>
<h3 id="configureWebpack"><a href="#configureWebpack" class="headerlink" title="configureWebpack"></a>configureWebpack</h3><ul>
<li><p>Type: <code>Object | Function</code></p>
<p>å¦‚æœè¿™ä¸ªå€¼æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œåˆ™ä¼šé€šè¿‡ webpack-merge åˆå¹¶åˆ°æœ€ç»ˆçš„é…ç½®ä¸­ã€‚</p>
<p>å¦‚æœè¿™ä¸ªå€¼æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œåˆ™ä¼šæ¥æ”¶è¢«è§£æçš„é…ç½®ä½œä¸ºå‚æ•°ã€‚è¯¥å‡½æ•°æ—¢å¯ä»¥ä¿®æ”¹é…ç½®å¹¶ä¸è¿”å›ä»»ä½•ä¸œè¥¿ï¼Œä¹Ÿå¯ä»¥è¿”å›ä¸€ä¸ªè¢«å…‹éš†æˆ–åˆå¹¶è¿‡çš„é…ç½®ç‰ˆæœ¬ã€‚</p>
</li>
</ul>
<h3 id="chainWebpack"><a href="#chainWebpack" class="headerlink" title="chainWebpack"></a>chainWebpack</h3><ul>
<li><p>Type: <code>Function</code></p>
<p>æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œä¼šæ¥æ”¶ä¸€ä¸ªåŸºäº webpack-chainçš„ <code>ChainableConfig</code> å®ä¾‹ã€‚å…è®¸å¯¹å†…éƒ¨çš„ webpack é…ç½®è¿›è¡Œæ›´ç»†ç²’åº¦çš„ä¿®æ”¹ã€‚</p>
</li>
</ul>
<h2 id="é…ç½®ç¤ºä¾‹"><a href="#é…ç½®ç¤ºä¾‹" class="headerlink" title="é…ç½®ç¤ºä¾‹"></a>é…ç½®ç¤ºä¾‹</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br></pre></td><td class="code"><pre><span class="line">const path &#x3D; require(&#39;path&#39;)</span><br><span class="line">const Timestamp &#x3D; new Date().getTime();</span><br><span class="line">const CompressionWebpackPlugin &#x3D; require(&#39;compression-webpack-plugin&#39;);</span><br><span class="line">const productionGzipExtensions &#x3D; [&quot;js&quot;, &quot;css&quot;];</span><br><span class="line">module.exports &#x3D; &#123;</span><br><span class="line">    &#x2F;&#x2F; ç”Ÿäº§ç¯å¢ƒ sourceMap</span><br><span class="line">    productionSourceMap: false,</span><br><span class="line">    &#x2F;&#x2F; é…ç½®çº¿ä¸Šè®¿é—®çš„å‰ç½®ç›®å½•</span><br><span class="line">    publicPath: &#39;&#x2F;mp&#x2F;&#39;,</span><br><span class="line">    &#x2F;&#x2F; æ‰“åŒ…çš„æ–‡ä»¶å¤¹å</span><br><span class="line">    outputDir: &#39;mp&#39;,</span><br><span class="line">    &#x2F;&#x2F; æ”¾ç½®ç”Ÿæˆçš„é™æ€èµ„æºjs css imgçš„æ–‡ä»¶å¤¹</span><br><span class="line">    assetsDir: &#39;static&#39;,</span><br><span class="line">    &#x2F;&#x2F; æŒ‡å®šç”Ÿæˆçš„htmlå…¥å£æ–‡ä»¶è·¯å¾„</span><br><span class="line">    indexPath: &#39;index.html&#39;,</span><br><span class="line">    &#x2F;&#x2F;ç”Ÿæˆçš„é™æ€èµ„æºåœ¨å®ƒä»¬çš„æ–‡ä»¶åä¸­æ˜¯å¦åŒ…å«hashä»¥ä¾¿æ›´å¥½çš„æ§åˆ¶ç¼“å­˜</span><br><span class="line">    filenameHashing: true,</span><br><span class="line">    css: &#123;</span><br><span class="line">        sourceMap: true &#x2F;&#x2F;æ‰“å¼€æœ¬åœ°å¼€å‘ç¯å¢ƒä¸‹çš„sourceMap</span><br><span class="line">    &#125;,</span><br><span class="line">    chainWebpack: config &#x3D;&gt; &#123;</span><br><span class="line">        config.resolve.alias</span><br><span class="line">            .set(&#39;vue$&#39;, &#39;vue&#x2F;dist&#x2F;vue.esm.js&#39;)</span><br><span class="line">            .set(&#39;@&#39;, path.join(__dirname, &#39;src&#39;))   &#x2F;&#x2F;é¡¹ç›®åˆ«åè®¾ç½®</span><br><span class="line">            .set(&#39;@pages&#39;, path.join(__dirname, &#39;src&#x2F;pages&#39;))</span><br><span class="line">            .set(&#39;@assets&#39;, path.join(__dirname, &#39;src&#x2F;assets&#39;))</span><br><span class="line">            .set(&#39;@components&#39;, path.join(__dirname, &#39;src&#x2F;components&#39;))</span><br><span class="line">            .set(&#39;@store&#39;, path.join(__dirname, &#39;src&#x2F;store&#39;))</span><br><span class="line">            .set(&#39;@utils&#39;, path.join(__dirname, &#39;src&#x2F;utils&#39;))</span><br><span class="line"></span><br><span class="line">        &#x2F;&#x2F;æ‰“åŒ…åˆ†æå·¥å…·</span><br><span class="line">        if (process.env.use_analyzer) &#123;</span><br><span class="line">            config</span><br><span class="line">                .plugin(&#39;webpack-bundle-analyzer&#39;)</span><br><span class="line">                .use(require(&#39;webpack-bundle-analyzer&#39;).BundleAnalyzerPlugin)</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;,</span><br><span class="line">    configureWebpack: config &#x3D;&gt; &#123;</span><br><span class="line">        config.externals &#x3D; &#123;</span><br><span class="line">            vue: &#39;Vue&#39;,</span><br><span class="line">            moment: &#39;moment&#39;,</span><br><span class="line">            lodash: &#39;_&#39;,</span><br><span class="line">            &#39;vue-router&#39;: &#39;VueRouter&#39;,</span><br><span class="line">        &#125;,</span><br><span class="line">        &#x2F;&#x2F; jsæ‰“åŒ…ç‰ˆæœ¬æ§åˆ¶</span><br><span class="line">        config.output.filename &#x3D; &#96;static&#x2F;js&#x2F;[name].[hash:8].$&#123;Timestamp&#125;.js&#96;,</span><br><span class="line">        config.output.chunkFilename &#x3D; &#96;static&#x2F;js&#x2F;[name].[hash:8].$&#123;Timestamp&#125;.js&#96;,</span><br><span class="line">        &#x2F;&#x2F; Gzipå‹ç¼©</span><br><span class="line">        config.plugins.push(new CompressionWebpackPlugin(&#123;</span><br><span class="line">            filename: &quot;[path].gz[query]&quot;,</span><br><span class="line">            algorithm: &#39;gzip&#39;,</span><br><span class="line">            test: new RegExp(&quot;\\.(&quot; + productionGzipExtensions.join(&quot;|&quot;) + &quot;)$&quot;), &#x2F;&#x2F;åŒ¹é…æ–‡ä»¶å</span><br><span class="line">            threshold: 10240,</span><br><span class="line">            minRatio: 0.8,</span><br><span class="line">            deleteOriginalAssets: false &#x2F;&#x2F;æ˜¯å¦åˆ é™¤æºæ–‡ä»¶(é»˜è®¤)</span><br><span class="line">        &#125;))</span><br><span class="line">    &#125;,</span><br><span class="line">    devServer: &#123;</span><br><span class="line">        port: 8088,</span><br><span class="line">        proxy: &#123;</span><br><span class="line">            &#39;&#x2F;xxx&#x2F;api&#39;: &#123;</span><br><span class="line">                target: &#39;http:&#x2F;&#x2F;api.xxx.cn&#x2F;xxx&#x2F;api&#39;,</span><br><span class="line">                changeOrigin: true,</span><br><span class="line">                ws: true,&#x2F;&#x2F;websocket</span><br><span class="line">                pathRewrite: &#123;</span><br><span class="line">                    &#39;^&#x2F;xxx&#x2F;api&#39;: &#39;&#39;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

 
      <!-- reward -->
      
    </div>
    

    <!-- copyright -->
    
    <footer class="article-footer">
       
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/vue/" rel="tag">vue</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/vue-cli/" rel="tag">vue-cli</a></li></ul>

    </footer>
  </div>

    
 
   
</article>

    
    <article
  id="post-webpackè¯¦è§£"
  class="article article-type-post"
  itemscope
  itemprop="blogPost"
  data-scroll-reveal
>
  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2020/10/07/webpack%E8%AF%A6%E8%A7%A3/"
    >webpackè¯¦è§£</a> 
</h2>
 

    </header>
     
    <div class="article-meta">
      <a href="/2020/10/07/webpack%E8%AF%A6%E8%A7%A3/" class="article-date">
  <time datetime="2020-10-07T14:53:21.000Z" itemprop="datePublished">2020-10-07</time>
</a> 
  <div class="article-category">
    <a class="article-category-link" href="/categories/vue/">vue</a> / <a class="article-category-link" href="/categories/vue/%E5%B7%A5%E5%85%B7/">å·¥å…·</a>
  </div>
   
    </div>
      
    <div class="article-entry" itemprop="articleBody">
       
  <blockquote>
<p><em>webpack</em> æ˜¯ä¸€ä¸ªç°ä»£ JavaScript åº”ç”¨ç¨‹åºçš„<em>é™æ€æ¨¡å—æ‰“åŒ…å™¨(module bundler)</em></p>
</blockquote>
<p><img src="../../../../images/05/wy-01.png" alt="Image text"></p>
<p>å¦‚å›¾æ‰€ç¤ºï¼Œé€šè¿‡webpackå¯ä»¥å¯¹æˆ‘ä»¬çš„é¡¹ç›®æºç é€šè¿‡æˆ‘ä»¬çš„é…ç½®åšå„ç§å„æ ·çš„å¤„ç†ï¼Œæœ€åä¼šå¾—åˆ°ä¸€ç³»åˆ—å¯ä»¥æ”¾åœ¨æœåŠ¡å™¨è¿è¡Œçš„æ–‡ä»¶ã€‚</p>
<p>å¾ˆå¤šæ—¶å€™ï¼Œæˆ‘ä»¬éƒ½æ˜¯å…ˆæ¥è§¦vueå†æ…¢æ…¢æ¥è§¦åˆ°webpackç­‰æ¦‚å¿µçš„ï¼Œé¦–å…ˆæˆ‘ä»¬éœ€è¦æ˜ç¡®çš„æ˜¯ï¼Œvueæ¡†æ¶ç”¨åˆ°äº†webpackï¼Œwebpackä¸ä»…ä»…æ˜¯æœåŠ¡äºvueæ¡†æ¶çš„ï¼Œå®ƒæ˜¯æœåŠ¡äºæ•´ä¸ªå‰ç«¯å·¥ç¨‹åŒ–å¼€å‘çš„ï¼ŒåŒ…æ‹¬æˆ‘ä»¬çš„reactç­‰å„ç§æ¡†æ¶ï¼Œéƒ½å¯ä»¥ç”¨webpackæ¥åšé¡¹ç›®çš„æ¨¡å—åŒ–æ‰“åŒ…ã€‚</p>
<h1 id="æ¦‚å¿µ"><a href="#æ¦‚å¿µ" class="headerlink" title="æ¦‚å¿µ"></a>æ¦‚å¿µ</h1><h2 id="é…ç½®æ–‡ä»¶"><a href="#é…ç½®æ–‡ä»¶" class="headerlink" title="é…ç½®æ–‡ä»¶"></a>é…ç½®æ–‡ä»¶</h2><ul>
<li>webpacké»˜è®¤çš„é…ç½®æ–‡ä»¶æ˜¯webpack.config.js</li>
<li>å¯ä»¥é€šè¿‡ <u>webpack â€“config æŒ‡å®šé…ç½®æ–‡ä»¶</u> æ¥ä¿®æ”¹é»˜è®¤é…ç½®æ–‡ä»¶</li>
</ul>
<h2 id="æ–‡ä»¶ç»„æˆ"><a href="#æ–‡ä»¶ç»„æˆ" class="headerlink" title="æ–‡ä»¶ç»„æˆ"></a>æ–‡ä»¶ç»„æˆ</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">module.exports &#x3D; &#123;</span><br><span class="line">	&#x2F;&#x2F;1.æ‰“åŒ…çš„å…¥å£æ–‡ä»¶ï¼Œé»˜è®¤æ˜¯ä¸‹é¢é…ç½®</span><br><span class="line">	entry:&#39;.&#x2F;src&#x2F;index.js&#39;,</span><br><span class="line">	&#x2F;&#x2F;2.æ‰“åŒ…çš„è¾“å‡ºï¼Œé»˜è®¤æ˜¯ä¸‹é¢é…ç½®</span><br><span class="line">	output:&#123;</span><br><span class="line">    path: &#39;.&#x2F;dist&#39;,</span><br><span class="line">    filename: &#39;main.js&#39;</span><br><span class="line">  &#125;,</span><br><span class="line">	&#x2F;&#x2F;3.ç¯å¢ƒ</span><br><span class="line">	mode:&#39;production&#39;,</span><br><span class="line">	&#x2F;&#x2F;4.loaderæ¨¡å—</span><br><span class="line">	module:&#123;</span><br><span class="line">		rules:[</span><br><span class="line">			&#123;test:&#39;&#x2F;\.txt$&#x2F;&#39;,use:&#39;raw-loader&#39;&#125;</span><br><span class="line">		]</span><br><span class="line">	&#125;,</span><br><span class="line">	&#x2F;&#x2F;5.æ’ä»¶é…ç½®</span><br><span class="line">	plugins:[</span><br><span class="line">		new HtmlwebpackPlugin(&#123;</span><br><span class="line">			template:&#39;.&#x2F;src&#x2F;index.html&#39;</span><br><span class="line">		&#125;)</span><br><span class="line">	]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>webpackæœ‰å››ä¸ª<strong>æ ¸å¿ƒæ¦‚å¿µ</strong>ï¼š</p>
<ul>
<li>å…¥å£(entry)</li>
<li>è¾“å‡º(output)</li>
<li>loader</li>
<li>æ’ä»¶(plugins)</li>
</ul>
<h2 id="webpackå®‰è£…"><a href="#webpackå®‰è£…" class="headerlink" title="webpackå®‰è£…"></a>webpackå®‰è£…</h2><ul>
<li><p>1.å®‰è£…nodeå’Œnpm</p>
<ul>
<li><p>ç›´æ¥ä¸‹è½½nodeå®‰è£…å³å¯ï¼Œnpmå†…ç½®åœ¨nodeåŒ…ä¸­ï¼Œä¼šåŒæ­¥å®‰è£…</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">node -v</span><br><span class="line">npm -v</span><br><span class="line">å¯ä»¥æŸ¥çœ‹ç‰ˆæœ¬</span><br></pre></td></tr></table></figure>
</li>
<li><p>é€šè¿‡npmå®‰è£…webpackå’Œwebpak-cli</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F;å»ºè®®å±€éƒ¨å®‰è£…ï¼Œæ‰€ä»¥å…ˆåˆ›å»ºä¸€ä¸ªé¡¹ç›®</span><br><span class="line">mkdir mywebpack</span><br><span class="line">&#x2F;&#x2F;è¿›å…¥åˆ°é¡¹ç›®ä¸­</span><br><span class="line">cd mywebpack</span><br><span class="line">&#x2F;&#x2F;åˆå§‹åŒ–npm</span><br><span class="line">npm init -y</span><br><span class="line">&#x2F;&#x2F;å®‰è£…å±€éƒ¨çš„webpackå’Œwebpack-cliï¼ˆ4.0ä»¥ä¸Šç‰ˆæœ¬éœ€è¦å•ç‹¬å®‰è£…cliï¼‰</span><br><span class="line">npm install webpack webpack-cli --save-dev</span><br><span class="line">&#x2F;&#x2F;æŸ¥çœ‹æ˜¯å¦å®‰è£…æˆåŠŸ</span><br><span class="line">.&#x2F;node_modules&#x2F;.bin&#x2F;webpack -v</span><br></pre></td></tr></table></figure>
</li>
<li><p>å®˜æ–¹æ–‡æ¡£ä¹Ÿæ˜¯æé†’è¿›è¡Œå±€éƒ¨å®‰è£…</p>
</li>
</ul>
</li>
</ul>
<h2 id="ç®€å•ä¾‹å­"><a href="#ç®€å•ä¾‹å­" class="headerlink" title="ç®€å•ä¾‹å­"></a>ç®€å•ä¾‹å­</h2><p><img src="../../../../images/05/wy-02.png" alt="Image text"></p>
<p>é€šè¿‡ä¸Šé¢å®‰è£…å’Œé¡¹ç›®åˆ›å»ºï¼Œæˆ‘ä»¬å¯ä»¥ç”Ÿæˆç±»ä¼¼å¦‚ä¸Šå›¾æ‰€ç¤ºçš„é¡¹ç›®</p>
<ul>
<li><p>1.æ–°å»ºwebpack.config.jsæ–‡ä»¶</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">const path&#x3D;require(&#39;path&#39;) &#x2F;&#x2F;pathæ˜¯nodeä¸­çš„æ ¸å¿ƒåº“ï¼Œç”¨æ¥ç»„æˆæ–‡ä»¶è·¯å¾„</span><br><span class="line"></span><br><span class="line">module.exports &#x3D; &#123;</span><br><span class="line">	&#x2F;&#x2F;1.æ‰“åŒ…çš„å…¥å£æ–‡ä»¶ï¼Œé»˜è®¤æ˜¯ä¸‹é¢é…ç½®</span><br><span class="line">	entry:&#39;.&#x2F;src&#x2F;index.js&#39;,</span><br><span class="line">	&#x2F;&#x2F;2.æ‰“åŒ…çš„è¾“å‡ºï¼Œé»˜è®¤æ˜¯ä¸‹é¢é…ç½®</span><br><span class="line">  output:&#123;</span><br><span class="line">    path: path.join(__dirname,&#39;dist&#39;),</span><br><span class="line">    filename: &#39;main.js&#39;</span><br><span class="line">  &#125;,</span><br><span class="line">	&#x2F;&#x2F;3.ç¯å¢ƒ</span><br><span class="line">	mode:&#39;production&#39;,</span><br><span class="line">	&#x2F;&#x2F;4.loaderæ¨¡å—</span><br><span class="line">	module:&#123;</span><br><span class="line">	</span><br><span class="line">	&#125;,</span><br><span class="line">	&#x2F;&#x2F;5.æ’ä»¶é…ç½®</span><br><span class="line">	plugins:[</span><br><span class="line">	</span><br><span class="line">	]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>2.é…ç½®package.jsonè„šæœ¬</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  &quot;name&quot;: &quot;webpacktest&quot;,</span><br><span class="line">  &quot;version&quot;: &quot;1.0.0&quot;,</span><br><span class="line">  &quot;description&quot;: &quot;&quot;,</span><br><span class="line">  &quot;main&quot;: &quot;index.js&quot;,</span><br><span class="line">  &quot;scripts&quot;: &#123;</span><br><span class="line">    &quot;test&quot;: &quot;echo \&quot;Error: no test specified\&quot; &amp;&amp; exit 1&quot;,</span><br><span class="line">    &quot;build&quot;:&quot;webpack&quot;   &#x2F;&#x2F;è¯¥è„šæœ¬ä¼šè‡ªåŠ¨å¯»æ‰¾.&#x2F;node_modules&#x2F;.bin&#x2F;webpack</span><br><span class="line">  &#125;,</span><br><span class="line">  &quot;keywords&quot;: [],</span><br><span class="line">  &quot;author&quot;: &quot;&quot;,</span><br><span class="line">  &quot;license&quot;: &quot;ISC&quot;,</span><br><span class="line">  &quot;devDependencies&quot;: &#123;</span><br><span class="line">    &quot;webpack&quot;: &quot;^4.44.2&quot;,</span><br><span class="line">    &quot;webpack-cli&quot;: &quot;^3.3.12&quot;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>3.æ–°å»ºsrcç›®å½•å’Œå…¥å£index.jsæ–‡ä»¶</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F;ç®€å•è¾“å‡ºä¸€ä¸ªæ–‡æœ¬å†…å®¹</span><br><span class="line">document.write(&#39;hello webpack&#39;)</span><br></pre></td></tr></table></figure>
</li>
<li><p>4.æ–°å»ºé¡µé¢æ–‡ä»¶index.html</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&lt;html lang&#x3D;&quot;en&quot;&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">  &lt;meta charset&#x3D;&quot;UTF-8&quot;&gt;</span><br><span class="line">  &lt;meta name&#x3D;&quot;viewport&quot; content&#x3D;&quot;width&#x3D;device-width, initial-scale&#x3D;1.0&quot;&gt;</span><br><span class="line">  &lt;title&gt;Document&lt;&#x2F;title&gt;</span><br><span class="line">  &lt;script src&#x3D;&quot;..&#x2F;dist&#x2F;main.js&quot;&gt;&lt;&#x2F;script&gt;</span><br><span class="line">&lt;&#x2F;head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">  </span><br><span class="line">&lt;&#x2F;body&gt;</span><br><span class="line">&lt;&#x2F;html&gt;</span><br></pre></td></tr></table></figure>

<p>å¯ä»¥çœ‹åˆ°ï¼Œå¼•ç”¨äº†dist/main.jsæ–‡ä»¶ï¼Œæ­¤æ—¶ï¼Œè¯¥æ–‡ä»¶è¿˜æ²¡æœ‰ç”Ÿæˆï¼Œéœ€è¦æˆ‘ä»¬é€šè¿‡webpackæ¥æ‰§è¡Œç”Ÿæˆè¯¥æ–‡ä»¶</p>
</li>
<li><p>5.æ‰“åŒ…</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm run build  &#x2F;&#x2F;è¿™é‡Œæ‰§è¡Œçš„å°±æ˜¯npmçš„package.jsonä¸­çš„è„šæœ¬build</span><br></pre></td></tr></table></figure>
</li>
<li><p>6.æµè§ˆå™¨æ‰“å¼€index.htmlï¼Œå°±å¯ä»¥çœ‹åˆ°è¾“å‡ºçš„å†…å®¹</p>
</li>
</ul>
<h1 id="ç»„æˆ"><a href="#ç»„æˆ" class="headerlink" title="ç»„æˆ"></a>ç»„æˆ</h1><h2 id="å…¥å£entry"><a href="#å…¥å£entry" class="headerlink" title="å…¥å£entry"></a>å…¥å£entry</h2><blockquote>
<ul>
<li>ç”¨æ¥æŒ‡å®šé¡¹ç›®çš„æ‰“åŒ…å…¥å£</li>
<li>å•å…¥å£ï¼šentryæ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²</li>
<li>å¤šå…¥å£ï¼šentryæ˜¯ä¸€ä¸ªå¯¹è±¡</li>
</ul>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">module.exports &#x3D; &#123;</span><br><span class="line">	&#x2F;&#x2F;1.å•é¡µé¢</span><br><span class="line">	entry:&#39;.&#x2F;src&#x2F;index.js&#39;,</span><br><span class="line">&#125;</span><br><span class="line">	</span><br><span class="line">module.exports &#x3D; &#123;</span><br><span class="line">	&#x2F;&#x2F;1.å¤šé¡µé¢</span><br><span class="line">	entry:&#123;</span><br><span class="line">		app1:&#39;.&#x2F;src&#x2F;index1.js&#39;,</span><br><span class="line">		app2:&#39;.&#x2F;src&#x2F;index2.js&#39;,</span><br><span class="line">	&#125;</span><br><span class="line">&#125;	</span><br><span class="line">	</span><br></pre></td></tr></table></figure>

<h2 id="è¾“å‡º-output"><a href="#è¾“å‡º-output" class="headerlink" title="è¾“å‡º output"></a>è¾“å‡º output</h2><blockquote>
<ul>
<li>ç”¨æ¥æŒ‡å®šæ‰“åŒ…è¾“å‡ºæ–‡ä»¶</li>
<li>outputå¯¹åº”çš„æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œæœ‰pathå’Œfilenameä¸¤ä¸ªå±æ€§</li>
<li>pathï¼šæ‰“åŒ…è·¯å¾„</li>
<li>filenameï¼šæ‰“åŒ…å‡ºæ¥çš„æ–‡ä»¶åç§°</li>
</ul>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">const path&#x3D;require(&#39;path&#39;)</span><br><span class="line">module.exports &#x3D; &#123;</span><br><span class="line">	&#x2F;&#x2F;1.å¤šé¡µé¢</span><br><span class="line">	entry:&#123;</span><br><span class="line">		app1:&#39;.&#x2F;src&#x2F;index1.js&#39;,</span><br><span class="line">		app2:&#39;.&#x2F;src&#x2F;index2.js&#39;,</span><br><span class="line">	&#125;,</span><br><span class="line">	output:&#123;</span><br><span class="line">		path:path.join(__dirname,&#39;dist&#39;),&#x2F;&#x2F;é€šè¿‡nodeä¸­çš„pathæ¥åˆ¶å®šè·¯å¾„</span><br><span class="line">		filename:&#39;[name].js&#39; &#x2F;&#x2F;é€šè¿‡å ä½ç¬¦nameæ¥å…¼å®¹å¤šé¡µé¢å…¥å£</span><br><span class="line">	&#125;</span><br><span class="line">&#125;	</span><br></pre></td></tr></table></figure>

<h2 id="loaders"><a href="#loaders" class="headerlink" title="loaders"></a>loaders</h2><blockquote>
<ul>
<li>webpackåŸç”Ÿåªæ”¯æŒjså’Œjsonæ–‡ä»¶ç±»å‹ï¼Œé€šè¿‡loaderså¯ä»¥å»æ”¯æŒå…¶ä»–ç±»å‹çš„æ–‡ä»¶å¹¶ä¸”è½¬åŒ–ä¸ºæœ‰æ•ˆçš„æ¨¡å—æ·»åŠ åˆ°ä¾èµ–å›¾ä¸­</li>
<li>æœ¬èº«æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œé€šè¿‡æ¥æ”¶æºæ–‡ä»¶ä½œä¸ºå‚æ•°ï¼Œè¿”å›è½¬æ¢çš„ç»“æœ</li>
<li>å¯¹ä¸€ä¸ªå¯¹è±¡</li>
</ul>
</blockquote>
<h3 id="å¸¸ç”¨çš„loaders"><a href="#å¸¸ç”¨çš„loaders" class="headerlink" title="å¸¸ç”¨çš„loaders"></a>å¸¸ç”¨çš„loaders</h3><p><img src="../../../../images/05/wy-03.png" alt="Image text"></p>
<h3 id="ç”¨æ³•"><a href="#ç”¨æ³•" class="headerlink" title="ç”¨æ³•"></a>ç”¨æ³•</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">const path&#x3D;require(&#39;path&#39;)</span><br><span class="line">module.exports &#x3D; &#123;</span><br><span class="line">	&#x2F;&#x2F;1.å¤šé¡µé¢</span><br><span class="line">	entry:&#123;</span><br><span class="line">		app1:&#39;.&#x2F;src&#x2F;index1.js&#39;,</span><br><span class="line">		app2:&#39;.&#x2F;src&#x2F;index2.js&#39;,</span><br><span class="line">	&#125;,</span><br><span class="line">	output:&#123;</span><br><span class="line">		path:path.join(__dirname,&#39;dist&#39;),&#x2F;&#x2F;é€šè¿‡nodeä¸­çš„pathæ¥åˆ¶å®šè·¯å¾„</span><br><span class="line">		filename:&#39;[name].js&#39; &#x2F;&#x2F;é€šè¿‡å ä½ç¬¦nameæ¥å…¼å®¹å¤šé¡µé¢å…¥å£</span><br><span class="line">	&#125;,</span><br><span class="line">	module:&#123;</span><br><span class="line">		rules:[</span><br><span class="line">			&#123;test:&#39;&#x2F;\.txt$&#x2F;&#39;,use:&#39;raw-loader&#39;&#125;</span><br><span class="line">		]</span><br><span class="line">	&#125;,</span><br><span class="line">&#125;	</span><br></pre></td></tr></table></figure>

<ul>
<li>testï¼šæŒ‡å®šåŒ¹é…è§„åˆ™ï¼Œæ­£åˆ™</li>
<li>useï¼šè¯¥è§„åˆ™ä¸‹ï¼Œä½¿ç”¨å“ªç§åŠ è½½å™¨</li>
</ul>
<h2 id="plugins"><a href="#plugins" class="headerlink" title="plugins"></a>plugins</h2><blockquote>
<ul>
<li>æ’ä»¶æ˜¯ç”¨äºbundleæ–‡ä»¶çš„ä¼˜åŒ–ï¼Œèµ„æºç®¡ç†å’Œç¯å¢ƒå˜é‡çš„æ³¨å…¥</li>
<li>æ’ä»¶æ˜¯å¯ä»¥ä½œç”¨äºæ•´ä¸ªæ„å»ºè¿‡ç¨‹</li>
<li>æ˜¯ä¸ªæ•°ç»„å¯¹è±¡</li>
</ul>
</blockquote>
<h3 id="å¸¸æœ‰plugins"><a href="#å¸¸æœ‰plugins" class="headerlink" title="å¸¸æœ‰plugins"></a>å¸¸æœ‰plugins</h3><p><img src="../../../../images/05/wy-04.png" alt="Image text"></p>
<h3 id="ç”¨æ³•-1"><a href="#ç”¨æ³•-1" class="headerlink" title="ç”¨æ³•"></a>ç”¨æ³•</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">const path&#x3D;require(&#39;path&#39;)</span><br><span class="line">module.exports &#x3D; &#123;</span><br><span class="line">	&#x2F;&#x2F;1.å¤šé¡µé¢</span><br><span class="line">	entry:&#123;</span><br><span class="line">		app1:&#39;.&#x2F;src&#x2F;index1.js&#39;,</span><br><span class="line">		app2:&#39;.&#x2F;src&#x2F;index2.js&#39;,</span><br><span class="line">	&#125;,</span><br><span class="line">	output:&#123;</span><br><span class="line">		path:path.join(__dirname,&#39;dist&#39;),&#x2F;&#x2F;é€šè¿‡nodeä¸­çš„pathæ¥åˆ¶å®šè·¯å¾„</span><br><span class="line">		filename:&#39;[name].js&#39; &#x2F;&#x2F;é€šè¿‡å ä½ç¬¦nameæ¥å…¼å®¹å¤šé¡µé¢å…¥å£</span><br><span class="line">	&#125;,</span><br><span class="line">	module:&#123;</span><br><span class="line">		rules:[</span><br><span class="line">			&#123;test:&#39;&#x2F;\.txt$&#x2F;&#39;,use:&#39;raw-loader&#39;&#125;</span><br><span class="line">		]</span><br><span class="line">	&#125;,</span><br><span class="line">	plugins:[</span><br><span class="line">		&#x2F;&#x2F;ç›´æ¥å°†æ’ä»¶æ”¾åˆ°æ•°ç»„ä¸­</span><br><span class="line">		new HtmlWebpackPlugin(&#123;templete:&#39;.&#x2F;src&#x2F;index.html&#39;&#125;)</span><br><span class="line">	]</span><br><span class="line">&#125;	</span><br></pre></td></tr></table></figure>

<h2 id="mode"><a href="#mode" class="headerlink" title="mode"></a>mode</h2><blockquote>
<ul>
<li>webpack4ä¹‹åæ‰æå‡ºæ¥çš„æ¦‚å¿µ</li>
<li>ç”¨æ¥æŒ‡å®šå½“å‰çš„æ„å»ºç¯å¢ƒæ˜¯productionï¼Œdevelopmentè¿˜æ˜¯none</li>
<li>è®¾ç½®modeå¯ä»¥é»˜è®¤ä½¿ç”¨webpackå†…ç½®çš„å‡½æ•°ï¼Œé»˜è®¤å€¼æ˜¯production</li>
</ul>
</blockquote>
<p><img src="../../../../images/05/wy-05.png" alt="Image text"></p>
<h1 id="loaderåº”ç”¨"><a href="#loaderåº”ç”¨" class="headerlink" title="loaderåº”ç”¨"></a>loaderåº”ç”¨</h1><h2 id="babel"><a href="#babel" class="headerlink" title="babel"></a>babel</h2><ul>
<li><p>ä½œç”¨ï¼šå°†es6è¯­æ³•è½¬ä¸ºes5è¯­æ³•</p>
</li>
<li><p>æœ¬åœ°å®‰è£…</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F;iæ˜¯installç¼©å†™ã€‚ -Dæ˜¯--save-devç¼©å†™</span><br><span class="line">npm i @babel&#x2F;core @babel&#x2F;preset-env babel-loader -D</span><br></pre></td></tr></table></figure>
</li>
<li><p>é¡¹ç›®ä¸­æ–°å»º.babelrcæ–‡ä»¶ï¼Œå†…å®¹ä¸ºï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  &quot;presets&quot;:[</span><br><span class="line">    &quot;@babel&#x2F;preset-env&quot;</span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>webpack.config.jsæ–‡ä»¶æ·»åŠ loader</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">module: &#123;</span><br><span class="line">  rules: [</span><br><span class="line">    &#123;</span><br><span class="line">      test: &#x2F;.js$&#x2F;,</span><br><span class="line">      use: &#39;babel-loader&#39;</span><br><span class="line">    &#125;</span><br><span class="line">  ]</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure>

</li>
</ul>
<h2 id="è§£æcss"><a href="#è§£æcss" class="headerlink" title="è§£æcss"></a>è§£æcss</h2><blockquote>
<ul>
<li>css-loaderï¼šç”¨äºåŠ è½½.cssæ–‡ä»¶ï¼Œå¹¶ä¸”è½¬åŒ–ä¸ºcommonjså¯¹è±¡</li>
<li>style-loaderï¼šå°†æ ·å¼é€šè¿‡styleæ ‡ç­¾æ’å…¥åˆ°headä¸­</li>
</ul>
</blockquote>
<ul>
<li>æœ¬åœ°å®‰è£…</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm i css-loader style-loader -D</span><br></pre></td></tr></table></figure>

<ul>
<li><p>æ–‡ä»¶é…ç½®</p>
<p>è¿™é‡Œæ³¨æ„ï¼Œå¯¹äºåŒä¸ªæ–‡ä»¶éœ€è¦å¤šä¸ªloaderæ¥å¤„ç†æ—¶ï¼Œéœ€è¦ä½¿ç”¨æ•°ç»„ï¼Œå¹¶ä¸”æ­¤æ—¶loaderæ˜¯ä»å³åˆ°å·¦æ¥æ‰§è¡Œ</p>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">module: &#123;</span><br><span class="line">  rules: [</span><br><span class="line">    &#123;</span><br><span class="line">      test: &#x2F;.js$&#x2F;,</span><br><span class="line">      use: &#39;babel-loader&#39;</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      test: &#x2F;.css$&#x2F;,</span><br><span class="line">      use: [&#39;style-loader&#39;,</span><br><span class="line">        &#39;css-loader&#39;</span><br><span class="line">      ]</span><br><span class="line">    &#125;</span><br><span class="line">  ]</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure>

<h2 id="less"><a href="#less" class="headerlink" title="less"></a>less</h2><blockquote>
<ul>
<li>less</li>
<li>Less-loader</li>
</ul>
</blockquote>
<ul>
<li>æœ¬åœ°å®‰è£…</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm i less less-loader -D</span><br></pre></td></tr></table></figure>

<ul>
<li>æ–‡ä»¶é…ç½®</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">     test: &#x2F;.less$&#x2F;,</span><br><span class="line">     use: [&#39;style-loader&#39;,</span><br><span class="line">       &#39;css-loader&#39;,</span><br><span class="line">       &#39;less-loader&#39;</span><br><span class="line">     ]</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure>

<h2 id="å›¾ç‰‡-å­—ä½“"><a href="#å›¾ç‰‡-å­—ä½“" class="headerlink" title="å›¾ç‰‡/å­—ä½“"></a>å›¾ç‰‡/å­—ä½“</h2><blockquote>
<p>file-loader</p>
</blockquote>
<ul>
<li>æœ¬åœ°å®‰è£…</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm i file-loader -D</span><br></pre></td></tr></table></figure>

<ul>
<li>é…ç½®</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">     test: &#x2F;(jpg|jpeg|png|gif|svg)$&#x2F;,</span><br><span class="line">     use:&#39;file-loader&#39;</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure>





<h1 id="pluginsåº”ç”¨"><a href="#pluginsåº”ç”¨" class="headerlink" title="pluginsåº”ç”¨"></a>pluginsåº”ç”¨</h1><h2 id="çƒ­æ›´æ–°"><a href="#çƒ­æ›´æ–°" class="headerlink" title="çƒ­æ›´æ–°"></a>çƒ­æ›´æ–°</h2><p>é…ç½®ï¼Œè¯¥æ’ä»¶æ˜¯webpackè‡ªå¸¦çš„ï¼Œæ‰€ä»¥å¼•å…¥å³å¯</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">const webpack &#x3D; require(&#39;webpack&#39;)</span><br><span class="line">  &#x2F;&#x2F;3.ç¯å¢ƒ</span><br><span class="line"> mode: &#39;dev&#39;,</span><br><span class="line"> &#x2F;&#x2F;5.æ’ä»¶é…ç½®</span><br><span class="line"> plugins: [</span><br><span class="line">   new webpack.HotModuleReplacementPlugin()</span><br><span class="line"> ],</span><br><span class="line"> devServe:&#123;</span><br><span class="line">   contentBase:&#39;.&#x2F;dist&#39;,</span><br><span class="line">   hot:true</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure>

<p>package.jsoné…ç½®ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&quot;scripts&quot;: &#123;</span><br><span class="line">  &quot;test&quot;: &quot;echo \&quot;Error: no test specified\&quot; &amp;&amp; exit 1&quot;,</span><br><span class="line">  &quot;build&quot;: &quot;webpack&quot;,</span><br><span class="line">  &quot;watch&quot;:&quot;webpack --watch&quot;,</span><br><span class="line">  &quot;dev&quot;:&quot;webpack-dev-serve --open&quot;</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure>

<h2 id="CSSæ–‡ä»¶å‹ç¼©"><a href="#CSSæ–‡ä»¶å‹ç¼©" class="headerlink" title="CSSæ–‡ä»¶å‹ç¼©"></a>CSSæ–‡ä»¶å‹ç¼©</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">&#x2F;&#x2F;1.å…ˆnpmå®‰è£…æ’ä»¶</span><br><span class="line">var OptimizeCSSAssetsPlugin &#x3D; require(&#39;optimize-css-assets-webpack-plugin&#39;);</span><br><span class="line"></span><br><span class="line">plugins: [</span><br><span class="line">   new OptimizeCSSAssetsPlugin(&#123;</span><br><span class="line">   	assetNameRegExp:&#x2F;\.css$&#x2F;g,</span><br><span class="line">   	cssProcessor:require(&#39;cssnano&#39;)</span><br><span class="line">   &#125;)</span><br><span class="line"> ],</span><br></pre></td></tr></table></figure>

<h2 id="HTML-JSæ–‡ä»¶å‹ç¼©"><a href="#HTML-JSæ–‡ä»¶å‹ç¼©" class="headerlink" title="HTML/JSæ–‡ä»¶å‹ç¼©"></a>HTML/JSæ–‡ä»¶å‹ç¼©</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F;å…ˆnpmå®‰è£…</span><br><span class="line">var HtmlWebpackPlugin &#x3D; require(&#39;html-webpack-plugin&#39;);</span><br><span class="line">var path &#x3D; require(&#39;path&#39;);</span><br><span class="line"> plugins: [</span><br><span class="line"> 		&#x2F;&#x2F;å¦‚æœæ˜¯å¤šé¡µé¢åº”ç”¨ï¼Œéœ€è¦ä¸ºæ¯ä¸ªé¡µé¢é…ç½®HtmlWebpackPlugin</span><br><span class="line">    new HtmlWebpackPlugin(&#123;</span><br><span class="line">    	templete:path.join(__dirname,&#39;src&#x2F;index.html&#39;),</span><br><span class="line">    	filename:&#39;index.html&#39;,</span><br><span class="line">    	chunks:[&#39;index&#39;],</span><br><span class="line">    	inject:true,</span><br><span class="line">    	minify:&#123;</span><br><span class="line">    		html5:true,</span><br><span class="line">    		collapseWhitespace:true,</span><br><span class="line">    		preserveLineBreaks:false,</span><br><span class="line">    		minifyCSS:true,</span><br><span class="line">    		minifyJS:true,</span><br><span class="line">    		removeComments:false</span><br><span class="line">    	&#125;</span><br><span class="line">    &#125;)</span><br><span class="line">  ],</span><br></pre></td></tr></table></figure>

<h2 id="è‡ªåŠ¨æ¸…é™¤æ„å»ºç›®å½•"><a href="#è‡ªåŠ¨æ¸…é™¤æ„å»ºç›®å½•" class="headerlink" title="è‡ªåŠ¨æ¸…é™¤æ„å»ºç›®å½•"></a>è‡ªåŠ¨æ¸…é™¤æ„å»ºç›®å½•</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F;1.å…ˆnpmå®‰è£…æ’ä»¶</span><br><span class="line">var CleanWebpackPlugin &#x3D; require(&#39;clean-webpack-plugin&#39;);</span><br><span class="line"></span><br><span class="line">plugins: [</span><br><span class="line">   new CleanWebpackPlugin()</span><br><span class="line"> ],</span><br></pre></td></tr></table></figure>

<h1 id="postCSS"><a href="#postCSS" class="headerlink" title="postCSS"></a>postCSS</h1><p>postcss ä¸€ç§å¯¹cssç¼–è¯‘çš„å·¥å…·ï¼Œç±»ä¼¼babelå¯¹jsçš„å¤„ç†ï¼Œå¸¸è§çš„åŠŸèƒ½å¦‚ï¼š</p>
<p>1 . ä½¿ç”¨ä¸‹ä¸€ä»£cssè¯­æ³•</p>
<p>2 . è‡ªåŠ¨è¡¥å…¨æµè§ˆå™¨å‰ç¼€</p>
<p>3 . è‡ªåŠ¨æŠŠpxä»£ä¸ºè½¬æ¢æˆrem</p>
<p>4 . css ä»£ç å‹ç¼©ç­‰ç­‰</p>
<p>postcss åªæ˜¯ä¸€ä¸ªå·¥å…·ï¼Œæœ¬èº«ä¸ä¼šå¯¹cssä¸€é¡¿æ“ä½œï¼Œå®ƒé€šè¿‡æ’ä»¶å®ç°åŠŸèƒ½ï¼Œautoprefixer å°±æ˜¯å…¶ä¸€ã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F;postcss.config.js</span><br><span class="line">&#x2F;&#x2F;</span><br><span class="line">&#x2F;&#x2F;1.cssè‡ªåŠ¨æ·»åŠ å‰ç¼€</span><br><span class="line">npm i postcss-loader autoprefixer postcss-cssnext postcss-pxtorem -D</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">module.exports &#x3D; &#123;</span><br><span class="line">	rules:[</span><br><span class="line">		&#123;</span><br><span class="line">			test:&#x2F;\.css$&#x2F;g,</span><br><span class="line">			exclude:&#x2F;node_modules&#x2F;,</span><br><span class="line">			use:[</span><br><span class="line">				&#123;loader:&#39;style-loader&#39;&#125;,</span><br><span class="line">				&#123;loader:&#39;css-loader&#39;,options:&#123;</span><br><span class="line">					importLoaders:1</span><br><span class="line">				&#125;&#125;,</span><br><span class="line">				&#123;loader:&#39;postcss-loader&#39;&#125;</span><br><span class="line">			]</span><br><span class="line">		&#125;</span><br><span class="line">	],</span><br><span class="line">  plugins: &#123;</span><br><span class="line">    &#39;autoprefixer&#39;: &#123;</span><br><span class="line">      overrideBrowserslist: [</span><br><span class="line">        &quot;Android 4.1&quot;,</span><br><span class="line">        &quot;iOS 7.1&quot;,</span><br><span class="line">        &quot;Chrome &gt; 31&quot;,</span><br><span class="line">        &quot;ff &gt; 31&quot;,</span><br><span class="line">        &quot;ie &gt;&#x3D; 8&quot;</span><br><span class="line">      ]</span><br><span class="line">    &#125;,</span><br><span class="line">    &#39;postcss-pxtorem&#39;: &#123;</span><br><span class="line">      rootValue: 75, &#x2F;&#x2F;åœ¨htmlèŠ‚ç‚¹è®¾ç½®çš„font-sizeå¤§å°</span><br><span class="line">      unitPrecision:5,&#x2F;&#x2F;è½¬remå°æ•°ç‚¹ä½æ•°</span><br><span class="line">      propList: [&#39;*&#39;],	&#x2F;&#x2F;æŒ‡å®šè½¬æˆremçš„å±æ€§ï¼Œæ¯”å¦‚font-size,*è¡¨ç¤ºå…¨éƒ¨</span><br><span class="line">      mediaQuery:false,&#x2F;&#x2F;åª’ä½“æŸ¥è¯¢æ—¶æ˜¯å¦è½¬åŒ–</span><br><span class="line">      minPixelValue:0,&#x2F;&#x2F;å°äºå¤šå°‘pxä¸è½¬ä¸ºrem</span><br><span class="line">      selectorBlackList:[&#39;.van&#39;]</span><br><span class="line">      &#x2F;&#x2F;ç‰¹æ®ŠæŠ€å·§:ä¸è½¬æ¢æˆremï¼Œpxæ£€æµ‹åŒºåˆ†å¤§å°å†™ï¼Œä¹Ÿå°±æ˜¯è¯´Px&#x2F;PX&#x2F;pXä¸ä¼šè¢«è½¬æ¢ï¼Œå¯ä»¥ç”¨è¿™ä¸ªæ–¹å¼é¿å…è½¬æ¢æˆrem</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="font-sizeé€‚é…"><a href="#font-sizeé€‚é…" class="headerlink" title="font-sizeé€‚é…"></a>font-sizeé€‚é…</h2><ul>
<li>1.postcss-pxtorem</li>
<li>2.ç»“åˆlib-flexible.jsï¼ˆæ ¹æ®remåŠ¨æ€è®¡ç®—font-sizeå•ä½ï¼‰</li>
</ul>
<h1 id="å…¶ä»–é…ç½®"><a href="#å…¶ä»–é…ç½®" class="headerlink" title="å…¶ä»–é…ç½®"></a>å…¶ä»–é…ç½®</h1><h2 id="æ–‡ä»¶æŒ‡çº¹hash"><a href="#æ–‡ä»¶æŒ‡çº¹hash" class="headerlink" title="æ–‡ä»¶æŒ‡çº¹hash"></a>æ–‡ä»¶æŒ‡çº¹hash</h2><blockquote>
<ul>
<li>Hashï¼šåªæœ‰é¡¹ç›®ä¸­æœ‰æ–‡ä»¶å˜åŠ¨äº†ï¼Œhashå€¼å°±ä¼šå˜åŒ–</li>
<li>chunkhashï¼šå’Œwebpackæ‰“åŒ…çš„chunkæœ‰å…³ï¼Œä¸åŒçš„entryä¼šç”Ÿæˆä¸åŒçš„chunkhashå€¼</li>
<li>contenthashï¼šæ ¹æ®æ–‡ä»¶å†…å®¹æ¥å®šä¹‰hashï¼Œåªæœ‰æ–‡ä»¶å†…å®¹æœ‰å˜åŠ¨ï¼Œhashå°±ä¼šå˜åŒ–</li>
</ul>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">const path&#x3D;require(&#39;path&#39;)</span><br><span class="line">module.exports &#x3D; &#123;</span><br><span class="line">	&#x2F;&#x2F;1.å¤šé¡µé¢</span><br><span class="line">	entry:&#123;</span><br><span class="line">		app1:&#39;.&#x2F;src&#x2F;index1.js&#39;,</span><br><span class="line">		app2:&#39;.&#x2F;src&#x2F;index2.js&#39;,</span><br><span class="line">	&#125;,</span><br><span class="line">	output:&#123;</span><br><span class="line">		path:path.join(__dirname,&#39;dist&#39;),&#x2F;&#x2F;é€šè¿‡nodeä¸­çš„pathæ¥åˆ¶å®šè·¯å¾„</span><br><span class="line">		&#x2F;&#x2F;jsæ–‡ä»¶ç”¨chunkhash</span><br><span class="line">		filename:&#39;[name][chunkhash:8].js&#39; &#x2F;&#x2F;é€šè¿‡å ä½ç¬¦nameæ¥å…¼å®¹å¤šé¡µé¢å…¥å£</span><br><span class="line">	&#125;,</span><br><span class="line">	module:&#123;</span><br><span class="line">		rules:[</span><br><span class="line">			&#x2F;&#x2F;æ–‡ä»¶å›¾ç‰‡ç”¨hash</span><br><span class="line">			&#123;test:&#39;&#x2F;\.(png|jpeg|jpg|gif)$&#x2F;&#39;,use:[</span><br><span class="line">				&#123;loader:&quot;file-loader&quot;,</span><br><span class="line">				options:&#123;</span><br><span class="line">					name:[name][hash:8].[ext]</span><br><span class="line">				&#125;&#125;</span><br><span class="line">			]&#125;</span><br><span class="line">		]</span><br><span class="line">	&#125;,</span><br><span class="line">	plugins:[</span><br><span class="line">		&#x2F;&#x2F;cssæ–‡ä»¶ç”¨contenthash</span><br><span class="line">		new MiniCssExtractPlugin(&#123;</span><br><span class="line">			filename:&#96;[name][contenthash:8].css&#96;</span><br><span class="line">		&#125;)</span><br><span class="line">	]</span><br><span class="line">&#125;	</span><br></pre></td></tr></table></figure>

<p><img src="../../../../images/05/wy-06.png" alt="Image text"></p>
 
      <!-- reward -->
      
    </div>
    

    <!-- copyright -->
    
    <footer class="article-footer">
       
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/webpack/" rel="tag">webpack</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E5%B7%A5%E5%85%B7/" rel="tag">å·¥å…·</a></li></ul>

    </footer>
  </div>

    
 
   
</article>

    
  </article>
  

  
  <nav class="page-nav">
    
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="extend next" rel="next" href="/page/2/">ä¸‹ä¸€é¡µ</a>
  </nav>
  
</section>
</div>

      <footer class="footer">
  <div class="outer">
    <ul>
      <li>
        Copyrights &copy;
        2015-2020
        <i class="ri-heart-fill heart_icon"></i> YOUNG
      </li>
    </ul>
    <ul>
      <li>
        
        
        
        Powered by <a href="https://hexo.io" target="_blank">Hexo</a>
        <span class="division">|</span>
        Theme - <a href="https://github.com/Shen-Yu/hexo-theme-ayer" target="_blank">Ayer</a>
        
      </li>
    </ul>
    <ul>
      <li>
        
        
        <span>
  <span><i class="ri-user-3-fill"></i>Visitors:<span id="busuanzi_value_site_uv"></span></s>
  <span class="division">|</span>
  <span><i class="ri-eye-fill"></i>Views:<span id="busuanzi_value_page_pv"></span></span>
</span>
        
      </li>
    </ul>
    <ul>
      
    </ul>
    <ul>
      
    </ul>
    <ul>
      <li>
        <!-- cnzzç»Ÿè®¡ -->
        
        <script type="text/javascript" src=''></script>
        
      </li>
    </ul>
  </div>
</footer>
      <div class="float_btns">
        <div class="totop" id="totop">
  <i class="ri-arrow-up-line"></i>
</div>

<div class="todark" id="todark">
  <i class="ri-moon-line"></i>
</div>

      </div>
    </main>
    <aside class="sidebar on">
      <button class="navbar-toggle"></button>
<nav class="navbar">
  
  <div class="logo">
    <a href="/"><img src="/images/ayer-side.svg" alt="YOUNG BLOG"></a>
  </div>
  
  <ul class="nav nav-main">
    
    <li class="nav-item">
      <a class="nav-item-link" href="/">ä¸»é¡µ</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" href="/archives">å½’æ¡£</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" href="/categories">åˆ†ç±»</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" href="/tags">æ ‡ç­¾</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" href="/tags/%E6%97%85%E8%A1%8C/">æ—…è¡Œ</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" target="_blank" rel="noopener" href="http://shenyu-vip.lofter.com">æ‘„å½±</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" href="/friends">å‹é“¾</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" href="/2019/about">å…³äºæˆ‘</a>
    </li>
    
  </ul>
</nav>
<nav class="navbar navbar-bottom">
  <ul class="nav">
    <li class="nav-item">
      
      <a class="nav-item-link nav-item-search"  title="Search">
        <i class="ri-search-line"></i>
      </a>
      
      
      <a class="nav-item-link" target="_blank" href="/atom.xml" title="RSS Feed">
        <i class="ri-rss-line"></i>
      </a>
      
    </li>
  </ul>
</nav>
<div class="search-form-wrap">
  <div class="local-search local-search-plugin">
  <input type="search" id="local-search-input" class="local-search-input" placeholder="Search...">
  <div id="local-search-result" class="local-search-result"></div>
</div>
</div>
    </aside>
    <script>
      if (window.matchMedia("(max-width: 768px)").matches) {
        document.querySelector('.content').classList.remove('on');
        document.querySelector('.sidebar').classList.remove('on');
      }
    </script>
    <div id="mask"></div>

<!-- #reward -->
<div id="reward">
  <span class="close"><i class="ri-close-line"></i></span>
  <p class="reward-p"><i class="ri-cup-line"></i>è¯·æˆ‘å–æ¯å’–å•¡å§~</p>
  <div class="reward-box">
    
    
  </div>
</div>
    
<script src="/js/jquery-2.0.3.min.js"></script>


<script src="/js/lazyload.min.js"></script>

<!-- Tocbot -->

<script src="https://cdn.jsdelivr.net/npm/jquery-modal@0.9.2/jquery.modal.min.js"></script>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/jquery-modal@0.9.2/jquery.modal.min.css">
<script src="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/js/jquery.justifiedGallery.min.js"></script>

<script src="/dist/main.js"></script>

<!-- ImageViewer -->

<!-- Root element of PhotoSwipe. Must have class pswp. -->
<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

    <!-- Background of PhotoSwipe. 
         It's a separate element as animating opacity is faster than rgba(). -->
    <div class="pswp__bg"></div>

    <!-- Slides wrapper with overflow:hidden. -->
    <div class="pswp__scroll-wrap">

        <!-- Container that holds slides. 
            PhotoSwipe keeps only 3 of them in the DOM to save memory.
            Don't modify these 3 pswp__item elements, data is added later on. -->
        <div class="pswp__container">
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
        </div>

        <!-- Default (PhotoSwipeUI_Default) interface on top of sliding area. Can be changed. -->
        <div class="pswp__ui pswp__ui--hidden">

            <div class="pswp__top-bar">

                <!--  Controls are self-explanatory. Order can be changed. -->

                <div class="pswp__counter"></div>

                <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>

                <button class="pswp__button pswp__button--share" style="display:none" title="Share"></button>

                <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>

                <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>

                <!-- Preloader demo http://codepen.io/dimsemenov/pen/yyBWoR -->
                <!-- element will get class pswp__preloader--active when preloader is running -->
                <div class="pswp__preloader">
                    <div class="pswp__preloader__icn">
                        <div class="pswp__preloader__cut">
                            <div class="pswp__preloader__donut"></div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
                <div class="pswp__share-tooltip"></div>
            </div>

            <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
            </button>

            <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
            </button>

            <div class="pswp__caption">
                <div class="pswp__caption__center"></div>
            </div>

        </div>

    </div>

</div>

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.css">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.min.css">
<script src="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js"></script>

<script>
    function viewer_init() {
        let pswpElement = document.querySelectorAll('.pswp')[0];
        let $imgArr = document.querySelectorAll(('.article-entry img:not(.reward-img)'))

        $imgArr.forEach(($em, i) => {
            $em.onclick = () => {
                // sliderå±•å¼€çŠ¶æ€
                // todo: è¿™æ ·ä¸å¥½ï¼Œåé¢æ”¹æˆçŠ¶æ€
                if (document.querySelector('.left-col.show')) return
                let items = []
                $imgArr.forEach(($em2, i2) => {
                    let img = $em2.getAttribute('data-idx', i2)
                    let src = $em2.getAttribute('data-target') || $em2.getAttribute('src')
                    let title = $em2.getAttribute('alt')
                    // è·å¾—åŸå›¾å°ºå¯¸
                    const image = new Image()
                    image.src = src
                    items.push({
                        src: src,
                        w: image.width || $em2.width,
                        h: image.height || $em2.height,
                        title: title
                    })
                })
                var gallery = new PhotoSwipe(pswpElement, PhotoSwipeUI_Default, items, {
                    index: parseInt(i)
                });
                gallery.init()
            }
        })
    }
    viewer_init()
</script>

<!-- MathJax -->

<!-- Katex -->

<!-- busuanzi  -->


<script src="/js/busuanzi-2.3.pure.min.js"></script>


<!-- ClickLove -->

<!-- ClickBoom1 -->

<!-- ClickBoom2 -->

<!-- CodeCopy -->


<link rel="stylesheet" href="/css/clipboard.css">

<script src="https://cdn.jsdelivr.net/npm/clipboard@2/dist/clipboard.min.js"></script>
<script>
  function wait(callback, seconds) {
    var timelag = null;
    timelag = window.setTimeout(callback, seconds);
  }
  !function (e, t, a) {
    var initCopyCode = function(){
      var copyHtml = '';
      copyHtml += '<button class="btn-copy" data-clipboard-snippet="">';
      copyHtml += '<i class="ri-file-copy-2-line"></i><span>COPY</span>';
      copyHtml += '</button>';
      $(".highlight .code pre").before(copyHtml);
      $(".article pre code").before(copyHtml);
      var clipboard = new ClipboardJS('.btn-copy', {
        target: function(trigger) {
          return trigger.nextElementSibling;
        }
      });
      clipboard.on('success', function(e) {
        let $btn = $(e.trigger);
        $btn.addClass('copied');
        let $icon = $($btn.find('i'));
        $icon.removeClass('ri-file-copy-2-line');
        $icon.addClass('ri-checkbox-circle-line');
        let $span = $($btn.find('span'));
        $span[0].innerText = 'COPIED';
        
        wait(function () { // ç­‰å¾…ä¸¤ç§’é’Ÿåæ¢å¤
          $icon.removeClass('ri-checkbox-circle-line');
          $icon.addClass('ri-file-copy-2-line');
          $span[0].innerText = 'COPY';
        }, 2000);
      });
      clipboard.on('error', function(e) {
        e.clearSelection();
        let $btn = $(e.trigger);
        $btn.addClass('copy-failed');
        let $icon = $($btn.find('i'));
        $icon.removeClass('ri-file-copy-2-line');
        $icon.addClass('ri-time-line');
        let $span = $($btn.find('span'));
        $span[0].innerText = 'COPY FAILED';
        
        wait(function () { // ç­‰å¾…ä¸¤ç§’é’Ÿåæ¢å¤
          $icon.removeClass('ri-time-line');
          $icon.addClass('ri-file-copy-2-line');
          $span[0].innerText = 'COPY';
        }, 2000);
      });
    }
    initCopyCode();
  }(window, document);
</script>


<!-- CanvasBackground -->


    
  </div>
</body>

</html>